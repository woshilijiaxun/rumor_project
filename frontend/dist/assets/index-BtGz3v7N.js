(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();/**
* @vue/shared v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function wf(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const gt={},Ya=[],en=()=>{},$0=()=>!1,Xo=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ef=t=>t.startsWith("onUpdate:"),Yt=Object.assign,xf=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},Z0=Object.prototype.hasOwnProperty,lt=(t,e)=>Z0.call(t,e),We=Array.isArray,Xa=t=>ps(t)==="[object Map]",Ko=t=>ps(t)==="[object Set]",gd=t=>ps(t)==="[object Date]",Xe=t=>typeof t=="function",Pt=t=>typeof t=="string",zr=t=>typeof t=="symbol",mt=t=>t!==null&&typeof t=="object",ip=t=>(mt(t)||Xe(t))&&Xe(t.then)&&Xe(t.catch),sp=Object.prototype.toString,ps=t=>sp.call(t),Q0=t=>ps(t).slice(8,-1),op=t=>ps(t)==="[object Object]",Cf=t=>Pt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,_i=wf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),$o=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},J0=/-(\w)/g,Or=$o(t=>t.replace(J0,(e,r)=>r?r.toUpperCase():"")),j0=/\B([A-Z])/g,Ra=$o(t=>t.replace(j0,"-$1").toLowerCase()),Zo=$o(t=>t.charAt(0).toUpperCase()+t.slice(1)),Fl=$o(t=>t?`on${Zo(t)}`:""),Bn=(t,e)=>!Object.is(t,e),to=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},lp=(t,e,r,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:r})},wo=t=>{const e=parseFloat(t);return isNaN(e)?t:e},eb=t=>{const e=Pt(t)?Number(t):NaN;return isNaN(e)?t:e};let pd;const Qo=()=>pd||(pd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Zn(t){if(We(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],a=Pt(n)?ab(n):Zn(n);if(a)for(const i in a)e[i]=a[i]}return e}else if(Pt(t)||mt(t))return t}const tb=/;(?![^(]*\))/g,rb=/:([^]+)/,nb=/\/\*[^]*?\*\//g;function ab(t){const e={};return t.replace(nb,"").split(tb).forEach(r=>{if(r){const n=r.split(rb);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Rt(t){let e="";if(Pt(t))e=t;else if(We(t))for(let r=0;r<t.length;r++){const n=Rt(t[r]);n&&(e+=n+" ")}else if(mt(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const ib="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",sb=wf(ib);function up(t){return!!t||t===""}function ob(t,e){if(t.length!==e.length)return!1;let r=!0;for(let n=0;r&&n<t.length;n++)r=Jo(t[n],e[n]);return r}function Jo(t,e){if(t===e)return!0;let r=gd(t),n=gd(e);if(r||n)return r&&n?t.getTime()===e.getTime():!1;if(r=zr(t),n=zr(e),r||n)return t===e;if(r=We(t),n=We(e),r||n)return r&&n?ob(t,e):!1;if(r=mt(t),n=mt(e),r||n){if(!r||!n)return!1;const a=Object.keys(t).length,i=Object.keys(e).length;if(a!==i)return!1;for(const s in t){const o=t.hasOwnProperty(s),l=e.hasOwnProperty(s);if(o&&!l||!o&&l||!Jo(t[s],e[s]))return!1}}return String(t)===String(e)}function lb(t,e){return t.findIndex(r=>Jo(r,e))}const cp=t=>!!(t&&t.__v_isRef===!0),De=t=>Pt(t)?t:t==null?"":We(t)||mt(t)&&(t.toString===sp||!Xe(t.toString))?cp(t)?De(t.value):JSON.stringify(t,fp,2):String(t),fp=(t,e)=>cp(e)?fp(t,e.value):Xa(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,a],i)=>(r[Bl(n,i)+" =>"]=a,r),{})}:Ko(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>Bl(r))}:zr(e)?Bl(e):mt(e)&&!We(e)&&!op(e)?String(e):e,Bl=(t,e="")=>{var r;return zr(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let gr;class ub{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=gr,!e&&gr&&(this.index=(gr.scopes||(gr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=gr;try{return gr=this,e()}finally{gr=r}}}on(){++this._on===1&&(this.prevScope=gr,gr=this)}off(){this._on>0&&--this._on===0&&(gr=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function cb(){return gr}let bt;const _l=new WeakSet;class dp{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,gr&&gr.active&&gr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,_l.has(this)&&(_l.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||vp(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,md(this),gp(this);const e=bt,r=Fr;bt=this,Fr=!0;try{return this.fn()}finally{pp(this),bt=e,Fr=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Af(e);this.deps=this.depsTail=void 0,md(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?_l.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Oc(this)&&this.run()}get dirty(){return Oc(this)}}let hp=0,zi,Ui;function vp(t,e=!1){if(t.flags|=8,e){t.next=Ui,Ui=t;return}t.next=zi,zi=t}function Tf(){hp++}function Sf(){if(--hp>0)return;if(Ui){let e=Ui;for(Ui=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;zi;){let e=zi;for(zi=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=r}}if(t)throw t}function gp(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function pp(t){let e,r=t.depsTail,n=r;for(;n;){const a=n.prevDep;n.version===-1?(n===r&&(r=a),Af(n),fb(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=a}t.deps=e,t.depsTail=r}function Oc(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(mp(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function mp(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ki)||(t.globalVersion=Ki,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Oc(t))))return;t.flags|=2;const e=t.dep,r=bt,n=Fr;bt=t,Fr=!0;try{gp(t);const a=t.fn(t._value);(e.version===0||Bn(a,t._value))&&(t.flags|=128,t._value=a,e.version++)}catch(a){throw e.version++,a}finally{bt=r,Fr=n,pp(t),t.flags&=-3}}function Af(t,e=!1){const{dep:r,prevSub:n,nextSub:a}=t;if(n&&(n.nextSub=a,t.prevSub=void 0),a&&(a.prevSub=n,t.nextSub=void 0),r.subs===t&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let i=r.computed.deps;i;i=i.nextDep)Af(i,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function fb(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let Fr=!0;const yp=[];function pn(){yp.push(Fr),Fr=!1}function mn(){const t=yp.pop();Fr=t===void 0?!0:t}function md(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=bt;bt=void 0;try{e()}finally{bt=r}}}let Ki=0;class db{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Df{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!bt||!Fr||bt===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==bt)r=this.activeLink=new db(bt,this),bt.deps?(r.prevDep=bt.depsTail,bt.depsTail.nextDep=r,bt.depsTail=r):bt.deps=bt.depsTail=r,bp(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=bt.depsTail,r.nextDep=void 0,bt.depsTail.nextDep=r,bt.depsTail=r,bt.deps===r&&(bt.deps=n)}return r}trigger(e){this.version++,Ki++,this.notify(e)}notify(e){Tf();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{Sf()}}}function bp(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)bp(n)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const kc=new WeakMap,ba=Symbol(""),Ic=Symbol(""),$i=Symbol("");function tr(t,e,r){if(Fr&&bt){let n=kc.get(t);n||kc.set(t,n=new Map);let a=n.get(r);a||(n.set(r,a=new Df),a.map=n,a.key=r),a.track()}}function dn(t,e,r,n,a,i){const s=kc.get(t);if(!s){Ki++;return}const o=l=>{l&&l.trigger()};if(Tf(),e==="clear")s.forEach(o);else{const l=We(t),u=l&&Cf(r);if(l&&r==="length"){const c=Number(n);s.forEach((f,h)=>{(h==="length"||h===$i||!zr(h)&&h>=c)&&o(f)})}else switch((r!==void 0||s.has(void 0))&&o(s.get(r)),u&&o(s.get($i)),e){case"add":l?u&&o(s.get("length")):(o(s.get(ba)),Xa(t)&&o(s.get(Ic)));break;case"delete":l||(o(s.get(ba)),Xa(t)&&o(s.get(Ic)));break;case"set":Xa(t)&&o(s.get(ba));break}}Sf()}function Pa(t){const e=it(t);return e===t?e:(tr(e,"iterate",$i),Nr(t)?e:e.map(Kt))}function jo(t){return tr(t=it(t),"iterate",$i),t}const hb={__proto__:null,[Symbol.iterator](){return zl(this,Symbol.iterator,Kt)},concat(...t){return Pa(this).concat(...t.map(e=>We(e)?Pa(e):e))},entries(){return zl(this,"entries",t=>(t[1]=Kt(t[1]),t))},every(t,e){return sn(this,"every",t,e,void 0,arguments)},filter(t,e){return sn(this,"filter",t,e,r=>r.map(Kt),arguments)},find(t,e){return sn(this,"find",t,e,Kt,arguments)},findIndex(t,e){return sn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return sn(this,"findLast",t,e,Kt,arguments)},findLastIndex(t,e){return sn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return sn(this,"forEach",t,e,void 0,arguments)},includes(...t){return Ul(this,"includes",t)},indexOf(...t){return Ul(this,"indexOf",t)},join(t){return Pa(this).join(t)},lastIndexOf(...t){return Ul(this,"lastIndexOf",t)},map(t,e){return sn(this,"map",t,e,void 0,arguments)},pop(){return xi(this,"pop")},push(...t){return xi(this,"push",t)},reduce(t,...e){return yd(this,"reduce",t,e)},reduceRight(t,...e){return yd(this,"reduceRight",t,e)},shift(){return xi(this,"shift")},some(t,e){return sn(this,"some",t,e,void 0,arguments)},splice(...t){return xi(this,"splice",t)},toReversed(){return Pa(this).toReversed()},toSorted(t){return Pa(this).toSorted(t)},toSpliced(...t){return Pa(this).toSpliced(...t)},unshift(...t){return xi(this,"unshift",t)},values(){return zl(this,"values",Kt)}};function zl(t,e,r){const n=jo(t),a=n[e]();return n!==t&&!Nr(t)&&(a._next=a.next,a.next=()=>{const i=a._next();return i.value&&(i.value=r(i.value)),i}),a}const vb=Array.prototype;function sn(t,e,r,n,a,i){const s=jo(t),o=s!==t&&!Nr(t),l=s[e];if(l!==vb[e]){const f=l.apply(t,i);return o?Kt(f):f}let u=r;s!==t&&(o?u=function(f,h){return r.call(this,Kt(f),h,t)}:r.length>2&&(u=function(f,h){return r.call(this,f,h,t)}));const c=l.call(s,u,n);return o&&a?a(c):c}function yd(t,e,r,n){const a=jo(t);let i=r;return a!==t&&(Nr(t)?r.length>3&&(i=function(s,o,l){return r.call(this,s,o,l,t)}):i=function(s,o,l){return r.call(this,s,Kt(o),l,t)}),a[e](i,...n)}function Ul(t,e,r){const n=it(t);tr(n,"iterate",$i);const a=n[e](...r);return(a===-1||a===!1)&&Mf(r[0])?(r[0]=it(r[0]),n[e](...r)):a}function xi(t,e,r=[]){pn(),Tf();const n=it(t)[e].apply(t,r);return Sf(),mn(),n}const gb=wf("__proto__,__v_isRef,__isVue"),wp=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(zr));function pb(t){zr(t)||(t=String(t));const e=it(this);return tr(e,"has",t),e.hasOwnProperty(t)}class Ep{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){if(r==="__v_skip")return e.__v_skip;const a=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!a;if(r==="__v_isReadonly")return a;if(r==="__v_isShallow")return i;if(r==="__v_raw")return n===(a?i?Ab:Sp:i?Tp:Cp).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const s=We(e);if(!a){let l;if(s&&(l=hb[r]))return l;if(r==="hasOwnProperty")return pb}const o=Reflect.get(e,r,ar(e)?e:n);return(zr(r)?wp.has(r):gb(r))||(a||tr(e,"get",r),i)?o:ar(o)?s&&Cf(r)?o:o.value:mt(o)?a?Dp(o):el(o):o}}class xp extends Ep{constructor(e=!1){super(!1,e)}set(e,r,n,a){let i=e[r];if(!this._isShallow){const l=Vn(i);if(!Nr(n)&&!Vn(n)&&(i=it(i),n=it(n)),!We(e)&&ar(i)&&!ar(n))return l?!1:(i.value=n,!0)}const s=We(e)&&Cf(r)?Number(r)<e.length:lt(e,r),o=Reflect.set(e,r,n,ar(e)?e:a);return e===it(a)&&(s?Bn(n,i)&&dn(e,"set",r,n):dn(e,"add",r,n)),o}deleteProperty(e,r){const n=lt(e,r);e[r];const a=Reflect.deleteProperty(e,r);return a&&n&&dn(e,"delete",r,void 0),a}has(e,r){const n=Reflect.has(e,r);return(!zr(r)||!wp.has(r))&&tr(e,"has",r),n}ownKeys(e){return tr(e,"iterate",We(e)?"length":ba),Reflect.ownKeys(e)}}class mb extends Ep{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const yb=new xp,bb=new mb,wb=new xp(!0);const Fc=t=>t,Bs=t=>Reflect.getPrototypeOf(t);function Eb(t,e,r){return function(...n){const a=this.__v_raw,i=it(a),s=Xa(i),o=t==="entries"||t===Symbol.iterator&&s,l=t==="keys"&&s,u=a[t](...n),c=r?Fc:e?Eo:Kt;return!e&&tr(i,"iterate",l?Ic:ba),{next(){const{value:f,done:h}=u.next();return h?{value:f,done:h}:{value:o?[c(f[0]),c(f[1])]:c(f),done:h}},[Symbol.iterator](){return this}}}}function _s(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function xb(t,e){const r={get(a){const i=this.__v_raw,s=it(i),o=it(a);t||(Bn(a,o)&&tr(s,"get",a),tr(s,"get",o));const{has:l}=Bs(s),u=e?Fc:t?Eo:Kt;if(l.call(s,a))return u(i.get(a));if(l.call(s,o))return u(i.get(o));i!==s&&i.get(a)},get size(){const a=this.__v_raw;return!t&&tr(it(a),"iterate",ba),Reflect.get(a,"size",a)},has(a){const i=this.__v_raw,s=it(i),o=it(a);return t||(Bn(a,o)&&tr(s,"has",a),tr(s,"has",o)),a===o?i.has(a):i.has(a)||i.has(o)},forEach(a,i){const s=this,o=s.__v_raw,l=it(o),u=e?Fc:t?Eo:Kt;return!t&&tr(l,"iterate",ba),o.forEach((c,f)=>a.call(i,u(c),u(f),s))}};return Yt(r,t?{add:_s("add"),set:_s("set"),delete:_s("delete"),clear:_s("clear")}:{add(a){!e&&!Nr(a)&&!Vn(a)&&(a=it(a));const i=it(this);return Bs(i).has.call(i,a)||(i.add(a),dn(i,"add",a,a)),this},set(a,i){!e&&!Nr(i)&&!Vn(i)&&(i=it(i));const s=it(this),{has:o,get:l}=Bs(s);let u=o.call(s,a);u||(a=it(a),u=o.call(s,a));const c=l.call(s,a);return s.set(a,i),u?Bn(i,c)&&dn(s,"set",a,i):dn(s,"add",a,i),this},delete(a){const i=it(this),{has:s,get:o}=Bs(i);let l=s.call(i,a);l||(a=it(a),l=s.call(i,a)),o&&o.call(i,a);const u=i.delete(a);return l&&dn(i,"delete",a,void 0),u},clear(){const a=it(this),i=a.size!==0,s=a.clear();return i&&dn(a,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(a=>{r[a]=Eb(a,t,e)}),r}function Rf(t,e){const r=xb(t,e);return(n,a,i)=>a==="__v_isReactive"?!t:a==="__v_isReadonly"?t:a==="__v_raw"?n:Reflect.get(lt(r,a)&&a in n?r:n,a,i)}const Cb={get:Rf(!1,!1)},Tb={get:Rf(!1,!0)},Sb={get:Rf(!0,!1)};const Cp=new WeakMap,Tp=new WeakMap,Sp=new WeakMap,Ab=new WeakMap;function Db(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Rb(t){return t.__v_skip||!Object.isExtensible(t)?0:Db(Q0(t))}function el(t){return Vn(t)?t:Lf(t,!1,yb,Cb,Cp)}function Ap(t){return Lf(t,!1,wb,Tb,Tp)}function Dp(t){return Lf(t,!0,bb,Sb,Sp)}function Lf(t,e,r,n,a){if(!mt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=Rb(t);if(i===0)return t;const s=a.get(t);if(s)return s;const o=new Proxy(t,i===2?n:r);return a.set(t,o),o}function Ka(t){return Vn(t)?Ka(t.__v_raw):!!(t&&t.__v_isReactive)}function Vn(t){return!!(t&&t.__v_isReadonly)}function Nr(t){return!!(t&&t.__v_isShallow)}function Mf(t){return t?!!t.__v_raw:!1}function it(t){const e=t&&t.__v_raw;return e?it(e):t}function Lb(t){return!lt(t,"__v_skip")&&Object.isExtensible(t)&&lp(t,"__v_skip",!0),t}const Kt=t=>mt(t)?el(t):t,Eo=t=>mt(t)?Dp(t):t;function ar(t){return t?t.__v_isRef===!0:!1}function ze(t){return Rp(t,!1)}function Mb(t){return Rp(t,!0)}function Rp(t,e){return ar(t)?t:new Pb(t,e)}class Pb{constructor(e,r){this.dep=new Df,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:it(e),this._value=r?e:Kt(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,n=this.__v_isShallow||Nr(e)||Vn(e);e=n?e:it(e),Bn(e,r)&&(this._rawValue=e,this._value=n?e:Kt(e),this.dep.trigger())}}function $a(t){return ar(t)?t.value:t}const Nb={get:(t,e,r)=>e==="__v_raw"?t:$a(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const a=t[e];return ar(a)&&!ar(r)?(a.value=r,!0):Reflect.set(t,e,r,n)}};function Lp(t){return Ka(t)?t:new Proxy(t,Nb)}class Ob{constructor(e,r,n){this.fn=e,this.setter=r,this._value=void 0,this.dep=new Df(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ki-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&bt!==this)return vp(this,!0),!0}get value(){const e=this.dep.track();return mp(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function kb(t,e,r=!1){let n,a;return Xe(t)?n=t:(n=t.get,a=t.set),new Ob(n,a,r)}const zs={},xo=new WeakMap;let ca;function Ib(t,e=!1,r=ca){if(r){let n=xo.get(r);n||xo.set(r,n=[]),n.push(t)}}function Fb(t,e,r=gt){const{immediate:n,deep:a,once:i,scheduler:s,augmentJob:o,call:l}=r,u=w=>a?w:Nr(w)||a===!1||a===0?hn(w,1):hn(w);let c,f,h,d,v=!1,g=!1;if(ar(t)?(f=()=>t.value,v=Nr(t)):Ka(t)?(f=()=>u(t),v=!0):We(t)?(g=!0,v=t.some(w=>Ka(w)||Nr(w)),f=()=>t.map(w=>{if(ar(w))return w.value;if(Ka(w))return u(w);if(Xe(w))return l?l(w,2):w()})):Xe(t)?e?f=l?()=>l(t,2):t:f=()=>{if(h){pn();try{h()}finally{mn()}}const w=ca;ca=c;try{return l?l(t,3,[d]):t(d)}finally{ca=w}}:f=en,e&&a){const w=f,x=a===!0?1/0:a;f=()=>hn(w(),x)}const p=cb(),m=()=>{c.stop(),p&&p.active&&xf(p.effects,c)};if(i&&e){const w=e;e=(...x)=>{w(...x),m()}}let b=g?new Array(t.length).fill(zs):zs;const y=w=>{if(!(!(c.flags&1)||!c.dirty&&!w))if(e){const x=c.run();if(a||v||(g?x.some((D,C)=>Bn(D,b[C])):Bn(x,b))){h&&h();const D=ca;ca=c;try{const C=[x,b===zs?void 0:g&&b[0]===zs?[]:b,d];l?l(e,3,C):e(...C),b=x}finally{ca=D}}}else c.run()};return o&&o(y),c=new dp(f),c.scheduler=s?()=>s(y,!1):y,d=w=>Ib(w,!1,c),h=c.onStop=()=>{const w=xo.get(c);if(w){if(l)l(w,4);else for(const x of w)x();xo.delete(c)}},e?n?y(!0):b=c.run():s?s(y.bind(null,!0),!0):c.run(),m.pause=c.pause.bind(c),m.resume=c.resume.bind(c),m.stop=m,m}function hn(t,e=1/0,r){if(e<=0||!mt(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),e--,ar(t))hn(t.value,e,r);else if(We(t))for(let n=0;n<t.length;n++)hn(t[n],e,r);else if(Ko(t)||Xa(t))t.forEach(n=>{hn(n,e,r)});else if(op(t)){for(const n in t)hn(t[n],e,r);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&hn(t[n],e,r)}return t}/**
* @vue/runtime-core v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ms(t,e,r,n){try{return n?t(...n):t()}catch(a){tl(a,e,r)}}function Ur(t,e,r,n){if(Xe(t)){const a=ms(t,e,r,n);return a&&ip(a)&&a.catch(i=>{tl(i,e,r)}),a}if(We(t)){const a=[];for(let i=0;i<t.length;i++)a.push(Ur(t[i],e,r,n));return a}}function tl(t,e,r,n=!0){const a=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:s}=e&&e.appContext.config||gt;if(e){let o=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${r}`;for(;o;){const c=o.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](t,l,u)===!1)return}o=o.parent}if(i){pn(),ms(i,null,10,[t,l,u]),mn();return}}Bb(t,r,a,n,s)}function Bb(t,e,r,n=!0,a=!1){if(a)throw t;console.error(t)}const fr=[];let Zr=-1;const Za=[];let Ln=null,Ua=0;const Mp=Promise.resolve();let Co=null;function Qr(t){const e=Co||Mp;return t?e.then(this?t.bind(this):t):e}function _b(t){let e=Zr+1,r=fr.length;for(;e<r;){const n=e+r>>>1,a=fr[n],i=Zi(a);i<t||i===t&&a.flags&2?e=n+1:r=n}return e}function Pf(t){if(!(t.flags&1)){const e=Zi(t),r=fr[fr.length-1];!r||!(t.flags&2)&&e>=Zi(r)?fr.push(t):fr.splice(_b(e),0,t),t.flags|=1,Pp()}}function Pp(){Co||(Co=Mp.then(Op))}function zb(t){We(t)?Za.push(...t):Ln&&t.id===-1?Ln.splice(Ua+1,0,t):t.flags&1||(Za.push(t),t.flags|=1),Pp()}function bd(t,e,r=Zr+1){for(;r<fr.length;r++){const n=fr[r];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;fr.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Np(t){if(Za.length){const e=[...new Set(Za)].sort((r,n)=>Zi(r)-Zi(n));if(Za.length=0,Ln){Ln.push(...e);return}for(Ln=e,Ua=0;Ua<Ln.length;Ua++){const r=Ln[Ua];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Ln=null,Ua=0}}const Zi=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Op(t){try{for(Zr=0;Zr<fr.length;Zr++){const e=fr[Zr];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ms(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Zr<fr.length;Zr++){const e=fr[Zr];e&&(e.flags&=-2)}Zr=-1,fr.length=0,Np(),Co=null,(fr.length||Za.length)&&Op()}}let qt=null,kp=null;function To(t){const e=qt;return qt=t,kp=t&&t.type.__scopeId||null,e}function Qa(t,e=qt,r){if(!e||t._n)return t;const n=(...a)=>{n._d&&Pd(-1);const i=To(e);let s;try{s=t(...a)}finally{To(i),n._d&&Pd(1)}return s};return n._n=!0,n._c=!0,n._d=!0,n}function ut(t,e){if(qt===null)return t;const r=ol(qt),n=t.dirs||(t.dirs=[]);for(let a=0;a<e.length;a++){let[i,s,o,l=gt]=e[a];i&&(Xe(i)&&(i={mounted:i,updated:i}),i.deep&&hn(s),n.push({dir:i,instance:r,value:s,oldValue:void 0,arg:o,modifiers:l}))}return t}function aa(t,e,r,n){const a=t.dirs,i=e&&e.dirs;for(let s=0;s<a.length;s++){const o=a[s];i&&(o.oldValue=i[s].value);let l=o.dir[n];l&&(pn(),Ur(l,r,8,[t.el,o,t,e]),mn())}}const Ub=Symbol("_vte"),Ip=t=>t.__isTeleport,Mn=Symbol("_leaveCb"),Us=Symbol("_enterCb");function Vb(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ys(()=>{t.isMounted=!0}),al(()=>{t.isUnmounting=!0}),t}const Rr=[Function,Array],Fp={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Rr,onEnter:Rr,onAfterEnter:Rr,onEnterCancelled:Rr,onBeforeLeave:Rr,onLeave:Rr,onAfterLeave:Rr,onLeaveCancelled:Rr,onBeforeAppear:Rr,onAppear:Rr,onAfterAppear:Rr,onAppearCancelled:Rr},Bp=t=>{const e=t.subTree;return e.component?Bp(e.component):e},Hb={name:"BaseTransition",props:Fp,setup(t,{slots:e}){const r=_1(),n=Vb();return()=>{const a=e.default&&Up(e.default(),!0);if(!a||!a.length)return;const i=_p(a),s=it(t),{mode:o}=s;if(n.isLeaving)return Vl(i);const l=wd(i);if(!l)return Vl(i);let u=Bc(l,s,n,r,f=>u=f);l.type!==rr&&Qi(l,u);let c=r.subTree&&wd(r.subTree);if(c&&c.type!==rr&&!ha(l,c)&&Bp(r).type!==rr){let f=Bc(c,s,n,r);if(Qi(c,f),o==="out-in"&&l.type!==rr)return n.isLeaving=!0,f.afterLeave=()=>{n.isLeaving=!1,r.job.flags&8||r.update(),delete f.afterLeave,c=void 0},Vl(i);o==="in-out"&&l.type!==rr?f.delayLeave=(h,d,v)=>{const g=zp(n,c);g[String(c.key)]=c,h[Mn]=()=>{d(),h[Mn]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{v(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return i}}};function _p(t){let e=t[0];if(t.length>1){for(const r of t)if(r.type!==rr){e=r;break}}return e}const Gb=Hb;function zp(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function Bc(t,e,r,n,a){const{appear:i,mode:s,persisted:o=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:h,onLeave:d,onAfterLeave:v,onLeaveCancelled:g,onBeforeAppear:p,onAppear:m,onAfterAppear:b,onAppearCancelled:y}=e,w=String(t.key),x=zp(r,t),D=(k,O)=>{k&&Ur(k,n,9,O)},C=(k,O)=>{const F=O[1];D(k,O),We(k)?k.every(S=>S.length<=1)&&F():k.length<=1&&F()},N={mode:s,persisted:o,beforeEnter(k){let O=l;if(!r.isMounted)if(i)O=p||l;else return;k[Mn]&&k[Mn](!0);const F=x[w];F&&ha(t,F)&&F.el[Mn]&&F.el[Mn](),D(O,[k])},enter(k){let O=u,F=c,S=f;if(!r.isMounted)if(i)O=m||u,F=b||c,S=y||f;else return;let P=!1;const E=k[Us]=L=>{P||(P=!0,L?D(S,[k]):D(F,[k]),N.delayedLeave&&N.delayedLeave(),k[Us]=void 0)};O?C(O,[k,E]):E()},leave(k,O){const F=String(t.key);if(k[Us]&&k[Us](!0),r.isUnmounting)return O();D(h,[k]);let S=!1;const P=k[Mn]=E=>{S||(S=!0,O(),E?D(g,[k]):D(v,[k]),k[Mn]=void 0,x[F]===t&&delete x[F])};x[F]=t,d?C(d,[k,P]):P()},clone(k){const O=Bc(k,e,r,n,a);return a&&a(O),O}};return N}function Vl(t){if(rl(t))return t=Hn(t),t.children=null,t}function wd(t){if(!rl(t))return Ip(t.type)&&t.children?_p(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:r}=t;if(r){if(e&16)return r[0];if(e&32&&Xe(r.default))return r.default()}}function Qi(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Qi(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Up(t,e=!1,r){let n=[],a=0;for(let i=0;i<t.length;i++){let s=t[i];const o=r==null?s.key:String(r)+String(s.key!=null?s.key:i);s.type===ft?(s.patchFlag&128&&a++,n=n.concat(Up(s.children,e,o))):(e||s.type!==rr)&&n.push(o!=null?Hn(s,{key:o}):s)}if(a>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function Vp(t,e){return Xe(t)?Yt({name:t.name},e,{setup:t}):t}function Hp(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function So(t,e,r,n,a=!1){if(We(t)){t.forEach((v,g)=>So(v,e&&(We(e)?e[g]:e),r,n,a));return}if(Ja(n)&&!a){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&So(t,e,r,n.component.subTree);return}const i=n.shapeFlag&4?ol(n.component):n.el,s=a?null:i,{i:o,r:l}=t,u=e&&e.r,c=o.refs===gt?o.refs={}:o.refs,f=o.setupState,h=it(f),d=f===gt?()=>!1:v=>lt(h,v);if(u!=null&&u!==l&&(Pt(u)?(c[u]=null,d(u)&&(f[u]=null)):ar(u)&&(u.value=null)),Xe(l))ms(l,o,12,[s,c]);else{const v=Pt(l),g=ar(l);if(v||g){const p=()=>{if(t.f){const m=v?d(l)?f[l]:c[l]:l.value;a?We(m)&&xf(m,i):We(m)?m.includes(i)||m.push(i):v?(c[l]=[i],d(l)&&(f[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else v?(c[l]=s,d(l)&&(f[l]=s)):g&&(l.value=s,t.k&&(c[t.k]=s))};s?(p.id=-1,Tr(p,r)):p()}}}Qo().requestIdleCallback;Qo().cancelIdleCallback;const Ja=t=>!!t.type.__asyncLoader,rl=t=>t.type.__isKeepAlive;function qb(t,e){Gp(t,"a",e)}function Wb(t,e){Gp(t,"da",e)}function Gp(t,e,r=$t){const n=t.__wdc||(t.__wdc=()=>{let a=r;for(;a;){if(a.isDeactivated)return;a=a.parent}return t()});if(nl(e,n,r),r){let a=r.parent;for(;a&&a.parent;)rl(a.parent.vnode)&&Yb(n,e,r,a),a=a.parent}}function Yb(t,e,r,n){const a=nl(e,t,n,!0);qp(()=>{xf(n[e],a)},r)}function nl(t,e,r=$t,n=!1){if(r){const a=r[t]||(r[t]=[]),i=e.__weh||(e.__weh=(...s)=>{pn();const o=bs(r),l=Ur(e,r,t,s);return o(),mn(),l});return n?a.unshift(i):a.push(i),i}}const wn=t=>(e,r=$t)=>{(!es||t==="sp")&&nl(t,(...n)=>e(...n),r)},Xb=wn("bm"),ys=wn("m"),Kb=wn("bu"),$b=wn("u"),al=wn("bum"),qp=wn("um"),Zb=wn("sp"),Qb=wn("rtg"),Jb=wn("rtc");function jb(t,e=$t){nl("ec",t,e)}const e1="components";function vn(t,e){return r1(e1,t,!0,e)||t}const t1=Symbol.for("v-ndc");function r1(t,e,r=!0,n=!1){const a=qt||$t;if(a){const i=a.type;{const o=G1(i,!1);if(o&&(o===e||o===Or(e)||o===Zo(Or(e))))return i}const s=Ed(a[t]||i[t],e)||Ed(a.appContext[t],e);return!s&&n?i:s}}function Ed(t,e){return t&&(t[e]||t[Or(e)]||t[Zo(Or(e))])}function pr(t,e,r,n){let a;const i=r,s=We(t);if(s||Pt(t)){const o=s&&Ka(t);let l=!1,u=!1;o&&(l=!Nr(t),u=Vn(t),t=jo(t)),a=new Array(t.length);for(let c=0,f=t.length;c<f;c++)a[c]=e(l?u?Eo(Kt(t[c])):Kt(t[c]):t[c],c,void 0,i)}else if(typeof t=="number"){a=new Array(t);for(let o=0;o<t;o++)a[o]=e(o+1,o,void 0,i)}else if(mt(t))if(t[Symbol.iterator])a=Array.from(t,(o,l)=>e(o,l,void 0,i));else{const o=Object.keys(t);a=new Array(o.length);for(let l=0,u=o.length;l<u;l++){const c=o[l];a[l]=e(t[c],c,l,i)}}else a=[];return a}function xd(t,e,r={},n,a){if(qt.ce||qt.parent&&Ja(qt.parent)&&qt.parent.ce)return e!=="default"&&(r.name=e),be(),Ea(ft,null,[Bt("slot",r,n)],64);let i=t[e];i&&i._c&&(i._d=!1),be();const s=i&&Wp(i(r)),o=r.key||s&&s.key,l=Ea(ft,{key:(o&&!zr(o)?o:`_${e}`)+""},s||[],s&&t._===1?64:-2);return i&&i._c&&(i._d=!0),l}function Wp(t){return t.some(e=>ji(e)?!(e.type===rr||e.type===ft&&!Wp(e.children)):!0)?t:null}const _c=t=>t?fm(t)?ol(t):_c(t.parent):null,Vi=Yt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>_c(t.parent),$root:t=>_c(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Xp(t),$forceUpdate:t=>t.f||(t.f=()=>{Pf(t.update)}),$nextTick:t=>t.n||(t.n=Qr.bind(t.proxy)),$watch:t=>C1.bind(t)}),Hl=(t,e)=>t!==gt&&!t.__isScriptSetup&&lt(t,e),n1={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:a,props:i,accessCache:s,type:o,appContext:l}=t;let u;if(e[0]!=="$"){const d=s[e];if(d!==void 0)switch(d){case 1:return n[e];case 2:return a[e];case 4:return r[e];case 3:return i[e]}else{if(Hl(n,e))return s[e]=1,n[e];if(a!==gt&&lt(a,e))return s[e]=2,a[e];if((u=t.propsOptions[0])&&lt(u,e))return s[e]=3,i[e];if(r!==gt&&lt(r,e))return s[e]=4,r[e];zc&&(s[e]=0)}}const c=Vi[e];let f,h;if(c)return e==="$attrs"&&tr(t.attrs,"get",""),c(t);if((f=o.__cssModules)&&(f=f[e]))return f;if(r!==gt&&lt(r,e))return s[e]=4,r[e];if(h=l.config.globalProperties,lt(h,e))return h[e]},set({_:t},e,r){const{data:n,setupState:a,ctx:i}=t;return Hl(a,e)?(a[e]=r,!0):n!==gt&&lt(n,e)?(n[e]=r,!0):lt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:a,propsOptions:i}},s){let o;return!!r[s]||t!==gt&&lt(t,s)||Hl(e,s)||(o=i[0])&&lt(o,s)||lt(n,s)||lt(Vi,s)||lt(a.config.globalProperties,s)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:lt(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function Cd(t){return We(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let zc=!0;function a1(t){const e=Xp(t),r=t.proxy,n=t.ctx;zc=!1,e.beforeCreate&&Td(e.beforeCreate,t,"bc");const{data:a,computed:i,methods:s,watch:o,provide:l,inject:u,created:c,beforeMount:f,mounted:h,beforeUpdate:d,updated:v,activated:g,deactivated:p,beforeDestroy:m,beforeUnmount:b,destroyed:y,unmounted:w,render:x,renderTracked:D,renderTriggered:C,errorCaptured:N,serverPrefetch:k,expose:O,inheritAttrs:F,components:S,directives:P,filters:E}=e;if(u&&i1(u,n,null),s)for(const T in s){const R=s[T];Xe(R)&&(n[T]=R.bind(r))}if(a){const T=a.call(r,r);mt(T)&&(t.data=el(T))}if(zc=!0,i)for(const T in i){const R=i[T],W=Xe(R)?R.bind(r,r):Xe(R.get)?R.get.bind(r,r):en,q=!Xe(R)&&Xe(R.set)?R.set.bind(r):en,G=St({get:W,set:q});Object.defineProperty(n,T,{enumerable:!0,configurable:!0,get:()=>G.value,set:$=>G.value=$})}if(o)for(const T in o)Yp(o[T],n,r,T);if(l){const T=Xe(l)?l.call(r):l;Reflect.ownKeys(T).forEach(R=>{ro(R,T[R])})}c&&Td(c,t,"c");function A(T,R){We(R)?R.forEach(W=>T(W.bind(r))):R&&T(R.bind(r))}if(A(Xb,f),A(ys,h),A(Kb,d),A($b,v),A(qb,g),A(Wb,p),A(jb,N),A(Jb,D),A(Qb,C),A(al,b),A(qp,w),A(Zb,k),We(O))if(O.length){const T=t.exposed||(t.exposed={});O.forEach(R=>{Object.defineProperty(T,R,{get:()=>r[R],set:W=>r[R]=W})})}else t.exposed||(t.exposed={});x&&t.render===en&&(t.render=x),F!=null&&(t.inheritAttrs=F),S&&(t.components=S),P&&(t.directives=P),k&&Hp(t)}function i1(t,e,r=en){We(t)&&(t=Uc(t));for(const n in t){const a=t[n];let i;mt(a)?"default"in a?i=Br(a.from||n,a.default,!0):i=Br(a.from||n):i=Br(a),ar(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:s=>i.value=s}):e[n]=i}}function Td(t,e,r){Ur(We(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function Yp(t,e,r,n){let a=n.includes(".")?sm(r,n):()=>r[n];if(Pt(t)){const i=e[t];Xe(i)&&_n(a,i)}else if(Xe(t))_n(a,t.bind(r));else if(mt(t))if(We(t))t.forEach(i=>Yp(i,e,r,n));else{const i=Xe(t.handler)?t.handler.bind(r):e[t.handler];Xe(i)&&_n(a,i,t)}}function Xp(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:a,optionsCache:i,config:{optionMergeStrategies:s}}=t.appContext,o=i.get(e);let l;return o?l=o:!a.length&&!r&&!n?l=e:(l={},a.length&&a.forEach(u=>Ao(l,u,s,!0)),Ao(l,e,s)),mt(e)&&i.set(e,l),l}function Ao(t,e,r,n=!1){const{mixins:a,extends:i}=e;i&&Ao(t,i,r,!0),a&&a.forEach(s=>Ao(t,s,r,!0));for(const s in e)if(!(n&&s==="expose")){const o=s1[s]||r&&r[s];t[s]=o?o(t[s],e[s]):e[s]}return t}const s1={data:Sd,props:Ad,emits:Ad,methods:ki,computed:ki,beforeCreate:ur,created:ur,beforeMount:ur,mounted:ur,beforeUpdate:ur,updated:ur,beforeDestroy:ur,beforeUnmount:ur,destroyed:ur,unmounted:ur,activated:ur,deactivated:ur,errorCaptured:ur,serverPrefetch:ur,components:ki,directives:ki,watch:l1,provide:Sd,inject:o1};function Sd(t,e){return e?t?function(){return Yt(Xe(t)?t.call(this,this):t,Xe(e)?e.call(this,this):e)}:e:t}function o1(t,e){return ki(Uc(t),Uc(e))}function Uc(t){if(We(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function ur(t,e){return t?[...new Set([].concat(t,e))]:e}function ki(t,e){return t?Yt(Object.create(null),t,e):e}function Ad(t,e){return t?We(t)&&We(e)?[...new Set([...t,...e])]:Yt(Object.create(null),Cd(t),Cd(e??{})):e}function l1(t,e){if(!t)return e;if(!e)return t;const r=Yt(Object.create(null),t);for(const n in e)r[n]=ur(t[n],e[n]);return r}function Kp(){return{app:null,config:{isNativeTag:$0,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let u1=0;function c1(t,e){return function(n,a=null){Xe(n)||(n=Yt({},n)),a!=null&&!mt(a)&&(a=null);const i=Kp(),s=new WeakSet,o=[];let l=!1;const u=i.app={_uid:u1++,_component:n,_props:a,_container:null,_context:i,_instance:null,version:W1,get config(){return i.config},set config(c){},use(c,...f){return s.has(c)||(c&&Xe(c.install)?(s.add(c),c.install(u,...f)):Xe(c)&&(s.add(c),c(u,...f))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,f){return f?(i.components[c]=f,u):i.components[c]},directive(c,f){return f?(i.directives[c]=f,u):i.directives[c]},mount(c,f,h){if(!l){const d=u._ceVNode||Bt(n,a);return d.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),t(d,c,h),l=!0,u._container=c,c.__vue_app__=u,ol(d.component)}},onUnmount(c){o.push(c)},unmount(){l&&(Ur(o,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,f){return i.provides[c]=f,u},runWithContext(c){const f=ja;ja=u;try{return c()}finally{ja=f}}};return u}}let ja=null;function ro(t,e){if($t){let r=$t.provides;const n=$t.parent&&$t.parent.provides;n===r&&(r=$t.provides=Object.create(n)),r[t]=e}}function Br(t,e,r=!1){const n=$t||qt;if(n||ja){const a=ja?ja._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(a&&t in a)return a[t];if(arguments.length>1)return r&&Xe(e)?e.call(n&&n.proxy):e}}const $p={},Zp=()=>Object.create($p),Qp=t=>Object.getPrototypeOf(t)===$p;function f1(t,e,r,n=!1){const a={},i=Zp();t.propsDefaults=Object.create(null),Jp(t,e,a,i);for(const s in t.propsOptions[0])s in a||(a[s]=void 0);r?t.props=n?a:Ap(a):t.type.props?t.props=a:t.props=i,t.attrs=i}function d1(t,e,r,n){const{props:a,attrs:i,vnode:{patchFlag:s}}=t,o=it(a),[l]=t.propsOptions;let u=!1;if((n||s>0)&&!(s&16)){if(s&8){const c=t.vnode.dynamicProps;for(let f=0;f<c.length;f++){let h=c[f];if(il(t.emitsOptions,h))continue;const d=e[h];if(l)if(lt(i,h))d!==i[h]&&(i[h]=d,u=!0);else{const v=Or(h);a[v]=Vc(l,o,v,d,t,!1)}else d!==i[h]&&(i[h]=d,u=!0)}}}else{Jp(t,e,a,i)&&(u=!0);let c;for(const f in o)(!e||!lt(e,f)&&((c=Ra(f))===f||!lt(e,c)))&&(l?r&&(r[f]!==void 0||r[c]!==void 0)&&(a[f]=Vc(l,o,f,void 0,t,!0)):delete a[f]);if(i!==o)for(const f in i)(!e||!lt(e,f))&&(delete i[f],u=!0)}u&&dn(t.attrs,"set","")}function Jp(t,e,r,n){const[a,i]=t.propsOptions;let s=!1,o;if(e)for(let l in e){if(_i(l))continue;const u=e[l];let c;a&&lt(a,c=Or(l))?!i||!i.includes(c)?r[c]=u:(o||(o={}))[c]=u:il(t.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,s=!0)}if(i){const l=it(r),u=o||gt;for(let c=0;c<i.length;c++){const f=i[c];r[f]=Vc(a,l,f,u[f],t,!lt(u,f))}}return s}function Vc(t,e,r,n,a,i){const s=t[r];if(s!=null){const o=lt(s,"default");if(o&&n===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&Xe(l)){const{propsDefaults:u}=a;if(r in u)n=u[r];else{const c=bs(a);n=u[r]=l.call(null,e),c()}}else n=l;a.ce&&a.ce._setProp(r,n)}s[0]&&(i&&!o?n=!1:s[1]&&(n===""||n===Ra(r))&&(n=!0))}return n}const h1=new WeakMap;function jp(t,e,r=!1){const n=r?h1:e.propsCache,a=n.get(t);if(a)return a;const i=t.props,s={},o=[];let l=!1;if(!Xe(t)){const c=f=>{l=!0;const[h,d]=jp(f,e,!0);Yt(s,h),d&&o.push(...d)};!r&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return mt(t)&&n.set(t,Ya),Ya;if(We(i))for(let c=0;c<i.length;c++){const f=Or(i[c]);Dd(f)&&(s[f]=gt)}else if(i)for(const c in i){const f=Or(c);if(Dd(f)){const h=i[c],d=s[f]=We(h)||Xe(h)?{type:h}:Yt({},h),v=d.type;let g=!1,p=!0;if(We(v))for(let m=0;m<v.length;++m){const b=v[m],y=Xe(b)&&b.name;if(y==="Boolean"){g=!0;break}else y==="String"&&(p=!1)}else g=Xe(v)&&v.name==="Boolean";d[0]=g,d[1]=p,(g||lt(d,"default"))&&o.push(f)}}const u=[s,o];return mt(t)&&n.set(t,u),u}function Dd(t){return t[0]!=="$"&&!_i(t)}const Nf=t=>t[0]==="_"||t==="$stable",Of=t=>We(t)?t.map(Jr):[Jr(t)],v1=(t,e,r)=>{if(e._n)return e;const n=Qa((...a)=>Of(e(...a)),r);return n._c=!1,n},em=(t,e,r)=>{const n=t._ctx;for(const a in t){if(Nf(a))continue;const i=t[a];if(Xe(i))e[a]=v1(a,i,n);else if(i!=null){const s=Of(i);e[a]=()=>s}}},tm=(t,e)=>{const r=Of(e);t.slots.default=()=>r},rm=(t,e,r)=>{for(const n in e)(r||!Nf(n))&&(t[n]=e[n])},g1=(t,e,r)=>{const n=t.slots=Zp();if(t.vnode.shapeFlag&32){const a=e._;a?(rm(n,e,r),r&&lp(n,"_",a,!0)):em(e,n)}else e&&tm(t,e)},p1=(t,e,r)=>{const{vnode:n,slots:a}=t;let i=!0,s=gt;if(n.shapeFlag&32){const o=e._;o?r&&o===1?i=!1:rm(a,e,r):(i=!e.$stable,em(e,a)),s=e}else e&&(tm(t,e),s={default:1});if(i)for(const o in a)!Nf(o)&&s[o]==null&&delete a[o]},Tr=M1;function m1(t){return y1(t)}function y1(t,e){const r=Qo();r.__VUE__=!0;const{insert:n,remove:a,patchProp:i,createElement:s,createText:o,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:h,setScopeId:d=en,insertStaticContent:v}=t,g=(M,B,z,K=null,ee=null,ne=null,se=void 0,ue=null,le=!!B.dynamicChildren)=>{if(M===B)return;M&&!ha(M,B)&&(K=Y(M),$(M,ee,ne,!0),M=null),B.patchFlag===-2&&(le=!1,B.dynamicChildren=null);const{type:ce,ref:pe,shapeFlag:de}=B;switch(ce){case sl:p(M,B,z,K);break;case rr:m(M,B,z,K);break;case ql:M==null&&b(B,z,K,se);break;case ft:S(M,B,z,K,ee,ne,se,ue,le);break;default:de&1?x(M,B,z,K,ee,ne,se,ue,le):de&6?P(M,B,z,K,ee,ne,se,ue,le):(de&64||de&128)&&ce.process(M,B,z,K,ee,ne,se,ue,le,V)}pe!=null&&ee&&So(pe,M&&M.ref,ne,B||M,!B)},p=(M,B,z,K)=>{if(M==null)n(B.el=o(B.children),z,K);else{const ee=B.el=M.el;B.children!==M.children&&u(ee,B.children)}},m=(M,B,z,K)=>{M==null?n(B.el=l(B.children||""),z,K):B.el=M.el},b=(M,B,z,K)=>{[M.el,M.anchor]=v(M.children,B,z,K,M.el,M.anchor)},y=({el:M,anchor:B},z,K)=>{let ee;for(;M&&M!==B;)ee=h(M),n(M,z,K),M=ee;n(B,z,K)},w=({el:M,anchor:B})=>{let z;for(;M&&M!==B;)z=h(M),a(M),M=z;a(B)},x=(M,B,z,K,ee,ne,se,ue,le)=>{B.type==="svg"?se="svg":B.type==="math"&&(se="mathml"),M==null?D(B,z,K,ee,ne,se,ue,le):k(M,B,ee,ne,se,ue,le)},D=(M,B,z,K,ee,ne,se,ue)=>{let le,ce;const{props:pe,shapeFlag:de,transition:me,dirs:Ee}=M;if(le=M.el=s(M.type,ne,pe&&pe.is,pe),de&8?c(le,M.children):de&16&&N(M.children,le,null,K,ee,Gl(M,ne),se,ue),Ee&&aa(M,null,K,"created"),C(le,M,M.scopeId,se,K),pe){for(const ke in pe)ke!=="value"&&!_i(ke)&&i(le,ke,null,pe[ke],ne,K);"value"in pe&&i(le,"value",null,pe.value,ne),(ce=pe.onVnodeBeforeMount)&&Wr(ce,K,M)}Ee&&aa(M,null,K,"beforeMount");const Ae=b1(ee,me);Ae&&me.beforeEnter(le),n(le,B,z),((ce=pe&&pe.onVnodeMounted)||Ae||Ee)&&Tr(()=>{ce&&Wr(ce,K,M),Ae&&me.enter(le),Ee&&aa(M,null,K,"mounted")},ee)},C=(M,B,z,K,ee)=>{if(z&&d(M,z),K)for(let ne=0;ne<K.length;ne++)d(M,K[ne]);if(ee){let ne=ee.subTree;if(B===ne||lm(ne.type)&&(ne.ssContent===B||ne.ssFallback===B)){const se=ee.vnode;C(M,se,se.scopeId,se.slotScopeIds,ee.parent)}}},N=(M,B,z,K,ee,ne,se,ue,le=0)=>{for(let ce=le;ce<M.length;ce++){const pe=M[ce]=ue?Pn(M[ce]):Jr(M[ce]);g(null,pe,B,z,K,ee,ne,se,ue)}},k=(M,B,z,K,ee,ne,se)=>{const ue=B.el=M.el;let{patchFlag:le,dynamicChildren:ce,dirs:pe}=B;le|=M.patchFlag&16;const de=M.props||gt,me=B.props||gt;let Ee;if(z&&ia(z,!1),(Ee=me.onVnodeBeforeUpdate)&&Wr(Ee,z,B,M),pe&&aa(B,M,z,"beforeUpdate"),z&&ia(z,!0),(de.innerHTML&&me.innerHTML==null||de.textContent&&me.textContent==null)&&c(ue,""),ce?O(M.dynamicChildren,ce,ue,z,K,Gl(B,ee),ne):se||R(M,B,ue,null,z,K,Gl(B,ee),ne,!1),le>0){if(le&16)F(ue,de,me,z,ee);else if(le&2&&de.class!==me.class&&i(ue,"class",null,me.class,ee),le&4&&i(ue,"style",de.style,me.style,ee),le&8){const Ae=B.dynamicProps;for(let ke=0;ke<Ae.length;ke++){const Pe=Ae[ke],Ie=de[Pe],Me=me[Pe];(Me!==Ie||Pe==="value")&&i(ue,Pe,Ie,Me,ee,z)}}le&1&&M.children!==B.children&&c(ue,B.children)}else!se&&ce==null&&F(ue,de,me,z,ee);((Ee=me.onVnodeUpdated)||pe)&&Tr(()=>{Ee&&Wr(Ee,z,B,M),pe&&aa(B,M,z,"updated")},K)},O=(M,B,z,K,ee,ne,se)=>{for(let ue=0;ue<B.length;ue++){const le=M[ue],ce=B[ue],pe=le.el&&(le.type===ft||!ha(le,ce)||le.shapeFlag&70)?f(le.el):z;g(le,ce,pe,null,K,ee,ne,se,!0)}},F=(M,B,z,K,ee)=>{if(B!==z){if(B!==gt)for(const ne in B)!_i(ne)&&!(ne in z)&&i(M,ne,B[ne],null,ee,K);for(const ne in z){if(_i(ne))continue;const se=z[ne],ue=B[ne];se!==ue&&ne!=="value"&&i(M,ne,ue,se,ee,K)}"value"in z&&i(M,"value",B.value,z.value,ee)}},S=(M,B,z,K,ee,ne,se,ue,le)=>{const ce=B.el=M?M.el:o(""),pe=B.anchor=M?M.anchor:o("");let{patchFlag:de,dynamicChildren:me,slotScopeIds:Ee}=B;Ee&&(ue=ue?ue.concat(Ee):Ee),M==null?(n(ce,z,K),n(pe,z,K),N(B.children||[],z,pe,ee,ne,se,ue,le)):de>0&&de&64&&me&&M.dynamicChildren?(O(M.dynamicChildren,me,z,ee,ne,se,ue),(B.key!=null||ee&&B===ee.subTree)&&nm(M,B,!0)):R(M,B,z,pe,ee,ne,se,ue,le)},P=(M,B,z,K,ee,ne,se,ue,le)=>{B.slotScopeIds=ue,M==null?B.shapeFlag&512?ee.ctx.activate(B,z,K,se,le):E(B,z,K,ee,ne,se,le):L(M,B,le)},E=(M,B,z,K,ee,ne,se)=>{const ue=M.component=B1(M,K,ee);if(rl(M)&&(ue.ctx.renderer=V),z1(ue,!1,se),ue.asyncDep){if(ee&&ee.registerDep(ue,A,se),!M.el){const le=ue.subTree=Bt(rr);m(null,le,B,z)}}else A(ue,M,B,z,ee,ne,se)},L=(M,B,z)=>{const K=B.component=M.component;if(R1(M,B,z))if(K.asyncDep&&!K.asyncResolved){T(K,B,z);return}else K.next=B,K.update();else B.el=M.el,K.vnode=B},A=(M,B,z,K,ee,ne,se)=>{const ue=()=>{if(M.isMounted){let{next:de,bu:me,u:Ee,parent:Ae,vnode:ke}=M;{const j=am(M);if(j){de&&(de.el=ke.el,T(M,de,se)),j.asyncDep.then(()=>{M.isUnmounted||ue()});return}}let Pe=de,Ie;ia(M,!1),de?(de.el=ke.el,T(M,de,se)):de=ke,me&&to(me),(Ie=de.props&&de.props.onVnodeBeforeUpdate)&&Wr(Ie,Ae,de,ke),ia(M,!0);const Me=Ld(M),Te=M.subTree;M.subTree=Me,g(Te,Me,f(Te.el),Y(Te),M,ee,ne),de.el=Me.el,Pe===null&&L1(M,Me.el),Ee&&Tr(Ee,ee),(Ie=de.props&&de.props.onVnodeUpdated)&&Tr(()=>Wr(Ie,Ae,de,ke),ee)}else{let de;const{el:me,props:Ee}=B,{bm:Ae,m:ke,parent:Pe,root:Ie,type:Me}=M,Te=Ja(B);ia(M,!1),Ae&&to(Ae),!Te&&(de=Ee&&Ee.onVnodeBeforeMount)&&Wr(de,Pe,B),ia(M,!0);{Ie.ce&&Ie.ce._injectChildStyle(Me);const j=M.subTree=Ld(M);g(null,j,z,K,M,ee,ne),B.el=j.el}if(ke&&Tr(ke,ee),!Te&&(de=Ee&&Ee.onVnodeMounted)){const j=B;Tr(()=>Wr(de,Pe,j),ee)}(B.shapeFlag&256||Pe&&Ja(Pe.vnode)&&Pe.vnode.shapeFlag&256)&&M.a&&Tr(M.a,ee),M.isMounted=!0,B=z=K=null}};M.scope.on();const le=M.effect=new dp(ue);M.scope.off();const ce=M.update=le.run.bind(le),pe=M.job=le.runIfDirty.bind(le);pe.i=M,pe.id=M.uid,le.scheduler=()=>Pf(pe),ia(M,!0),ce()},T=(M,B,z)=>{B.component=M;const K=M.vnode.props;M.vnode=B,M.next=null,d1(M,B.props,K,z),p1(M,B.children,z),pn(),bd(M),mn()},R=(M,B,z,K,ee,ne,se,ue,le=!1)=>{const ce=M&&M.children,pe=M?M.shapeFlag:0,de=B.children,{patchFlag:me,shapeFlag:Ee}=B;if(me>0){if(me&128){q(ce,de,z,K,ee,ne,se,ue,le);return}else if(me&256){W(ce,de,z,K,ee,ne,se,ue,le);return}}Ee&8?(pe&16&&ae(ce,ee,ne),de!==ce&&c(z,de)):pe&16?Ee&16?q(ce,de,z,K,ee,ne,se,ue,le):ae(ce,ee,ne,!0):(pe&8&&c(z,""),Ee&16&&N(de,z,K,ee,ne,se,ue,le))},W=(M,B,z,K,ee,ne,se,ue,le)=>{M=M||Ya,B=B||Ya;const ce=M.length,pe=B.length,de=Math.min(ce,pe);let me;for(me=0;me<de;me++){const Ee=B[me]=le?Pn(B[me]):Jr(B[me]);g(M[me],Ee,z,null,ee,ne,se,ue,le)}ce>pe?ae(M,ee,ne,!0,!1,de):N(B,z,K,ee,ne,se,ue,le,de)},q=(M,B,z,K,ee,ne,se,ue,le)=>{let ce=0;const pe=B.length;let de=M.length-1,me=pe-1;for(;ce<=de&&ce<=me;){const Ee=M[ce],Ae=B[ce]=le?Pn(B[ce]):Jr(B[ce]);if(ha(Ee,Ae))g(Ee,Ae,z,null,ee,ne,se,ue,le);else break;ce++}for(;ce<=de&&ce<=me;){const Ee=M[de],Ae=B[me]=le?Pn(B[me]):Jr(B[me]);if(ha(Ee,Ae))g(Ee,Ae,z,null,ee,ne,se,ue,le);else break;de--,me--}if(ce>de){if(ce<=me){const Ee=me+1,Ae=Ee<pe?B[Ee].el:K;for(;ce<=me;)g(null,B[ce]=le?Pn(B[ce]):Jr(B[ce]),z,Ae,ee,ne,se,ue,le),ce++}}else if(ce>me)for(;ce<=de;)$(M[ce],ee,ne,!0),ce++;else{const Ee=ce,Ae=ce,ke=new Map;for(ce=Ae;ce<=me;ce++){const H=B[ce]=le?Pn(B[ce]):Jr(B[ce]);H.key!=null&&ke.set(H.key,ce)}let Pe,Ie=0;const Me=me-Ae+1;let Te=!1,j=0;const I=new Array(Me);for(ce=0;ce<Me;ce++)I[ce]=0;for(ce=Ee;ce<=de;ce++){const H=M[ce];if(Ie>=Me){$(H,ee,ne,!0);continue}let Z;if(H.key!=null)Z=ke.get(H.key);else for(Pe=Ae;Pe<=me;Pe++)if(I[Pe-Ae]===0&&ha(H,B[Pe])){Z=Pe;break}Z===void 0?$(H,ee,ne,!0):(I[Z-Ae]=ce+1,Z>=j?j=Z:Te=!0,g(H,B[Z],z,null,ee,ne,se,ue,le),Ie++)}const J=Te?w1(I):Ya;for(Pe=J.length-1,ce=Me-1;ce>=0;ce--){const H=Ae+ce,Z=B[H],te=H+1<pe?B[H+1].el:K;I[ce]===0?g(null,Z,z,te,ee,ne,se,ue,le):Te&&(Pe<0||ce!==J[Pe]?G(Z,z,te,2):Pe--)}}},G=(M,B,z,K,ee=null)=>{const{el:ne,type:se,transition:ue,children:le,shapeFlag:ce}=M;if(ce&6){G(M.component.subTree,B,z,K);return}if(ce&128){M.suspense.move(B,z,K);return}if(ce&64){se.move(M,B,z,V);return}if(se===ft){n(ne,B,z);for(let de=0;de<le.length;de++)G(le[de],B,z,K);n(M.anchor,B,z);return}if(se===ql){y(M,B,z);return}if(K!==2&&ce&1&&ue)if(K===0)ue.beforeEnter(ne),n(ne,B,z),Tr(()=>ue.enter(ne),ee);else{const{leave:de,delayLeave:me,afterLeave:Ee}=ue,Ae=()=>{M.ctx.isUnmounted?a(ne):n(ne,B,z)},ke=()=>{de(ne,()=>{Ae(),Ee&&Ee()})};me?me(ne,Ae,ke):ke()}else n(ne,B,z)},$=(M,B,z,K=!1,ee=!1)=>{const{type:ne,props:se,ref:ue,children:le,dynamicChildren:ce,shapeFlag:pe,patchFlag:de,dirs:me,cacheIndex:Ee}=M;if(de===-2&&(ee=!1),ue!=null&&(pn(),So(ue,null,z,M,!0),mn()),Ee!=null&&(B.renderCache[Ee]=void 0),pe&256){B.ctx.deactivate(M);return}const Ae=pe&1&&me,ke=!Ja(M);let Pe;if(ke&&(Pe=se&&se.onVnodeBeforeUnmount)&&Wr(Pe,B,M),pe&6)ie(M.component,z,K);else{if(pe&128){M.suspense.unmount(z,K);return}Ae&&aa(M,null,B,"beforeUnmount"),pe&64?M.type.remove(M,B,z,V,K):ce&&!ce.hasOnce&&(ne!==ft||de>0&&de&64)?ae(ce,B,z,!1,!0):(ne===ft&&de&384||!ee&&pe&16)&&ae(le,B,z),K&&Q(M)}(ke&&(Pe=se&&se.onVnodeUnmounted)||Ae)&&Tr(()=>{Pe&&Wr(Pe,B,M),Ae&&aa(M,null,B,"unmounted")},z)},Q=M=>{const{type:B,el:z,anchor:K,transition:ee}=M;if(B===ft){oe(z,K);return}if(B===ql){w(M);return}const ne=()=>{a(z),ee&&!ee.persisted&&ee.afterLeave&&ee.afterLeave()};if(M.shapeFlag&1&&ee&&!ee.persisted){const{leave:se,delayLeave:ue}=ee,le=()=>se(z,ne);ue?ue(M.el,ne,le):le()}else ne()},oe=(M,B)=>{let z;for(;M!==B;)z=h(M),a(M),M=z;a(B)},ie=(M,B,z)=>{const{bum:K,scope:ee,job:ne,subTree:se,um:ue,m:le,a:ce,parent:pe,slots:{__:de}}=M;Rd(le),Rd(ce),K&&to(K),pe&&We(de)&&de.forEach(me=>{pe.renderCache[me]=void 0}),ee.stop(),ne&&(ne.flags|=8,$(se,M,B,z)),ue&&Tr(ue,B),Tr(()=>{M.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&M.asyncDep&&!M.asyncResolved&&M.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve())},ae=(M,B,z,K=!1,ee=!1,ne=0)=>{for(let se=ne;se<M.length;se++)$(M[se],B,z,K,ee)},Y=M=>{if(M.shapeFlag&6)return Y(M.component.subTree);if(M.shapeFlag&128)return M.suspense.next();const B=h(M.anchor||M.el),z=B&&B[Ub];return z?h(z):B};let re=!1;const U=(M,B,z)=>{M==null?B._vnode&&$(B._vnode,null,null,!0):g(B._vnode||null,M,B,null,null,null,z),B._vnode=M,re||(re=!0,bd(),Np(),re=!1)},V={p:g,um:$,m:G,r:Q,mt:E,mc:N,pc:R,pbc:O,n:Y,o:t};return{render:U,hydrate:void 0,createApp:c1(U)}}function Gl({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function ia({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function b1(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function nm(t,e,r=!1){const n=t.children,a=e.children;if(We(n)&&We(a))for(let i=0;i<n.length;i++){const s=n[i];let o=a[i];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=a[i]=Pn(a[i]),o.el=s.el),!r&&o.patchFlag!==-2&&nm(s,o)),o.type===sl&&(o.el=s.el),o.type===rr&&!o.el&&(o.el=s.el)}}function w1(t){const e=t.slice(),r=[0];let n,a,i,s,o;const l=t.length;for(n=0;n<l;n++){const u=t[n];if(u!==0){if(a=r[r.length-1],t[a]<u){e[n]=a,r.push(n);continue}for(i=0,s=r.length-1;i<s;)o=i+s>>1,t[r[o]]<u?i=o+1:s=o;u<t[r[i]]&&(i>0&&(e[n]=r[i-1]),r[i]=n)}}for(i=r.length,s=r[i-1];i-- >0;)r[i]=s,s=e[s];return r}function am(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:am(e)}function Rd(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const E1=Symbol.for("v-scx"),x1=()=>Br(E1);function _n(t,e,r){return im(t,e,r)}function im(t,e,r=gt){const{immediate:n,deep:a,flush:i,once:s}=r,o=Yt({},r),l=e&&n||!e&&i!=="post";let u;if(es){if(i==="sync"){const d=x1();u=d.__watcherHandles||(d.__watcherHandles=[])}else if(!l){const d=()=>{};return d.stop=en,d.resume=en,d.pause=en,d}}const c=$t;o.call=(d,v,g)=>Ur(d,c,v,g);let f=!1;i==="post"?o.scheduler=d=>{Tr(d,c&&c.suspense)}:i!=="sync"&&(f=!0,o.scheduler=(d,v)=>{v?d():Pf(d)}),o.augmentJob=d=>{e&&(d.flags|=4),f&&(d.flags|=2,c&&(d.id=c.uid,d.i=c))};const h=Fb(t,e,o);return es&&(u?u.push(h):l&&h()),h}function C1(t,e,r){const n=this.proxy,a=Pt(t)?t.includes(".")?sm(n,t):()=>n[t]:t.bind(n,n);let i;Xe(e)?i=e:(i=e.handler,r=e);const s=bs(this),o=im(a,i.bind(n),r);return s(),o}function sm(t,e){const r=e.split(".");return()=>{let n=t;for(let a=0;a<r.length&&n;a++)n=n[r[a]];return n}}const T1=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Or(e)}Modifiers`]||t[`${Ra(e)}Modifiers`];function S1(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||gt;let a=r;const i=e.startsWith("update:"),s=i&&T1(n,e.slice(7));s&&(s.trim&&(a=r.map(c=>Pt(c)?c.trim():c)),s.number&&(a=r.map(wo)));let o,l=n[o=Fl(e)]||n[o=Fl(Or(e))];!l&&i&&(l=n[o=Fl(Ra(e))]),l&&Ur(l,t,6,a);const u=n[o+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,Ur(u,t,6,a)}}function om(t,e,r=!1){const n=e.emitsCache,a=n.get(t);if(a!==void 0)return a;const i=t.emits;let s={},o=!1;if(!Xe(t)){const l=u=>{const c=om(u,e,!0);c&&(o=!0,Yt(s,c))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!o?(mt(t)&&n.set(t,null),null):(We(i)?i.forEach(l=>s[l]=null):Yt(s,i),mt(t)&&n.set(t,s),s)}function il(t,e){return!t||!Xo(e)?!1:(e=e.slice(2).replace(/Once$/,""),lt(t,e[0].toLowerCase()+e.slice(1))||lt(t,Ra(e))||lt(t,e))}function Ld(t){const{type:e,vnode:r,proxy:n,withProxy:a,propsOptions:[i],slots:s,attrs:o,emit:l,render:u,renderCache:c,props:f,data:h,setupState:d,ctx:v,inheritAttrs:g}=t,p=To(t);let m,b;try{if(r.shapeFlag&4){const w=a||n,x=w;m=Jr(u.call(x,w,c,f,d,h,v)),b=o}else{const w=e;m=Jr(w.length>1?w(f,{attrs:o,slots:s,emit:l}):w(f,null)),b=e.props?o:A1(o)}}catch(w){Hi.length=0,tl(w,t,1),m=Bt(rr)}let y=m;if(b&&g!==!1){const w=Object.keys(b),{shapeFlag:x}=y;w.length&&x&7&&(i&&w.some(Ef)&&(b=D1(b,i)),y=Hn(y,b,!1,!0))}return r.dirs&&(y=Hn(y,null,!1,!0),y.dirs=y.dirs?y.dirs.concat(r.dirs):r.dirs),r.transition&&Qi(y,r.transition),m=y,To(p),m}const A1=t=>{let e;for(const r in t)(r==="class"||r==="style"||Xo(r))&&((e||(e={}))[r]=t[r]);return e},D1=(t,e)=>{const r={};for(const n in t)(!Ef(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function R1(t,e,r){const{props:n,children:a,component:i}=t,{props:s,children:o,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?Md(n,s,u):!!s;if(l&8){const c=e.dynamicProps;for(let f=0;f<c.length;f++){const h=c[f];if(s[h]!==n[h]&&!il(u,h))return!0}}}else return(a||o)&&(!o||!o.$stable)?!0:n===s?!1:n?s?Md(n,s,u):!0:!!s;return!1}function Md(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let a=0;a<n.length;a++){const i=n[a];if(e[i]!==t[i]&&!il(r,i))return!0}return!1}function L1({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const lm=t=>t.__isSuspense;function M1(t,e){e&&e.pendingBranch?We(t)?e.effects.push(...t):e.effects.push(t):zb(t)}const ft=Symbol.for("v-fgt"),sl=Symbol.for("v-txt"),rr=Symbol.for("v-cmt"),ql=Symbol.for("v-stc"),Hi=[];let Sr=null;function be(t=!1){Hi.push(Sr=t?null:[])}function P1(){Hi.pop(),Sr=Hi[Hi.length-1]||null}let Ji=1;function Pd(t,e=!1){Ji+=t,t<0&&Sr&&e&&(Sr.hasOnce=!0)}function um(t){return t.dynamicChildren=Ji>0?Sr||Ya:null,P1(),Ji>0&&Sr&&Sr.push(t),t}function xe(t,e,r,n,a,i){return um(_(t,e,r,n,a,i,!0))}function Ea(t,e,r,n,a){return um(Bt(t,e,r,n,a,!0))}function ji(t){return t?t.__v_isVNode===!0:!1}function ha(t,e){return t.type===e.type&&t.key===e.key}const cm=({key:t})=>t??null,no=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?Pt(t)||ar(t)||Xe(t)?{i:qt,r:t,k:e,f:!!r}:t:null);function _(t,e=null,r=null,n=0,a=null,i=t===ft?0:1,s=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&cm(e),ref:e&&no(e),scopeId:kp,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:qt};return o?(kf(l,r),i&128&&t.normalize(l)):r&&(l.shapeFlag|=Pt(r)?8:16),Ji>0&&!s&&Sr&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Sr.push(l),l}const Bt=N1;function N1(t,e=null,r=null,n=0,a=null,i=!1){if((!t||t===t1)&&(t=rr),ji(t)){const o=Hn(t,e,!0);return r&&kf(o,r),Ji>0&&!i&&Sr&&(o.shapeFlag&6?Sr[Sr.indexOf(t)]=o:Sr.push(o)),o.patchFlag=-2,o}if(q1(t)&&(t=t.__vccOpts),e){e=O1(e);let{class:o,style:l}=e;o&&!Pt(o)&&(e.class=Rt(o)),mt(l)&&(Mf(l)&&!We(l)&&(l=Yt({},l)),e.style=Zn(l))}const s=Pt(t)?1:lm(t)?128:Ip(t)?64:mt(t)?4:Xe(t)?2:0;return _(t,e,r,n,a,s,i,!0)}function O1(t){return t?Mf(t)||Qp(t)?Yt({},t):t:null}function Hn(t,e,r=!1,n=!1){const{props:a,ref:i,patchFlag:s,children:o,transition:l}=t,u=e?k1(a||{},e):a,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&cm(u),ref:e&&e.ref?r&&i?We(i)?i.concat(no(e)):[i,no(e)]:no(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ft?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Hn(t.ssContent),ssFallback:t.ssFallback&&Hn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&Qi(c,l.clone(c)),c}function Ar(t=" ",e=0){return Bt(sl,null,t,e)}function Ke(t="",e=!1){return e?(be(),Ea(rr,null,t)):Bt(rr,null,t)}function Jr(t){return t==null||typeof t=="boolean"?Bt(rr):We(t)?Bt(ft,null,t.slice()):ji(t)?Pn(t):Bt(sl,null,String(t))}function Pn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Hn(t)}function kf(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(We(e))r=16;else if(typeof e=="object")if(n&65){const a=e.default;a&&(a._c&&(a._d=!1),kf(t,a()),a._c&&(a._d=!0));return}else{r=32;const a=e._;!a&&!Qp(e)?e._ctx=qt:a===3&&qt&&(qt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Xe(e)?(e={default:e,_ctx:qt},r=32):(e=String(e),n&64?(r=16,e=[Ar(e)]):r=8);t.children=e,t.shapeFlag|=r}function k1(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const a in n)if(a==="class")e.class!==n.class&&(e.class=Rt([e.class,n.class]));else if(a==="style")e.style=Zn([e.style,n.style]);else if(Xo(a)){const i=e[a],s=n[a];s&&i!==s&&!(We(i)&&i.includes(s))&&(e[a]=i?[].concat(i,s):s)}else a!==""&&(e[a]=n[a])}return e}function Wr(t,e,r,n=null){Ur(t,e,7,[r,n])}const I1=Kp();let F1=0;function B1(t,e,r){const n=t.type,a=(e?e.appContext:t.appContext)||I1,i={uid:F1++,vnode:t,type:n,parent:e,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ub(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(a.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:jp(n,a),emitsOptions:om(n,a),emit:null,emitted:null,propsDefaults:gt,inheritAttrs:n.inheritAttrs,ctx:gt,data:gt,props:gt,attrs:gt,slots:gt,refs:gt,setupState:gt,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=S1.bind(null,i),t.ce&&t.ce(i),i}let $t=null;const _1=()=>$t||qt;let Do,Hc;{const t=Qo(),e=(r,n)=>{let a;return(a=t[r])||(a=t[r]=[]),a.push(n),i=>{a.length>1?a.forEach(s=>s(i)):a[0](i)}};Do=e("__VUE_INSTANCE_SETTERS__",r=>$t=r),Hc=e("__VUE_SSR_SETTERS__",r=>es=r)}const bs=t=>{const e=$t;return Do(t),t.scope.on(),()=>{t.scope.off(),Do(e)}},Nd=()=>{$t&&$t.scope.off(),Do(null)};function fm(t){return t.vnode.shapeFlag&4}let es=!1;function z1(t,e=!1,r=!1){e&&Hc(e);const{props:n,children:a}=t.vnode,i=fm(t);f1(t,n,i,e),g1(t,a,r||e);const s=i?U1(t,e):void 0;return e&&Hc(!1),s}function U1(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,n1);const{setup:n}=r;if(n){pn();const a=t.setupContext=n.length>1?H1(t):null,i=bs(t),s=ms(n,t,0,[t.props,a]),o=ip(s);if(mn(),i(),(o||t.sp)&&!Ja(t)&&Hp(t),o){if(s.then(Nd,Nd),e)return s.then(l=>{Od(t,l)}).catch(l=>{tl(l,t,0)});t.asyncDep=s}else Od(t,s)}else dm(t)}function Od(t,e,r){Xe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:mt(e)&&(t.setupState=Lp(e)),dm(t)}function dm(t,e,r){const n=t.type;t.render||(t.render=n.render||en);{const a=bs(t);pn();try{a1(t)}finally{mn(),a()}}}const V1={get(t,e){return tr(t,"get",""),t[e]}};function H1(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,V1),slots:t.slots,emit:t.emit,expose:e}}function ol(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Lp(Lb(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Vi)return Vi[r](t)},has(e,r){return r in e||r in Vi}})):t.proxy}function G1(t,e=!0){return Xe(t)?t.displayName||t.name:t.name||e&&t.__name}function q1(t){return Xe(t)&&"__vccOpts"in t}const St=(t,e)=>kb(t,e,es);function If(t,e,r){const n=arguments.length;return n===2?mt(e)&&!We(e)?ji(e)?Bt(t,null,[e]):Bt(t,e):Bt(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&ji(r)&&(r=[r]),Bt(t,e,r))}const W1="3.5.14";/**
* @vue/runtime-dom v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Gc;const kd=typeof window<"u"&&window.trustedTypes;if(kd)try{Gc=kd.createPolicy("vue",{createHTML:t=>t})}catch{}const hm=Gc?t=>Gc.createHTML(t):t=>t,Y1="http://www.w3.org/2000/svg",X1="http://www.w3.org/1998/Math/MathML",cn=typeof document<"u"?document:null,Id=cn&&cn.createElement("template"),K1={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const a=e==="svg"?cn.createElementNS(Y1,t):e==="mathml"?cn.createElementNS(X1,t):r?cn.createElement(t,{is:r}):cn.createElement(t);return t==="select"&&n&&n.multiple!=null&&a.setAttribute("multiple",n.multiple),a},createText:t=>cn.createTextNode(t),createComment:t=>cn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>cn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,a,i){const s=r?r.previousSibling:e.lastChild;if(a&&(a===i||a.nextSibling))for(;e.insertBefore(a.cloneNode(!0),r),!(a===i||!(a=a.nextSibling)););else{Id.innerHTML=hm(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const o=Id.content;if(n==="svg"||n==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,r)}return[s?s.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},Sn="transition",Ci="animation",ts=Symbol("_vtc"),vm={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},$1=Yt({},Fp,vm),Z1=t=>(t.displayName="Transition",t.props=$1,t),Q1=Z1((t,{slots:e})=>If(Gb,J1(t),e)),sa=(t,e=[])=>{We(t)?t.forEach(r=>r(...e)):t&&t(...e)},Fd=t=>t?We(t)?t.some(e=>e.length>1):t.length>1:!1;function J1(t){const e={};for(const S in t)S in vm||(e[S]=t[S]);if(t.css===!1)return e;const{name:r="v",type:n,duration:a,enterFromClass:i=`${r}-enter-from`,enterActiveClass:s=`${r}-enter-active`,enterToClass:o=`${r}-enter-to`,appearFromClass:l=i,appearActiveClass:u=s,appearToClass:c=o,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:h=`${r}-leave-active`,leaveToClass:d=`${r}-leave-to`}=t,v=j1(a),g=v&&v[0],p=v&&v[1],{onBeforeEnter:m,onEnter:b,onEnterCancelled:y,onLeave:w,onLeaveCancelled:x,onBeforeAppear:D=m,onAppear:C=b,onAppearCancelled:N=y}=e,k=(S,P,E,L)=>{S._enterCancelled=L,oa(S,P?c:o),oa(S,P?u:s),E&&E()},O=(S,P)=>{S._isLeaving=!1,oa(S,f),oa(S,d),oa(S,h),P&&P()},F=S=>(P,E)=>{const L=S?C:b,A=()=>k(P,S,E);sa(L,[P,A]),Bd(()=>{oa(P,S?l:i),on(P,S?c:o),Fd(L)||_d(P,n,g,A)})};return Yt(e,{onBeforeEnter(S){sa(m,[S]),on(S,i),on(S,s)},onBeforeAppear(S){sa(D,[S]),on(S,l),on(S,u)},onEnter:F(!1),onAppear:F(!0),onLeave(S,P){S._isLeaving=!0;const E=()=>O(S,P);on(S,f),S._enterCancelled?(on(S,h),Vd()):(Vd(),on(S,h)),Bd(()=>{S._isLeaving&&(oa(S,f),on(S,d),Fd(w)||_d(S,n,p,E))}),sa(w,[S,E])},onEnterCancelled(S){k(S,!1,void 0,!0),sa(y,[S])},onAppearCancelled(S){k(S,!0,void 0,!0),sa(N,[S])},onLeaveCancelled(S){O(S),sa(x,[S])}})}function j1(t){if(t==null)return null;if(mt(t))return[Wl(t.enter),Wl(t.leave)];{const e=Wl(t);return[e,e]}}function Wl(t){return eb(t)}function on(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[ts]||(t[ts]=new Set)).add(e)}function oa(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const r=t[ts];r&&(r.delete(e),r.size||(t[ts]=void 0))}function Bd(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let ew=0;function _d(t,e,r,n){const a=t._endId=++ew,i=()=>{a===t._endId&&n()};if(r!=null)return setTimeout(i,r);const{type:s,timeout:o,propCount:l}=tw(t,e);if(!s)return n();const u=s+"end";let c=0;const f=()=>{t.removeEventListener(u,h),i()},h=d=>{d.target===t&&++c>=l&&f()};setTimeout(()=>{c<l&&f()},o+1),t.addEventListener(u,h)}function tw(t,e){const r=window.getComputedStyle(t),n=v=>(r[v]||"").split(", "),a=n(`${Sn}Delay`),i=n(`${Sn}Duration`),s=zd(a,i),o=n(`${Ci}Delay`),l=n(`${Ci}Duration`),u=zd(o,l);let c=null,f=0,h=0;e===Sn?s>0&&(c=Sn,f=s,h=i.length):e===Ci?u>0&&(c=Ci,f=u,h=l.length):(f=Math.max(s,u),c=f>0?s>u?Sn:Ci:null,h=c?c===Sn?i.length:l.length:0);const d=c===Sn&&/\b(transform|all)(,|$)/.test(n(`${Sn}Property`).toString());return{type:c,timeout:f,propCount:h,hasTransform:d}}function zd(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,n)=>Ud(r)+Ud(t[n])))}function Ud(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Vd(){return document.body.offsetHeight}function rw(t,e,r){const n=t[ts];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const Ro=Symbol("_vod"),gm=Symbol("_vsh"),pm={beforeMount(t,{value:e},{transition:r}){t[Ro]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):Ti(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),Ti(t,!0),n.enter(t)):n.leave(t,()=>{Ti(t,!1)}):Ti(t,e))},beforeUnmount(t,{value:e}){Ti(t,e)}};function Ti(t,e){t.style.display=e?t[Ro]:"none",t[gm]=!e}const nw=Symbol(""),aw=/(^|;)\s*display\s*:/;function iw(t,e,r){const n=t.style,a=Pt(r);let i=!1;if(r&&!a){if(e)if(Pt(e))for(const s of e.split(";")){const o=s.slice(0,s.indexOf(":")).trim();r[o]==null&&ao(n,o,"")}else for(const s in e)r[s]==null&&ao(n,s,"");for(const s in r)s==="display"&&(i=!0),ao(n,s,r[s])}else if(a){if(e!==r){const s=n[nw];s&&(r+=";"+s),n.cssText=r,i=aw.test(r)}}else e&&t.removeAttribute("style");Ro in t&&(t[Ro]=i?n.display:"",t[gm]&&(n.display="none"))}const Hd=/\s*!important$/;function ao(t,e,r){if(We(r))r.forEach(n=>ao(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=sw(t,e);Hd.test(r)?t.setProperty(Ra(n),r.replace(Hd,""),"important"):t[n]=r}}const Gd=["Webkit","Moz","ms"],Yl={};function sw(t,e){const r=Yl[e];if(r)return r;let n=Or(e);if(n!=="filter"&&n in t)return Yl[e]=n;n=Zo(n);for(let a=0;a<Gd.length;a++){const i=Gd[a]+n;if(i in t)return Yl[e]=i}return e}const qd="http://www.w3.org/1999/xlink";function Wd(t,e,r,n,a,i=sb(e)){n&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(qd,e.slice(6,e.length)):t.setAttributeNS(qd,e,r):r==null||i&&!up(r)?t.removeAttribute(e):t.setAttribute(e,i?"":zr(r)?String(r):r)}function Yd(t,e,r,n,a){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?hm(r):r);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const o=i==="OPTION"?t.getAttribute("value")||"":t.value,l=r==null?t.type==="checkbox"?"on":"":String(r);(o!==l||!("_value"in t))&&(t.value=l),r==null&&t.removeAttribute(e),t._value=r;return}let s=!1;if(r===""||r==null){const o=typeof t[e];o==="boolean"?r=up(r):r==null&&o==="string"?(r="",s=!0):o==="number"&&(r=0,s=!0)}try{t[e]=r}catch{}s&&t.removeAttribute(a||e)}function va(t,e,r,n){t.addEventListener(e,r,n)}function ow(t,e,r,n){t.removeEventListener(e,r,n)}const Xd=Symbol("_vei");function lw(t,e,r,n,a=null){const i=t[Xd]||(t[Xd]={}),s=i[e];if(n&&s)s.value=n;else{const[o,l]=uw(e);if(n){const u=i[e]=dw(n,a);va(t,o,u,l)}else s&&(ow(t,o,s,l),i[e]=void 0)}}const Kd=/(?:Once|Passive|Capture)$/;function uw(t){let e;if(Kd.test(t)){e={};let n;for(;n=t.match(Kd);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ra(t.slice(2)),e]}let Xl=0;const cw=Promise.resolve(),fw=()=>Xl||(cw.then(()=>Xl=0),Xl=Date.now());function dw(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;Ur(hw(n,r.value),e,5,[n])};return r.value=t,r.attached=fw(),r}function hw(t,e){if(We(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>a=>!a._stopped&&n&&n(a))}else return e}const $d=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,vw=(t,e,r,n,a,i)=>{const s=a==="svg";e==="class"?rw(t,n,s):e==="style"?iw(t,r,n):Xo(e)?Ef(e)||lw(t,e,r,n,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):gw(t,e,n,s))?(Yd(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Wd(t,e,n,s,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Pt(n))?Yd(t,Or(e),n,i,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),Wd(t,e,n,s))};function gw(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&$d(e)&&Xe(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const a=t.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return $d(e)&&Pt(r)?!1:e in t}const Lo=t=>{const e=t.props["onUpdate:modelValue"]||!1;return We(e)?r=>to(e,r):e};function pw(t){t.target.composing=!0}function Zd(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ei=Symbol("_assign"),Tt={created(t,{modifiers:{lazy:e,trim:r,number:n}},a){t[ei]=Lo(a);const i=n||a.props&&a.props.type==="number";va(t,e?"change":"input",s=>{if(s.target.composing)return;let o=t.value;r&&(o=o.trim()),i&&(o=wo(o)),t[ei](o)}),r&&va(t,"change",()=>{t.value=t.value.trim()}),e||(va(t,"compositionstart",pw),va(t,"compositionend",Zd),va(t,"change",Zd))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:r,modifiers:{lazy:n,trim:a,number:i}},s){if(t[ei]=Lo(s),t.composing)return;const o=(i||t.type==="number")&&!/^0\d/.test(t.value)?wo(t.value):t.value,l=e??"";o!==l&&(document.activeElement===t&&t.type!=="range"&&(n&&e===r||a&&t.value.trim()===l)||(t.value=l))}},rs={deep:!0,created(t,{value:e,modifiers:{number:r}},n){const a=Ko(e);va(t,"change",()=>{const i=Array.prototype.filter.call(t.options,s=>s.selected).map(s=>r?wo(Mo(s)):Mo(s));t[ei](t.multiple?a?new Set(i):i:i[0]),t._assigning=!0,Qr(()=>{t._assigning=!1})}),t[ei]=Lo(n)},mounted(t,{value:e}){Qd(t,e)},beforeUpdate(t,e,r){t[ei]=Lo(r)},updated(t,{value:e}){t._assigning||Qd(t,e)}};function Qd(t,e){const r=t.multiple,n=We(e);if(!(r&&!n&&!Ko(e))){for(let a=0,i=t.options.length;a<i;a++){const s=t.options[a],o=Mo(s);if(r)if(n){const l=typeof o;l==="string"||l==="number"?s.selected=e.some(u=>String(u)===String(o)):s.selected=lb(e,o)>-1}else s.selected=e.has(o);else if(Jo(Mo(s),e)){t.selectedIndex!==a&&(t.selectedIndex=a);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Mo(t){return"_value"in t?t._value:t.value}const mw=["ctrl","shift","alt","meta"],yw={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>mw.some(r=>t[`${r}Key`]&&!e.includes(r))},br=(t,e)=>{const r=t._withMods||(t._withMods={}),n=e.join(".");return r[n]||(r[n]=(a,...i)=>{for(let s=0;s<e.length;s++){const o=yw[e[s]];if(o&&o(a,e))return}return t(a,...i)})},bw=Yt({patchProp:vw},K1);let Jd;function ww(){return Jd||(Jd=m1(bw))}const Ew=(...t)=>{const e=ww().createApp(...t),{mount:r}=e;return e.mount=n=>{const a=Cw(n);if(!a)return;const i=e._component;!Xe(i)&&!i.render&&!i.template&&(i.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const s=r(a,!1,xw(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),s},e};function xw(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Cw(t){return Pt(t)?document.querySelector(t):t}const hr=(t,e)=>{const r=t.__vccOpts||t;for(const[n,a]of e)r[n]=a;return r},Tw={name:"App"};function Sw(t,e,r,n,a,i){const s=vn("router-view");return be(),Ea(s)}const Aw=hr(Tw,[["render",Sw]]);/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Va=typeof document<"u";function mm(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Dw(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&mm(t.default)}const ot=Object.assign;function Kl(t,e){const r={};for(const n in e){const a=e[n];r[n]=Vr(a)?a.map(t):t(a)}return r}const Gi=()=>{},Vr=Array.isArray,ym=/#/g,Rw=/&/g,Lw=/\//g,Mw=/=/g,Pw=/\?/g,bm=/\+/g,Nw=/%5B/g,Ow=/%5D/g,wm=/%5E/g,kw=/%60/g,Em=/%7B/g,Iw=/%7C/g,xm=/%7D/g,Fw=/%20/g;function Ff(t){return encodeURI(""+t).replace(Iw,"|").replace(Nw,"[").replace(Ow,"]")}function Bw(t){return Ff(t).replace(Em,"{").replace(xm,"}").replace(wm,"^")}function qc(t){return Ff(t).replace(bm,"%2B").replace(Fw,"+").replace(ym,"%23").replace(Rw,"%26").replace(kw,"`").replace(Em,"{").replace(xm,"}").replace(wm,"^")}function _w(t){return qc(t).replace(Mw,"%3D")}function zw(t){return Ff(t).replace(ym,"%23").replace(Pw,"%3F")}function Uw(t){return t==null?"":zw(t).replace(Lw,"%2F")}function ns(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Vw=/\/$/,Hw=t=>t.replace(Vw,"");function $l(t,e,r="/"){let n,a={},i="",s="";const o=e.indexOf("#");let l=e.indexOf("?");return o<l&&o>=0&&(l=-1),l>-1&&(n=e.slice(0,l),i=e.slice(l+1,o>-1?o:e.length),a=t(i)),o>-1&&(n=n||e.slice(0,o),s=e.slice(o,e.length)),n=Yw(n??e,r),{fullPath:n+(i&&"?")+i+s,path:n,query:a,hash:ns(s)}}function Gw(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function jd(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function qw(t,e,r){const n=e.matched.length-1,a=r.matched.length-1;return n>-1&&n===a&&ii(e.matched[n],r.matched[a])&&Cm(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function ii(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Cm(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!Ww(t[r],e[r]))return!1;return!0}function Ww(t,e){return Vr(t)?eh(t,e):Vr(e)?eh(e,t):t===e}function eh(t,e){return Vr(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function Yw(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),a=n[n.length-1];(a===".."||a===".")&&n.push("");let i=r.length-1,s,o;for(s=0;s<n.length;s++)if(o=n[s],o!==".")if(o==="..")i>1&&i--;else break;return r.slice(0,i).join("/")+"/"+n.slice(s).join("/")}const An={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var as;(function(t){t.pop="pop",t.push="push"})(as||(as={}));var qi;(function(t){t.back="back",t.forward="forward",t.unknown=""})(qi||(qi={}));function Xw(t){if(!t)if(Va){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Hw(t)}const Kw=/^[^#]+#/;function $w(t,e){return t.replace(Kw,"#")+e}function Zw(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const ll=()=>({left:window.scrollX,top:window.scrollY});function Qw(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),a=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!a)return;e=Zw(a,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function th(t,e){return(history.state?history.state.position-e:-1)+t}const Wc=new Map;function Jw(t,e){Wc.set(t,e)}function jw(t){const e=Wc.get(t);return Wc.delete(t),e}let eE=()=>location.protocol+"//"+location.host;function Tm(t,e){const{pathname:r,search:n,hash:a}=e,i=t.indexOf("#");if(i>-1){let o=a.includes(t.slice(i))?t.slice(i).length:1,l=a.slice(o);return l[0]!=="/"&&(l="/"+l),jd(l,"")}return jd(r,t)+n+a}function tE(t,e,r,n){let a=[],i=[],s=null;const o=({state:h})=>{const d=Tm(t,location),v=r.value,g=e.value;let p=0;if(h){if(r.value=d,e.value=h,s&&s===v){s=null;return}p=g?h.position-g.position:0}else n(d);a.forEach(m=>{m(r.value,v,{delta:p,type:as.pop,direction:p?p>0?qi.forward:qi.back:qi.unknown})})};function l(){s=r.value}function u(h){a.push(h);const d=()=>{const v=a.indexOf(h);v>-1&&a.splice(v,1)};return i.push(d),d}function c(){const{history:h}=window;h.state&&h.replaceState(ot({},h.state,{scroll:ll()}),"")}function f(){for(const h of i)h();i=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:f}}function rh(t,e,r,n=!1,a=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:a?ll():null}}function rE(t){const{history:e,location:r}=window,n={value:Tm(t,r)},a={value:e.state};a.value||i(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const f=t.indexOf("#"),h=f>-1?(r.host&&document.querySelector("base")?t:t.slice(f))+l:eE()+t+l;try{e[c?"replaceState":"pushState"](u,"",h),a.value=u}catch(d){console.error(d),r[c?"replace":"assign"](h)}}function s(l,u){const c=ot({},e.state,rh(a.value.back,l,a.value.forward,!0),u,{position:a.value.position});i(l,c,!0),n.value=l}function o(l,u){const c=ot({},a.value,e.state,{forward:l,scroll:ll()});i(c.current,c,!0);const f=ot({},rh(n.value,l,null),{position:c.position+1},u);i(l,f,!1),n.value=l}return{location:n,state:a,push:o,replace:s}}function nE(t){t=Xw(t);const e=rE(t),r=tE(t,e.state,e.location,e.replace);function n(i,s=!0){s||r.pauseListeners(),history.go(i)}const a=ot({location:"",base:t,go:n,createHref:$w.bind(null,t)},e,r);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>e.state.value}),a}function aE(t){return typeof t=="string"||t&&typeof t=="object"}function Sm(t){return typeof t=="string"||typeof t=="symbol"}const Am=Symbol("");var nh;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(nh||(nh={}));function si(t,e){return ot(new Error,{type:t,[Am]:!0},e)}function ln(t,e){return t instanceof Error&&Am in t&&(e==null||!!(t.type&e))}const ah="[^/]+?",iE={sensitive:!1,strict:!1,start:!0,end:!0},sE=/[.+*?^${}()[\]/\\]/g;function oE(t,e){const r=ot({},iE,e),n=[];let a=r.start?"^":"";const i=[];for(const u of t){const c=u.length?[]:[90];r.strict&&!u.length&&(a+="/");for(let f=0;f<u.length;f++){const h=u[f];let d=40+(r.sensitive?.25:0);if(h.type===0)f||(a+="/"),a+=h.value.replace(sE,"\\$&"),d+=40;else if(h.type===1){const{value:v,repeatable:g,optional:p,regexp:m}=h;i.push({name:v,repeatable:g,optional:p});const b=m||ah;if(b!==ah){d+=10;try{new RegExp(`(${b})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${v}" (${b}): `+w.message)}}let y=g?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;f||(y=p&&u.length<2?`(?:/${y})`:"/"+y),p&&(y+="?"),a+=y,d+=20,p&&(d+=-8),g&&(d+=-20),b===".*"&&(d+=-50)}c.push(d)}n.push(c)}if(r.strict&&r.end){const u=n.length-1;n[u][n[u].length-1]+=.7000000000000001}r.strict||(a+="/?"),r.end?a+="$":r.strict&&!a.endsWith("/")&&(a+="(?:/|$)");const s=new RegExp(a,r.sensitive?"":"i");function o(u){const c=u.match(s),f={};if(!c)return null;for(let h=1;h<c.length;h++){const d=c[h]||"",v=i[h-1];f[v.name]=d&&v.repeatable?d.split("/"):d}return f}function l(u){let c="",f=!1;for(const h of t){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const d of h)if(d.type===0)c+=d.value;else if(d.type===1){const{value:v,repeatable:g,optional:p}=d,m=v in u?u[v]:"";if(Vr(m)&&!g)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const b=Vr(m)?m.join("/"):m;if(!b)if(p)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${v}"`);c+=b}}return c||"/"}return{re:s,score:n,keys:i,parse:o,stringify:l}}function lE(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Dm(t,e){let r=0;const n=t.score,a=e.score;for(;r<n.length&&r<a.length;){const i=lE(n[r],a[r]);if(i)return i;r++}if(Math.abs(a.length-n.length)===1){if(ih(n))return 1;if(ih(a))return-1}return a.length-n.length}function ih(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const uE={type:0,value:""},cE=/[a-zA-Z0-9_]/;function fE(t){if(!t)return[[]];if(t==="/")return[[uE]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${r})/"${u}": ${d}`)}let r=0,n=r;const a=[];let i;function s(){i&&a.push(i),i=[]}let o=0,l,u="",c="";function f(){u&&(r===0?i.push({type:0,value:u}):r===1||r===2||r===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;o<t.length;){if(l=t[o++],l==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:l==="/"?(u&&f(),s()):l===":"?(f(),r=1):h();break;case 4:h(),r=n;break;case 1:l==="("?r=2:cE.test(l)?h():(f(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&o--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:r=3:c+=l;break;case 3:f(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&o--,c="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${u}"`),f(),s(),a}function dE(t,e,r){const n=oE(fE(t.path),r),a=ot(n,{record:t,parent:e,children:[],alias:[]});return e&&!a.record.aliasOf==!e.record.aliasOf&&e.children.push(a),a}function hE(t,e){const r=[],n=new Map;e=uh({strict:!1,end:!0,sensitive:!1},e);function a(f){return n.get(f)}function i(f,h,d){const v=!d,g=oh(f);g.aliasOf=d&&d.record;const p=uh(e,f),m=[g];if("alias"in f){const w=typeof f.alias=="string"?[f.alias]:f.alias;for(const x of w)m.push(oh(ot({},g,{components:d?d.record.components:g.components,path:x,aliasOf:d?d.record:g})))}let b,y;for(const w of m){const{path:x}=w;if(h&&x[0]!=="/"){const D=h.record.path,C=D[D.length-1]==="/"?"":"/";w.path=h.record.path+(x&&C+x)}if(b=dE(w,h,p),d?d.alias.push(b):(y=y||b,y!==b&&y.alias.push(b),v&&f.name&&!lh(b)&&s(f.name)),Rm(b)&&l(b),g.children){const D=g.children;for(let C=0;C<D.length;C++)i(D[C],b,d&&d.children[C])}d=d||b}return y?()=>{s(y)}:Gi}function s(f){if(Sm(f)){const h=n.get(f);h&&(n.delete(f),r.splice(r.indexOf(h),1),h.children.forEach(s),h.alias.forEach(s))}else{const h=r.indexOf(f);h>-1&&(r.splice(h,1),f.record.name&&n.delete(f.record.name),f.children.forEach(s),f.alias.forEach(s))}}function o(){return r}function l(f){const h=pE(f,r);r.splice(h,0,f),f.record.name&&!lh(f)&&n.set(f.record.name,f)}function u(f,h){let d,v={},g,p;if("name"in f&&f.name){if(d=n.get(f.name),!d)throw si(1,{location:f});p=d.record.name,v=ot(sh(h.params,d.keys.filter(y=>!y.optional).concat(d.parent?d.parent.keys.filter(y=>y.optional):[]).map(y=>y.name)),f.params&&sh(f.params,d.keys.map(y=>y.name))),g=d.stringify(v)}else if(f.path!=null)g=f.path,d=r.find(y=>y.re.test(g)),d&&(v=d.parse(g),p=d.record.name);else{if(d=h.name?n.get(h.name):r.find(y=>y.re.test(h.path)),!d)throw si(1,{location:f,currentLocation:h});p=d.record.name,v=ot({},h.params,f.params),g=d.stringify(v)}const m=[];let b=d;for(;b;)m.unshift(b.record),b=b.parent;return{name:p,path:g,params:v,matched:m,meta:gE(m)}}t.forEach(f=>i(f));function c(){r.length=0,n.clear()}return{addRoute:i,resolve:u,removeRoute:s,clearRoutes:c,getRoutes:o,getRecordMatcher:a}}function sh(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function oh(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:vE(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function vE(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="object"?r[n]:r;return e}function lh(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function gE(t){return t.reduce((e,r)=>ot(e,r.meta),{})}function uh(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}function pE(t,e){let r=0,n=e.length;for(;r!==n;){const i=r+n>>1;Dm(t,e[i])<0?n=i:r=i+1}const a=mE(t);return a&&(n=e.lastIndexOf(a,n-1)),n}function mE(t){let e=t;for(;e=e.parent;)if(Rm(e)&&Dm(t,e)===0)return e}function Rm({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function yE(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let a=0;a<n.length;++a){const i=n[a].replace(bm," "),s=i.indexOf("="),o=ns(s<0?i:i.slice(0,s)),l=s<0?null:ns(i.slice(s+1));if(o in e){let u=e[o];Vr(u)||(u=e[o]=[u]),u.push(l)}else e[o]=l}return e}function ch(t){let e="";for(let r in t){const n=t[r];if(r=_w(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(Vr(n)?n.map(i=>i&&qc(i)):[n&&qc(n)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+r,i!=null&&(e+="="+i))})}return e}function bE(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=Vr(n)?n.map(a=>a==null?null:""+a):n==null?n:""+n)}return e}const wE=Symbol(""),fh=Symbol(""),ul=Symbol(""),Bf=Symbol(""),Yc=Symbol("");function Si(){let t=[];function e(n){return t.push(n),()=>{const a=t.indexOf(n);a>-1&&t.splice(a,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function Nn(t,e,r,n,a,i=s=>s()){const s=n&&(n.enterCallbacks[a]=n.enterCallbacks[a]||[]);return()=>new Promise((o,l)=>{const u=h=>{h===!1?l(si(4,{from:r,to:e})):h instanceof Error?l(h):aE(h)?l(si(2,{from:e,to:h})):(s&&n.enterCallbacks[a]===s&&typeof h=="function"&&s.push(h),o())},c=i(()=>t.call(n&&n.instances[a],e,r,u));let f=Promise.resolve(c);t.length<3&&(f=f.then(u)),f.catch(h=>l(h))})}function Zl(t,e,r,n,a=i=>i()){const i=[];for(const s of t)for(const o in s.components){let l=s.components[o];if(!(e!=="beforeRouteEnter"&&!s.instances[o]))if(mm(l)){const c=(l.__vccOpts||l)[e];c&&i.push(Nn(c,r,n,s,o,a))}else{let u=l();i.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${o}" at "${s.path}"`);const f=Dw(c)?c.default:c;s.mods[o]=c,s.components[o]=f;const d=(f.__vccOpts||f)[e];return d&&Nn(d,r,n,s,o,a)()}))}}return i}function dh(t){const e=Br(ul),r=Br(Bf),n=St(()=>{const l=$a(t.to);return e.resolve(l)}),a=St(()=>{const{matched:l}=n.value,{length:u}=l,c=l[u-1],f=r.matched;if(!c||!f.length)return-1;const h=f.findIndex(ii.bind(null,c));if(h>-1)return h;const d=hh(l[u-2]);return u>1&&hh(c)===d&&f[f.length-1].path!==d?f.findIndex(ii.bind(null,l[u-2])):h}),i=St(()=>a.value>-1&&SE(r.params,n.value.params)),s=St(()=>a.value>-1&&a.value===r.matched.length-1&&Cm(r.params,n.value.params));function o(l={}){if(TE(l)){const u=e[$a(t.replace)?"replace":"push"]($a(t.to)).catch(Gi);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:n,href:St(()=>n.value.href),isActive:i,isExactActive:s,navigate:o}}function EE(t){return t.length===1?t[0]:t}const xE=Vp({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:dh,setup(t,{slots:e}){const r=el(dh(t)),{options:n}=Br(ul),a=St(()=>({[vh(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[vh(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const i=e.default&&EE(e.default(r));return t.custom?i:If("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:a.value},i)}}}),CE=xE;function TE(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function SE(t,e){for(const r in e){const n=e[r],a=t[r];if(typeof n=="string"){if(n!==a)return!1}else if(!Vr(a)||a.length!==n.length||n.some((i,s)=>i!==a[s]))return!1}return!0}function hh(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const vh=(t,e,r)=>t??e??r,AE=Vp({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=Br(Yc),a=St(()=>t.route||n.value),i=Br(fh,0),s=St(()=>{let u=$a(i);const{matched:c}=a.value;let f;for(;(f=c[u])&&!f.components;)u++;return u}),o=St(()=>a.value.matched[s.value]);ro(fh,St(()=>s.value+1)),ro(wE,o),ro(Yc,a);const l=ze();return _n(()=>[l.value,o.value,t.name],([u,c,f],[h,d,v])=>{c&&(c.instances[f]=u,d&&d!==c&&u&&u===h&&(c.leaveGuards.size||(c.leaveGuards=d.leaveGuards),c.updateGuards.size||(c.updateGuards=d.updateGuards))),u&&c&&(!d||!ii(c,d)||!h)&&(c.enterCallbacks[f]||[]).forEach(g=>g(u))},{flush:"post"}),()=>{const u=a.value,c=t.name,f=o.value,h=f&&f.components[c];if(!h)return gh(r.default,{Component:h,route:u});const d=f.props[c],v=d?d===!0?u.params:typeof d=="function"?d(u):d:null,p=If(h,ot({},v,e,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(f.instances[c]=null)},ref:l}));return gh(r.default,{Component:p,route:u})||p}}});function gh(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const DE=AE;function RE(t){const e=hE(t.routes,t),r=t.parseQuery||yE,n=t.stringifyQuery||ch,a=t.history,i=Si(),s=Si(),o=Si(),l=Mb(An);let u=An;Va&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Kl.bind(null,Y=>""+Y),f=Kl.bind(null,Uw),h=Kl.bind(null,ns);function d(Y,re){let U,V;return Sm(Y)?(U=e.getRecordMatcher(Y),V=re):V=Y,e.addRoute(V,U)}function v(Y){const re=e.getRecordMatcher(Y);re&&e.removeRoute(re)}function g(){return e.getRoutes().map(Y=>Y.record)}function p(Y){return!!e.getRecordMatcher(Y)}function m(Y,re){if(re=ot({},re||l.value),typeof Y=="string"){const z=$l(r,Y,re.path),K=e.resolve({path:z.path},re),ee=a.createHref(z.fullPath);return ot(z,K,{params:h(K.params),hash:ns(z.hash),redirectedFrom:void 0,href:ee})}let U;if(Y.path!=null)U=ot({},Y,{path:$l(r,Y.path,re.path).path});else{const z=ot({},Y.params);for(const K in z)z[K]==null&&delete z[K];U=ot({},Y,{params:f(z)}),re.params=f(re.params)}const V=e.resolve(U,re),X=Y.hash||"";V.params=c(h(V.params));const M=Gw(n,ot({},Y,{hash:Bw(X),path:V.path})),B=a.createHref(M);return ot({fullPath:M,hash:X,query:n===ch?bE(Y.query):Y.query||{}},V,{redirectedFrom:void 0,href:B})}function b(Y){return typeof Y=="string"?$l(r,Y,l.value.path):ot({},Y)}function y(Y,re){if(u!==Y)return si(8,{from:re,to:Y})}function w(Y){return C(Y)}function x(Y){return w(ot(b(Y),{replace:!0}))}function D(Y){const re=Y.matched[Y.matched.length-1];if(re&&re.redirect){const{redirect:U}=re;let V=typeof U=="function"?U(Y):U;return typeof V=="string"&&(V=V.includes("?")||V.includes("#")?V=b(V):{path:V},V.params={}),ot({query:Y.query,hash:Y.hash,params:V.path!=null?{}:Y.params},V)}}function C(Y,re){const U=u=m(Y),V=l.value,X=Y.state,M=Y.force,B=Y.replace===!0,z=D(U);if(z)return C(ot(b(z),{state:typeof z=="object"?ot({},X,z.state):X,force:M,replace:B}),re||U);const K=U;K.redirectedFrom=re;let ee;return!M&&qw(n,V,U)&&(ee=si(16,{to:K,from:V}),G(V,V,!0,!1)),(ee?Promise.resolve(ee):O(K,V)).catch(ne=>ln(ne)?ln(ne,2)?ne:q(ne):R(ne,K,V)).then(ne=>{if(ne){if(ln(ne,2))return C(ot({replace:B},b(ne.to),{state:typeof ne.to=="object"?ot({},X,ne.to.state):X,force:M}),re||K)}else ne=S(K,V,!0,B,X);return F(K,V,ne),ne})}function N(Y,re){const U=y(Y,re);return U?Promise.reject(U):Promise.resolve()}function k(Y){const re=oe.values().next().value;return re&&typeof re.runWithContext=="function"?re.runWithContext(Y):Y()}function O(Y,re){let U;const[V,X,M]=LE(Y,re);U=Zl(V.reverse(),"beforeRouteLeave",Y,re);for(const z of V)z.leaveGuards.forEach(K=>{U.push(Nn(K,Y,re))});const B=N.bind(null,Y,re);return U.push(B),ae(U).then(()=>{U=[];for(const z of i.list())U.push(Nn(z,Y,re));return U.push(B),ae(U)}).then(()=>{U=Zl(X,"beforeRouteUpdate",Y,re);for(const z of X)z.updateGuards.forEach(K=>{U.push(Nn(K,Y,re))});return U.push(B),ae(U)}).then(()=>{U=[];for(const z of M)if(z.beforeEnter)if(Vr(z.beforeEnter))for(const K of z.beforeEnter)U.push(Nn(K,Y,re));else U.push(Nn(z.beforeEnter,Y,re));return U.push(B),ae(U)}).then(()=>(Y.matched.forEach(z=>z.enterCallbacks={}),U=Zl(M,"beforeRouteEnter",Y,re,k),U.push(B),ae(U))).then(()=>{U=[];for(const z of s.list())U.push(Nn(z,Y,re));return U.push(B),ae(U)}).catch(z=>ln(z,8)?z:Promise.reject(z))}function F(Y,re,U){o.list().forEach(V=>k(()=>V(Y,re,U)))}function S(Y,re,U,V,X){const M=y(Y,re);if(M)return M;const B=re===An,z=Va?history.state:{};U&&(V||B?a.replace(Y.fullPath,ot({scroll:B&&z&&z.scroll},X)):a.push(Y.fullPath,X)),l.value=Y,G(Y,re,U,B),q()}let P;function E(){P||(P=a.listen((Y,re,U)=>{if(!ie.listening)return;const V=m(Y),X=D(V);if(X){C(ot(X,{replace:!0,force:!0}),V).catch(Gi);return}u=V;const M=l.value;Va&&Jw(th(M.fullPath,U.delta),ll()),O(V,M).catch(B=>ln(B,12)?B:ln(B,2)?(C(ot(b(B.to),{force:!0}),V).then(z=>{ln(z,20)&&!U.delta&&U.type===as.pop&&a.go(-1,!1)}).catch(Gi),Promise.reject()):(U.delta&&a.go(-U.delta,!1),R(B,V,M))).then(B=>{B=B||S(V,M,!1),B&&(U.delta&&!ln(B,8)?a.go(-U.delta,!1):U.type===as.pop&&ln(B,20)&&a.go(-1,!1)),F(V,M,B)}).catch(Gi)}))}let L=Si(),A=Si(),T;function R(Y,re,U){q(Y);const V=A.list();return V.length?V.forEach(X=>X(Y,re,U)):console.error(Y),Promise.reject(Y)}function W(){return T&&l.value!==An?Promise.resolve():new Promise((Y,re)=>{L.add([Y,re])})}function q(Y){return T||(T=!Y,E(),L.list().forEach(([re,U])=>Y?U(Y):re()),L.reset()),Y}function G(Y,re,U,V){const{scrollBehavior:X}=t;if(!Va||!X)return Promise.resolve();const M=!U&&jw(th(Y.fullPath,0))||(V||!U)&&history.state&&history.state.scroll||null;return Qr().then(()=>X(Y,re,M)).then(B=>B&&Qw(B)).catch(B=>R(B,Y,re))}const $=Y=>a.go(Y);let Q;const oe=new Set,ie={currentRoute:l,listening:!0,addRoute:d,removeRoute:v,clearRoutes:e.clearRoutes,hasRoute:p,getRoutes:g,resolve:m,options:t,push:w,replace:x,go:$,back:()=>$(-1),forward:()=>$(1),beforeEach:i.add,beforeResolve:s.add,afterEach:o.add,onError:A.add,isReady:W,install(Y){const re=this;Y.component("RouterLink",CE),Y.component("RouterView",DE),Y.config.globalProperties.$router=re,Object.defineProperty(Y.config.globalProperties,"$route",{enumerable:!0,get:()=>$a(l)}),Va&&!Q&&l.value===An&&(Q=!0,w(a.location).catch(X=>{}));const U={};for(const X in An)Object.defineProperty(U,X,{get:()=>l.value[X],enumerable:!0});Y.provide(ul,re),Y.provide(Bf,Ap(U)),Y.provide(Yc,l);const V=Y.unmount;oe.add(Y),Y.unmount=function(){oe.delete(Y),oe.size<1&&(u=An,P&&P(),P=null,l.value=An,Q=!1,T=!1),V()}}};function ae(Y){return Y.reduce((re,U)=>re.then(()=>k(U)),Promise.resolve())}return ie}function LE(t,e){const r=[],n=[],a=[],i=Math.max(e.matched.length,t.matched.length);for(let s=0;s<i;s++){const o=e.matched[s];o&&(t.matched.find(u=>ii(u,o))?n.push(o):r.push(o));const l=t.matched[s];l&&(e.matched.find(u=>ii(u,l))||a.push(l))}return[r,n,a]}function ME(){return Br(ul)}function PE(t){return Br(Bf)}function Lm(t,e){return function(){return t.apply(e,arguments)}}const{toString:NE}=Object.prototype,{getPrototypeOf:_f}=Object,{iterator:cl,toStringTag:Mm}=Symbol,fl=(t=>e=>{const r=NE.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Gr=t=>(t=t.toLowerCase(),e=>fl(e)===t),dl=t=>e=>typeof e===t,{isArray:ci}=Array,is=dl("undefined");function OE(t){return t!==null&&!is(t)&&t.constructor!==null&&!is(t.constructor)&&Er(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Pm=Gr("ArrayBuffer");function kE(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Pm(t.buffer),e}const IE=dl("string"),Er=dl("function"),Nm=dl("number"),hl=t=>t!==null&&typeof t=="object",FE=t=>t===!0||t===!1,io=t=>{if(fl(t)!=="object")return!1;const e=_f(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Mm in t)&&!(cl in t)},BE=Gr("Date"),_E=Gr("File"),zE=Gr("Blob"),UE=Gr("FileList"),VE=t=>hl(t)&&Er(t.pipe),HE=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Er(t.append)&&((e=fl(t))==="formdata"||e==="object"&&Er(t.toString)&&t.toString()==="[object FormData]"))},GE=Gr("URLSearchParams"),[qE,WE,YE,XE]=["ReadableStream","Request","Response","Headers"].map(Gr),KE=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ws(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,a;if(typeof t!="object"&&(t=[t]),ci(t))for(n=0,a=t.length;n<a;n++)e.call(null,t[n],n,t);else{const i=r?Object.getOwnPropertyNames(t):Object.keys(t),s=i.length;let o;for(n=0;n<s;n++)o=i[n],e.call(null,t[o],o,t)}}function Om(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,a;for(;n-- >0;)if(a=r[n],e===a.toLowerCase())return a;return null}const ma=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,km=t=>!is(t)&&t!==ma;function Xc(){const{caseless:t}=km(this)&&this||{},e={},r=(n,a)=>{const i=t&&Om(e,a)||a;io(e[i])&&io(n)?e[i]=Xc(e[i],n):io(n)?e[i]=Xc({},n):ci(n)?e[i]=n.slice():e[i]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&ws(arguments[n],r);return e}const $E=(t,e,r,{allOwnKeys:n}={})=>(ws(e,(a,i)=>{r&&Er(a)?t[i]=Lm(a,r):t[i]=a},{allOwnKeys:n}),t),ZE=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),QE=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},JE=(t,e,r,n)=>{let a,i,s;const o={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),i=a.length;i-- >0;)s=a[i],(!n||n(s,t,e))&&!o[s]&&(e[s]=t[s],o[s]=!0);t=r!==!1&&_f(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},jE=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},ex=t=>{if(!t)return null;if(ci(t))return t;let e=t.length;if(!Nm(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},tx=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&_f(Uint8Array)),rx=(t,e)=>{const n=(t&&t[cl]).call(t);let a;for(;(a=n.next())&&!a.done;){const i=a.value;e.call(t,i[0],i[1])}},nx=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},ax=Gr("HTMLFormElement"),ix=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),ph=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),sx=Gr("RegExp"),Im=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};ws(r,(a,i)=>{let s;(s=e(a,i,t))!==!1&&(n[i]=s||a)}),Object.defineProperties(t,n)},ox=t=>{Im(t,(e,r)=>{if(Er(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Er(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},lx=(t,e)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return ci(t)?n(t):n(String(t).split(e)),r},ux=()=>{},cx=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function fx(t){return!!(t&&Er(t.append)&&t[Mm]==="FormData"&&t[cl])}const dx=t=>{const e=new Array(10),r=(n,a)=>{if(hl(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[a]=n;const i=ci(n)?[]:{};return ws(n,(s,o)=>{const l=r(s,a+1);!is(l)&&(i[o]=l)}),e[a]=void 0,i}}return n};return r(t,0)},hx=Gr("AsyncFunction"),vx=t=>t&&(hl(t)||Er(t))&&Er(t.then)&&Er(t.catch),Fm=((t,e)=>t?setImmediate:e?((r,n)=>(ma.addEventListener("message",({source:a,data:i})=>{a===ma&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),ma.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Er(ma.postMessage)),gx=typeof queueMicrotask<"u"?queueMicrotask.bind(ma):typeof process<"u"&&process.nextTick||Fm,px=t=>t!=null&&Er(t[cl]),ye={isArray:ci,isArrayBuffer:Pm,isBuffer:OE,isFormData:HE,isArrayBufferView:kE,isString:IE,isNumber:Nm,isBoolean:FE,isObject:hl,isPlainObject:io,isReadableStream:qE,isRequest:WE,isResponse:YE,isHeaders:XE,isUndefined:is,isDate:BE,isFile:_E,isBlob:zE,isRegExp:sx,isFunction:Er,isStream:VE,isURLSearchParams:GE,isTypedArray:tx,isFileList:UE,forEach:ws,merge:Xc,extend:$E,trim:KE,stripBOM:ZE,inherits:QE,toFlatObject:JE,kindOf:fl,kindOfTest:Gr,endsWith:jE,toArray:ex,forEachEntry:rx,matchAll:nx,isHTMLForm:ax,hasOwnProperty:ph,hasOwnProp:ph,reduceDescriptors:Im,freezeMethods:ox,toObjectSet:lx,toCamelCase:ix,noop:ux,toFiniteNumber:cx,findKey:Om,global:ma,isContextDefined:km,isSpecCompliantForm:fx,toJSONObject:dx,isAsyncFn:hx,isThenable:vx,setImmediate:Fm,asap:gx,isIterable:px};function $e(t,e,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}ye.inherits($e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ye.toJSONObject(this.config),code:this.code,status:this.status}}});const Bm=$e.prototype,_m={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{_m[t]={value:t}});Object.defineProperties($e,_m);Object.defineProperty(Bm,"isAxiosError",{value:!0});$e.from=(t,e,r,n,a,i)=>{const s=Object.create(Bm);return ye.toFlatObject(t,s,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),$e.call(s,t.message,e,r,n,a),s.cause=t,s.name=t.name,i&&Object.assign(s,i),s};const mx=null;function Kc(t){return ye.isPlainObject(t)||ye.isArray(t)}function zm(t){return ye.endsWith(t,"[]")?t.slice(0,-2):t}function mh(t,e,r){return t?t.concat(e).map(function(a,i){return a=zm(a),!r&&i?"["+a+"]":a}).join(r?".":""):e}function yx(t){return ye.isArray(t)&&!t.some(Kc)}const bx=ye.toFlatObject(ye,{},null,function(e){return/^is[A-Z]/.test(e)});function vl(t,e,r){if(!ye.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=ye.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,p){return!ye.isUndefined(p[g])});const n=r.metaTokens,a=r.visitor||c,i=r.dots,s=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&ye.isSpecCompliantForm(e);if(!ye.isFunction(a))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(ye.isDate(v))return v.toISOString();if(!l&&ye.isBlob(v))throw new $e("Blob is not supported. Use a Buffer instead.");return ye.isArrayBuffer(v)||ye.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function c(v,g,p){let m=v;if(v&&!p&&typeof v=="object"){if(ye.endsWith(g,"{}"))g=n?g:g.slice(0,-2),v=JSON.stringify(v);else if(ye.isArray(v)&&yx(v)||(ye.isFileList(v)||ye.endsWith(g,"[]"))&&(m=ye.toArray(v)))return g=zm(g),m.forEach(function(y,w){!(ye.isUndefined(y)||y===null)&&e.append(s===!0?mh([g],w,i):s===null?g:g+"[]",u(y))}),!1}return Kc(v)?!0:(e.append(mh(p,g,i),u(v)),!1)}const f=[],h=Object.assign(bx,{defaultVisitor:c,convertValue:u,isVisitable:Kc});function d(v,g){if(!ye.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(v),ye.forEach(v,function(m,b){(!(ye.isUndefined(m)||m===null)&&a.call(e,m,ye.isString(b)?b.trim():b,g,h))===!0&&d(m,g?g.concat(b):[b])}),f.pop()}}if(!ye.isObject(t))throw new TypeError("data must be an object");return d(t),e}function yh(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function zf(t,e){this._pairs=[],t&&vl(t,this,e)}const Um=zf.prototype;Um.append=function(e,r){this._pairs.push([e,r])};Um.toString=function(e){const r=e?function(n){return e.call(this,n,yh)}:yh;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function wx(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Vm(t,e,r){if(!e)return t;const n=r&&r.encode||wx;ye.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(e,r):i=ye.isURLSearchParams(e)?e.toString():new zf(e,r).toString(n),i){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class bh{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ye.forEach(this.handlers,function(n){n!==null&&e(n)})}}const Hm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ex=typeof URLSearchParams<"u"?URLSearchParams:zf,xx=typeof FormData<"u"?FormData:null,Cx=typeof Blob<"u"?Blob:null,Tx={isBrowser:!0,classes:{URLSearchParams:Ex,FormData:xx,Blob:Cx},protocols:["http","https","file","blob","url","data"]},Uf=typeof window<"u"&&typeof document<"u",$c=typeof navigator=="object"&&navigator||void 0,Sx=Uf&&(!$c||["ReactNative","NativeScript","NS"].indexOf($c.product)<0),Ax=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Dx=Uf&&window.location.href||"http://localhost",Rx=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Uf,hasStandardBrowserEnv:Sx,hasStandardBrowserWebWorkerEnv:Ax,navigator:$c,origin:Dx},Symbol.toStringTag,{value:"Module"})),nr={...Rx,...Tx};function Lx(t,e){return vl(t,new nr.classes.URLSearchParams,Object.assign({visitor:function(r,n,a,i){return nr.isNode&&ye.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function Mx(t){return ye.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Px(t){const e={},r=Object.keys(t);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],e[i]=t[i];return e}function Gm(t){function e(r,n,a,i){let s=r[i++];if(s==="__proto__")return!0;const o=Number.isFinite(+s),l=i>=r.length;return s=!s&&ye.isArray(a)?a.length:s,l?(ye.hasOwnProp(a,s)?a[s]=[a[s],n]:a[s]=n,!o):((!a[s]||!ye.isObject(a[s]))&&(a[s]=[]),e(r,n,a[s],i)&&ye.isArray(a[s])&&(a[s]=Px(a[s])),!o)}if(ye.isFormData(t)&&ye.isFunction(t.entries)){const r={};return ye.forEachEntry(t,(n,a)=>{e(Mx(n),a,r,0)}),r}return null}function Nx(t,e,r){if(ye.isString(t))try{return(e||JSON.parse)(t),ye.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Es={transitional:Hm,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=ye.isObject(e);if(i&&ye.isHTMLForm(e)&&(e=new FormData(e)),ye.isFormData(e))return a?JSON.stringify(Gm(e)):e;if(ye.isArrayBuffer(e)||ye.isBuffer(e)||ye.isStream(e)||ye.isFile(e)||ye.isBlob(e)||ye.isReadableStream(e))return e;if(ye.isArrayBufferView(e))return e.buffer;if(ye.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Lx(e,this.formSerializer).toString();if((o=ye.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return vl(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),Nx(e)):e}],transformResponse:[function(e){const r=this.transitional||Es.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(ye.isResponse(e)||ye.isReadableStream(e))return e;if(e&&ye.isString(e)&&(n&&!this.responseType||a)){const s=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(o){if(s)throw o.name==="SyntaxError"?$e.from(o,$e.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nr.classes.FormData,Blob:nr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ye.forEach(["delete","get","head","post","put","patch"],t=>{Es.headers[t]={}});const Ox=ye.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kx=t=>{const e={};let r,n,a;return t&&t.split(`
`).forEach(function(s){a=s.indexOf(":"),r=s.substring(0,a).trim().toLowerCase(),n=s.substring(a+1).trim(),!(!r||e[r]&&Ox[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},wh=Symbol("internals");function Ai(t){return t&&String(t).trim().toLowerCase()}function so(t){return t===!1||t==null?t:ye.isArray(t)?t.map(so):String(t)}function Ix(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Fx=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ql(t,e,r,n,a){if(ye.isFunction(n))return n.call(this,e,r);if(a&&(e=r),!!ye.isString(e)){if(ye.isString(n))return e.indexOf(n)!==-1;if(ye.isRegExp(n))return n.test(e)}}function Bx(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function _x(t,e){const r=ye.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(a,i,s){return this[n].call(this,e,a,i,s)},configurable:!0})})}let xr=class{constructor(e){e&&this.set(e)}set(e,r,n){const a=this;function i(o,l,u){const c=Ai(l);if(!c)throw new Error("header name must be a non-empty string");const f=ye.findKey(a,c);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||l]=so(o))}const s=(o,l)=>ye.forEach(o,(u,c)=>i(u,c,l));if(ye.isPlainObject(e)||e instanceof this.constructor)s(e,r);else if(ye.isString(e)&&(e=e.trim())&&!Fx(e))s(kx(e),r);else if(ye.isObject(e)&&ye.isIterable(e)){let o={},l,u;for(const c of e){if(!ye.isArray(c))throw TypeError("Object iterator must return a key-value pair");o[u=c[0]]=(l=o[u])?ye.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}s(o,r)}else e!=null&&i(r,e,n);return this}get(e,r){if(e=Ai(e),e){const n=ye.findKey(this,e);if(n){const a=this[n];if(!r)return a;if(r===!0)return Ix(a);if(ye.isFunction(r))return r.call(this,a,n);if(ye.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Ai(e),e){const n=ye.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Ql(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let a=!1;function i(s){if(s=Ai(s),s){const o=ye.findKey(n,s);o&&(!r||Ql(n,n[o],o,r))&&(delete n[o],a=!0)}}return ye.isArray(e)?e.forEach(i):i(e),a}clear(e){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!e||Ql(this,this[i],i,e,!0))&&(delete this[i],a=!0)}return a}normalize(e){const r=this,n={};return ye.forEach(this,(a,i)=>{const s=ye.findKey(n,i);if(s){r[s]=so(a),delete r[i];return}const o=e?Bx(i):String(i).trim();o!==i&&delete r[i],r[o]=so(a),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return ye.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=e&&ye.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[wh]=this[wh]={accessors:{}}).accessors,a=this.prototype;function i(s){const o=Ai(s);n[o]||(_x(a,s),n[o]=!0)}return ye.isArray(e)?e.forEach(i):i(e),this}};xr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ye.reduceDescriptors(xr.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});ye.freezeMethods(xr);function Jl(t,e){const r=this||Es,n=e||r,a=xr.from(n.headers);let i=n.data;return ye.forEach(t,function(o){i=o.call(r,i,a.normalize(),e?e.status:void 0)}),a.normalize(),i}function qm(t){return!!(t&&t.__CANCEL__)}function fi(t,e,r){$e.call(this,t??"canceled",$e.ERR_CANCELED,e,r),this.name="CanceledError"}ye.inherits(fi,$e,{__CANCEL__:!0});function Wm(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new $e("Request failed with status code "+r.status,[$e.ERR_BAD_REQUEST,$e.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function zx(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Ux(t,e){t=t||10;const r=new Array(t),n=new Array(t);let a=0,i=0,s;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=n[i];s||(s=u),r[a]=l,n[a]=u;let f=i,h=0;for(;f!==a;)h+=r[f++],f=f%t;if(a=(a+1)%t,a===i&&(i=(i+1)%t),u-s<e)return;const d=c&&u-c;return d?Math.round(h*1e3/d):void 0}}function Vx(t,e){let r=0,n=1e3/e,a,i;const s=(u,c=Date.now())=>{r=c,a=null,i&&(clearTimeout(i),i=null),t.apply(null,u)};return[(...u)=>{const c=Date.now(),f=c-r;f>=n?s(u,c):(a=u,i||(i=setTimeout(()=>{i=null,s(a)},n-f)))},()=>a&&s(a)]}const Po=(t,e,r=3)=>{let n=0;const a=Ux(50,250);return Vx(i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,l=s-n,u=a(l),c=s<=o;n=s;const f={loaded:s,total:o,progress:o?s/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&c?(o-s)/u:void 0,event:i,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(f)},r)},Eh=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},xh=t=>(...e)=>ye.asap(()=>t(...e)),Hx=nr.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,nr.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(nr.origin),nr.navigator&&/(msie|trident)/i.test(nr.navigator.userAgent)):()=>!0,Gx=nr.hasStandardBrowserEnv?{write(t,e,r,n,a,i){const s=[t+"="+encodeURIComponent(e)];ye.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),ye.isString(n)&&s.push("path="+n),ye.isString(a)&&s.push("domain="+a),i===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function qx(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Wx(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Ym(t,e,r){let n=!qx(e);return t&&(n||r==!1)?Wx(t,e):e}const Ch=t=>t instanceof xr?{...t}:t;function xa(t,e){e=e||{};const r={};function n(u,c,f,h){return ye.isPlainObject(u)&&ye.isPlainObject(c)?ye.merge.call({caseless:h},u,c):ye.isPlainObject(c)?ye.merge({},c):ye.isArray(c)?c.slice():c}function a(u,c,f,h){if(ye.isUndefined(c)){if(!ye.isUndefined(u))return n(void 0,u,f,h)}else return n(u,c,f,h)}function i(u,c){if(!ye.isUndefined(c))return n(void 0,c)}function s(u,c){if(ye.isUndefined(c)){if(!ye.isUndefined(u))return n(void 0,u)}else return n(void 0,c)}function o(u,c,f){if(f in e)return n(u,c);if(f in t)return n(void 0,u)}const l={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(u,c,f)=>a(Ch(u),Ch(c),f,!0)};return ye.forEach(Object.keys(Object.assign({},t,e)),function(c){const f=l[c]||a,h=f(t[c],e[c],c);ye.isUndefined(h)&&f!==o||(r[c]=h)}),r}const Xm=t=>{const e=xa({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:s,auth:o}=e;e.headers=s=xr.from(s),e.url=Vm(Ym(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(ye.isFormData(r)){if(nr.hasStandardBrowserEnv||nr.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[u,...c]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];s.setContentType([u||"multipart/form-data",...c].join("; "))}}if(nr.hasStandardBrowserEnv&&(n&&ye.isFunction(n)&&(n=n(e)),n||n!==!1&&Hx(e.url))){const u=a&&i&&Gx.read(i);u&&s.set(a,u)}return e},Yx=typeof XMLHttpRequest<"u",Xx=Yx&&function(t){return new Promise(function(r,n){const a=Xm(t);let i=a.data;const s=xr.from(a.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:u}=a,c,f,h,d,v;function g(){d&&d(),v&&v(),a.cancelToken&&a.cancelToken.unsubscribe(c),a.signal&&a.signal.removeEventListener("abort",c)}let p=new XMLHttpRequest;p.open(a.method.toUpperCase(),a.url,!0),p.timeout=a.timeout;function m(){if(!p)return;const y=xr.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),x={data:!o||o==="text"||o==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:y,config:t,request:p};Wm(function(C){r(C),g()},function(C){n(C),g()},x),p=null}"onloadend"in p?p.onloadend=m:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(m)},p.onabort=function(){p&&(n(new $e("Request aborted",$e.ECONNABORTED,t,p)),p=null)},p.onerror=function(){n(new $e("Network Error",$e.ERR_NETWORK,t,p)),p=null},p.ontimeout=function(){let w=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const x=a.transitional||Hm;a.timeoutErrorMessage&&(w=a.timeoutErrorMessage),n(new $e(w,x.clarifyTimeoutError?$e.ETIMEDOUT:$e.ECONNABORTED,t,p)),p=null},i===void 0&&s.setContentType(null),"setRequestHeader"in p&&ye.forEach(s.toJSON(),function(w,x){p.setRequestHeader(x,w)}),ye.isUndefined(a.withCredentials)||(p.withCredentials=!!a.withCredentials),o&&o!=="json"&&(p.responseType=a.responseType),u&&([h,v]=Po(u,!0),p.addEventListener("progress",h)),l&&p.upload&&([f,d]=Po(l),p.upload.addEventListener("progress",f),p.upload.addEventListener("loadend",d)),(a.cancelToken||a.signal)&&(c=y=>{p&&(n(!y||y.type?new fi(null,t,p):y),p.abort(),p=null)},a.cancelToken&&a.cancelToken.subscribe(c),a.signal&&(a.signal.aborted?c():a.signal.addEventListener("abort",c)));const b=zx(a.url);if(b&&nr.protocols.indexOf(b)===-1){n(new $e("Unsupported protocol "+b+":",$e.ERR_BAD_REQUEST,t));return}p.send(i||null)})},Kx=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,a;const i=function(u){if(!a){a=!0,o();const c=u instanceof Error?u:this.reason;n.abort(c instanceof $e?c:new fi(c instanceof Error?c.message:c))}};let s=e&&setTimeout(()=>{s=null,i(new $e(`timeout ${e} of ms exceeded`,$e.ETIMEDOUT))},e);const o=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:l}=n;return l.unsubscribe=()=>ye.asap(o),l}},$x=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,a;for(;n<r;)a=n+e,yield t.slice(n,a),n=a},Zx=async function*(t,e){for await(const r of Qx(t))yield*$x(r,e)},Qx=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},Th=(t,e,r,n)=>{const a=Zx(t,e);let i=0,s,o=l=>{s||(s=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await a.next();if(u){o(),l.close();return}let f=c.byteLength;if(r){let h=i+=f;r(h)}l.enqueue(new Uint8Array(c))}catch(u){throw o(u),u}},cancel(l){return o(l),a.return()}},{highWaterMark:2})},gl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Km=gl&&typeof ReadableStream=="function",Jx=gl&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),$m=(t,...e)=>{try{return!!t(...e)}catch{return!1}},jx=Km&&$m(()=>{let t=!1;const e=new Request(nr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Sh=64*1024,Zc=Km&&$m(()=>ye.isReadableStream(new Response("").body)),No={stream:Zc&&(t=>t.body)};gl&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!No[e]&&(No[e]=ye.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new $e(`Response type '${e}' is not supported`,$e.ERR_NOT_SUPPORT,n)})})})(new Response);const eC=async t=>{if(t==null)return 0;if(ye.isBlob(t))return t.size;if(ye.isSpecCompliantForm(t))return(await new Request(nr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ye.isArrayBufferView(t)||ye.isArrayBuffer(t))return t.byteLength;if(ye.isURLSearchParams(t)&&(t=t+""),ye.isString(t))return(await Jx(t)).byteLength},tC=async(t,e)=>{const r=ye.toFiniteNumber(t.getContentLength());return r??eC(e)},rC=gl&&(async t=>{let{url:e,method:r,data:n,signal:a,cancelToken:i,timeout:s,onDownloadProgress:o,onUploadProgress:l,responseType:u,headers:c,withCredentials:f="same-origin",fetchOptions:h}=Xm(t);u=u?(u+"").toLowerCase():"text";let d=Kx([a,i&&i.toAbortSignal()],s),v;const g=d&&d.unsubscribe&&(()=>{d.unsubscribe()});let p;try{if(l&&jx&&r!=="get"&&r!=="head"&&(p=await tC(c,n))!==0){let x=new Request(e,{method:"POST",body:n,duplex:"half"}),D;if(ye.isFormData(n)&&(D=x.headers.get("content-type"))&&c.setContentType(D),x.body){const[C,N]=Eh(p,Po(xh(l)));n=Th(x.body,Sh,C,N)}}ye.isString(f)||(f=f?"include":"omit");const m="credentials"in Request.prototype;v=new Request(e,{...h,signal:d,method:r.toUpperCase(),headers:c.normalize().toJSON(),body:n,duplex:"half",credentials:m?f:void 0});let b=await fetch(v);const y=Zc&&(u==="stream"||u==="response");if(Zc&&(o||y&&g)){const x={};["status","statusText","headers"].forEach(k=>{x[k]=b[k]});const D=ye.toFiniteNumber(b.headers.get("content-length")),[C,N]=o&&Eh(D,Po(xh(o),!0))||[];b=new Response(Th(b.body,Sh,C,()=>{N&&N(),g&&g()}),x)}u=u||"text";let w=await No[ye.findKey(No,u)||"text"](b,t);return!y&&g&&g(),await new Promise((x,D)=>{Wm(x,D,{data:w,headers:xr.from(b.headers),status:b.status,statusText:b.statusText,config:t,request:v})})}catch(m){throw g&&g(),m&&m.name==="TypeError"&&/Load failed|fetch/i.test(m.message)?Object.assign(new $e("Network Error",$e.ERR_NETWORK,t,v),{cause:m.cause||m}):$e.from(m,m&&m.code,t,v)}}),Qc={http:mx,xhr:Xx,fetch:rC};ye.forEach(Qc,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Ah=t=>`- ${t}`,nC=t=>ye.isFunction(t)||t===null||t===!1,Zm={getAdapter:t=>{t=ye.isArray(t)?t:[t];const{length:e}=t;let r,n;const a={};for(let i=0;i<e;i++){r=t[i];let s;if(n=r,!nC(r)&&(n=Qc[(s=String(r)).toLowerCase()],n===void 0))throw new $e(`Unknown adapter '${s}'`);if(n)break;a[s||"#"+i]=n}if(!n){const i=Object.entries(a).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?i.length>1?`since :
`+i.map(Ah).join(`
`):" "+Ah(i[0]):"as no adapter specified";throw new $e("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return n},adapters:Qc};function jl(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new fi(null,t)}function Dh(t){return jl(t),t.headers=xr.from(t.headers),t.data=Jl.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Zm.getAdapter(t.adapter||Es.adapter)(t).then(function(n){return jl(t),n.data=Jl.call(t,t.transformResponse,n),n.headers=xr.from(n.headers),n},function(n){return qm(n)||(jl(t),n&&n.response&&(n.response.data=Jl.call(t,t.transformResponse,n.response),n.response.headers=xr.from(n.response.headers))),Promise.reject(n)})}const Qm="1.9.0",pl={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{pl[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const Rh={};pl.transitional=function(e,r,n){function a(i,s){return"[Axios v"+Qm+"] Transitional option '"+i+"'"+s+(n?". "+n:"")}return(i,s,o)=>{if(e===!1)throw new $e(a(s," has been removed"+(r?" in "+r:"")),$e.ERR_DEPRECATED);return r&&!Rh[s]&&(Rh[s]=!0,console.warn(a(s," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,s,o):!0}};pl.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function aC(t,e,r){if(typeof t!="object")throw new $e("options must be an object",$e.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let a=n.length;for(;a-- >0;){const i=n[a],s=e[i];if(s){const o=t[i],l=o===void 0||s(o,i,t);if(l!==!0)throw new $e("option "+i+" must be "+l,$e.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new $e("Unknown option "+i,$e.ERR_BAD_OPTION)}}const oo={assertOptions:aC,validators:pl},Yr=oo.validators;let wa=class{constructor(e){this.defaults=e||{},this.interceptors={request:new bh,response:new bh}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=xa(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&oo.assertOptions(n,{silentJSONParsing:Yr.transitional(Yr.boolean),forcedJSONParsing:Yr.transitional(Yr.boolean),clarifyTimeoutError:Yr.transitional(Yr.boolean)},!1),a!=null&&(ye.isFunction(a)?r.paramsSerializer={serialize:a}:oo.assertOptions(a,{encode:Yr.function,serialize:Yr.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),oo.assertOptions(r,{baseUrl:Yr.spelling("baseURL"),withXsrfToken:Yr.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let s=i&&ye.merge(i.common,i[r.method]);i&&ye.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),r.headers=xr.concat(s,i);const o=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(l=l&&g.synchronous,o.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let c,f=0,h;if(!l){const v=[Dh.bind(this),void 0];for(v.unshift.apply(v,o),v.push.apply(v,u),h=v.length,c=Promise.resolve(r);f<h;)c=c.then(v[f++],v[f++]);return c}h=o.length;let d=r;for(f=0;f<h;){const v=o[f++],g=o[f++];try{d=v(d)}catch(p){g.call(this,p);break}}try{c=Dh.call(this,d)}catch(v){return Promise.reject(v)}for(f=0,h=u.length;f<h;)c=c.then(u[f++],u[f++]);return c}getUri(e){e=xa(this.defaults,e);const r=Ym(e.baseURL,e.url,e.allowAbsoluteUrls);return Vm(r,e.params,e.paramsSerializer)}};ye.forEach(["delete","get","head","options"],function(e){wa.prototype[e]=function(r,n){return this.request(xa(n||{},{method:e,url:r,data:(n||{}).data}))}});ye.forEach(["post","put","patch"],function(e){function r(n){return function(i,s,o){return this.request(xa(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}wa.prototype[e]=r(),wa.prototype[e+"Form"]=r(!0)});let iC=class Jm{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const s=new Promise(o=>{n.subscribe(o),i=o}).then(a);return s.cancel=function(){n.unsubscribe(i)},s},e(function(i,s,o){n.reason||(n.reason=new fi(i,s,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new Jm(function(a){e=a}),cancel:e}}};function sC(t){return function(r){return t.apply(null,r)}}function oC(t){return ye.isObject(t)&&t.isAxiosError===!0}const Jc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Jc).forEach(([t,e])=>{Jc[e]=t});function jm(t){const e=new wa(t),r=Lm(wa.prototype.request,e);return ye.extend(r,wa.prototype,e,{allOwnKeys:!0}),ye.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return jm(xa(t,a))},r}const Je=jm(Es);Je.Axios=wa;Je.CanceledError=fi;Je.CancelToken=iC;Je.isCancel=qm;Je.VERSION=Qm;Je.toFormData=vl;Je.AxiosError=$e;Je.Cancel=Je.CanceledError;Je.all=function(e){return Promise.all(e)};Je.spread=sC;Je.isAxiosError=oC;Je.mergeConfig=xa;Je.AxiosHeaders=xr;Je.formToJSON=t=>Gm(ye.isHTMLForm(t)?new FormData(t):t);Je.getAdapter=Zm.getAdapter;Je.HttpStatusCode=Jc;Je.default=Je;const{Axios:GO,AxiosError:qO,CanceledError:WO,isCancel:YO,CancelToken:XO,VERSION:KO,all:$O,Cancel:ZO,isAxiosError:QO,spread:JO,toFormData:jO,AxiosHeaders:ek,HttpStatusCode:tk,formToJSON:rk,getAdapter:nk,mergeConfig:ak}=Je,lC={name:"AuthLayout",props:{background:{type:String,default:"/images/sys_img.jpg"},noDark:{type:Boolean,default:!1},noRightGradient:{type:Boolean,default:!1},showContainer:{type:Boolean,default:!0}},computed:{wrapperClasses(){return{"no-dark":this.noDark,"no-right-gradient":this.noRightGradient}}}},uC={class:"auth-right"},cC={key:0,class:"auth-header"},fC={key:1,class:"auth-container"};function dC(t,e,r,n,a,i){return be(),xe("div",{class:Rt(["auth-wrapper",i.wrapperClasses])},[_("div",{class:"auth-background",style:Zn({backgroundImage:`url(${r.background})`})},null,4),_("div",uC,[t.$slots.header?(be(),xe("div",cC,[xd(t.$slots,"header",{},void 0)])):Ke("",!0),r.showContainer?(be(),xe("div",fC,[xd(t.$slots,"default",{},void 0)])):Ke("",!0)])],2)}const ey=hr(lC,[["render",dC],["__scopeId","data-v-e8764054"]]),hC={components:{AuthLayout:ey},data(){return{username:"",password:"",message:"",isSuccess:!1,showLogin:!1}},mounted(){window.addEventListener("keydown",this.onKeyDown)},beforeUnmount(){window.removeEventListener("keydown",this.onKeyDown)},methods:{onKeyDown(t){t.key==="Enter"&&(this.showLogin?this.username&&this.password&&(t.preventDefault(),this.handleLogin()):(t.preventDefault(),this.enter()))},enter(){this.showLogin=!0},handleLogin(){Je.post("/api/login",{username:this.username,password:this.password}).then(t=>{if(this.message=t.data.message,this.isSuccess=t.data.status==="success",this.isSuccess){const e=t.data.token||"";if(e){localStorage.setItem("token",e);try{this.$nextTick(()=>{})}catch{}try{Je.defaults.headers.common=Je.defaults.headers.common||{},Je.defaults.headers.common.Authorization=`Bearer ${e}`}catch{}}if(t.data.user)try{localStorage.setItem("user",JSON.stringify(t.data.user))}catch{}const r=this.$route.query.redirect;let n=r?decodeURIComponent(r):"/dashboard";typeof n=="string"&&!n.startsWith("/")&&(n="/"+n),this.$nextTick(()=>{this.$router.replace(n).catch(()=>{})})}}).catch(t=>{this.isSuccess=!1,t.response&&t.response.data?this.message=t.response.data.message||"":this.message=": "+t.message})},goToRegister(){this.$router.push("/register")}}},vC={key:0},gC={class:"form-group"},pC={class:"form-group"},mC={class:"link-text"};function yC(t,e,r,n,a,i){const s=vn("AuthLayout");return be(),Ea(s,{noDark:"",showContainer:a.showLogin},{header:Qa(()=>[a.showLogin?Ke("",!0):(be(),xe("div",{key:0,class:"welcome-overlay",onClick:e[0]||(e[0]=(...o)=>i.enter&&i.enter(...o))},e[5]||(e[5]=[_("div",{class:"welcome-lines"},[_("div",{class:"line l1"},""),_("div",{class:"line l2"},""),_("div",{class:"line l3"},""),_("div",{class:"enter-hint"},[_("span",{class:"enter-text"},"ENTER")])],-1)])))]),default:Qa(()=>[Bt(Q1,{name:"fade-up"},{default:Qa(()=>[a.showLogin?(be(),xe("div",vC,[e[7]||(e[7]=_("h2",null,"",-1)),_("div",gC,[ut(_("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>a.username=o),placeholder:"",class:"form-input"},null,512),[[Tt,a.username]])]),_("div",pC,[ut(_("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>a.password=o),type:"password",placeholder:"",class:"form-input"},null,512),[[Tt,a.password]])]),_("button",{onClick:e[3]||(e[3]=(...o)=>i.handleLogin&&i.handleLogin(...o)),class:"auth-btn"},""),a.message?(be(),xe("p",{key:0,class:Rt({"success-msg":a.isSuccess,"error-msg":!a.isSuccess})},De(a.message),3)):Ke("",!0),_("p",mC,[e[6]||(e[6]=Ar(" ")),_("a",{onClick:e[4]||(e[4]=(...o)=>i.goToRegister&&i.goToRegister(...o))},"")])])):Ke("",!0)]),_:1})]),_:1},8,["showContainer"])}const bC=hr(hC,[["render",yC],["__scopeId","data-v-51defb85"]]),wC={components:{AuthLayout:ey},data(){return{username:"",password:"",email:"",message:"",isSuccess:!1}},methods:{handleRegister(){if(!this.username||!this.password){this.message="",this.isSuccess=!1;return}if(this.username.length<3){this.message="3",this.isSuccess=!1;return}if(this.password.length<6){this.message="6",this.isSuccess=!1;return}Je.post("/api/register",{username:this.username,password:this.password,email:this.email}).then(t=>{this.message=t.data.message,this.isSuccess=t.data.status==="success",this.isSuccess&&setTimeout(()=>{this.$router.push("/login")},1200)}).catch(t=>{this.isSuccess=!1,t.response&&t.response.data?this.message=t.response.data.message||"":this.message=": "+t.message})},goToLogin(){this.$router.push("/login")}}},EC={class:"form-group"},xC={class:"form-group"},CC={class:"form-group"},TC={class:"link-text"};function SC(t,e,r,n,a,i){const s=vn("AuthLayout");return be(),Ea(s,{noDark:""},{default:Qa(()=>[e[6]||(e[6]=_("h2",null,"",-1)),_("div",EC,[ut(_("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>a.username=o),placeholder:"3",class:"form-input"},null,512),[[Tt,a.username]])]),_("div",xC,[ut(_("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>a.password=o),type:"password",placeholder:"6",class:"form-input"},null,512),[[Tt,a.password]])]),_("div",CC,[ut(_("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>a.email=o),type:"email",placeholder:"",class:"form-input"},null,512),[[Tt,a.email]])]),_("button",{onClick:e[3]||(e[3]=(...o)=>i.handleRegister&&i.handleRegister(...o)),class:"auth-btn"},""),a.message?(be(),xe("p",{key:0,class:Rt({"success-msg":a.isSuccess,"error-msg":!a.isSuccess})},De(a.message),3)):Ke("",!0),_("p",TC,[e[5]||(e[5]=Ar(" ")),_("a",{onClick:e[4]||(e[4]=(...o)=>i.goToLogin&&i.goToLogin(...o))},"")])]),_:1,__:[6]})}const AC=hr(wC,[["render",SC],["__scopeId","data-v-62d5bf1e"]]),DC={name:"Sidebar",setup(){const t=PE(),e=ME();return{go:a=>{t.path!==a&&e.push(a)},isActive:a=>t.path.startsWith(a)}}},RC={class:"sidebar-nav"};function LC(t,e,r,n,a,i){return be(),xe("nav",RC,[_("ul",null,[_("li",{class:Rt({active:n.isActive("/dashboard")}),onClick:e[0]||(e[0]=s=>n.go("/dashboard"))},"",2),_("li",{class:Rt({active:n.isActive("/users")}),onClick:e[1]||(e[1]=s=>n.go("/users"))},"",2),_("li",{class:Rt({active:n.isActive("/algorithms")}),onClick:e[2]||(e[2]=s=>n.go("/algorithms"))},"",2),_("li",{class:Rt({active:n.isActive("/files")}),onClick:e[3]||(e[3]=s=>n.go("/files"))},"",2),_("li",{class:Rt({active:n.isActive("/identification")}),onClick:e[4]||(e[4]=s=>n.go("/identification"))},"",2),_("li",{class:Rt({active:n.isActive("/settings")}),onClick:e[5]||(e[5]=s=>n.go("/settings"))},"",2)])])}const MC=hr(DC,[["render",LC],["__scopeId","data-v-21493d1f"]]),PC={name:"HeaderBar",props:{title:{type:String,default:""}},data(){return{currentUser:null,menuOpen:!1,_menuTimer:null}},mounted(){try{this.currentUser=JSON.parse(localStorage.getItem("user")||"null")}catch{}document.addEventListener("click",this.onDocClick)},unmounted(){document.removeEventListener("click",this.onDocClick)},methods:{openMenu(){this.menuOpen=!0},closeMenu(){this._menuTimer&&clearTimeout(this._menuTimer),this._menuTimer=setTimeout(()=>{this.menuOpen=!1},120)},toggleMenu(){this._menuTimer&&clearTimeout(this._menuTimer),this.menuOpen=!this.menuOpen},onDocClick(t){const e=this.$refs.userMenu;e&&(e.contains(t.target)||(this.menuOpen=!1))},logout(){localStorage.removeItem("token"),localStorage.removeItem("user"),alert(""),this.$router.push("/login")}}},NC={class:"header-bar"},OC={class:"title"},kC={class:"user-name"};function IC(t,e,r,n,a,i){return be(),xe("header",NC,[_("h1",OC,De(r.title),1),e[7]||(e[7]=_("div",{class:"spacer"},null,-1)),_("div",{class:"user-menu",onMouseenter:e[3]||(e[3]=(...s)=>i.openMenu&&i.openMenu(...s)),onMouseleave:e[4]||(e[4]=(...s)=>i.closeMenu&&i.closeMenu(...s)),onClick:e[5]||(e[5]=(...s)=>i.toggleMenu&&i.toggleMenu(...s)),ref:"userMenu"},[_("span",kC,De(a.currentUser?a.currentUser.username:""),1),e[6]||(e[6]=_("span",{class:"caret"},"",-1)),ut(_("div",{class:"dropdown",onClick:e[2]||(e[2]=br(()=>{},["stop"]))},[_("div",{class:"dropdown-item",onClick:e[0]||(e[0]=s=>t.$emit("edit-profile"))},"/"),_("div",{class:"dropdown-item danger",onClick:e[1]||(e[1]=(...s)=>i.logout&&i.logout(...s))},"")],512),[[pm,a.menuOpen]])],544)])}const FC=hr(PC,[["render",IC],["__scopeId","data-v-a061a23a"]]),BC="/brand/logo.svg",_C={name:"AdminLayout",components:{Sidebar:MC,HeaderBar:FC},data(){return{sidebarHidden:!1,sidebarPeek:!1,_peekTimer:null}},computed:{pageTitle(){const t=this.$route.path;return t.startsWith("/dashboard")?"":t.startsWith("/users")?"":t.startsWith("/algorithms")?"":t.startsWith("/files")?"":t.startsWith("/settings")?"":""}},methods:{toggleSidebar(){this.sidebarHidden=!this.sidebarHidden,this.sidebarHidden&&(this.sidebarPeek=!1)},openPeek(){this.sidebarHidden&&(this._peekTimer&&clearTimeout(this._peekTimer),this.sidebarPeek=!0)},onSidebarMouseEnter(){this._peekTimer&&clearTimeout(this._peekTimer)},onSidebarMouseLeave(){this.sidebarHidden&&(this._peekTimer&&clearTimeout(this._peekTimer),this._peekTimer=setTimeout(()=>{this.sidebarPeek=!1},160))}}},zC={class:"admin-layout"},UC={class:"main-content"},VC={class:"content"};function HC(t,e,r,n,a,i){const s=vn("router-link"),o=vn("Sidebar"),l=vn("HeaderBar"),u=vn("router-view");return be(),xe("div",zC,[_("aside",{class:Rt(["sidebar",{hidden:a.sidebarHidden,peek:a.sidebarHidden&&a.sidebarPeek}]),onMouseenter:e[1]||(e[1]=(...c)=>i.onSidebarMouseEnter&&i.onSidebarMouseEnter(...c)),onMouseleave:e[2]||(e[2]=(...c)=>i.onSidebarMouseLeave&&i.onSidebarMouseLeave(...c))},[_("button",{class:"sidebar-toggle",onClick:e[0]||(e[0]=(...c)=>i.toggleSidebar&&i.toggleSidebar(...c)),title:"","aria-label":""},""),Bt(s,{class:"logo",to:"/dashboard",title:""},{default:Qa(()=>e[5]||(e[5]=[_("img",{class:"logo-mark",src:BC,alt:"Logo"},null,-1),_("span",{class:"logo-text"},[Ar(""),_("br"),Ar("")],-1)])),_:1,__:[5]}),Bt(o)],34),a.sidebarHidden&&!a.sidebarPeek?(be(),xe("div",{key:0,class:"left-edge-sensor",onMouseenter:e[3]||(e[3]=(...c)=>i.openPeek&&i.openPeek(...c)),"aria-hidden":"true"},null,32)):Ke("",!0),a.sidebarHidden&&!a.sidebarPeek?(be(),xe("button",{key:1,class:"sidebar-show-btn",onClick:e[4]||(e[4]=(...c)=>i.toggleSidebar&&i.toggleSidebar(...c)),title:"","aria-label":""},"")):Ke("",!0),_("div",UC,[Bt(l,{title:i.pageTitle},null,8,["title"]),_("section",VC,[Bt(u)])])])}const GC=hr(_C,[["render",HC],["__scopeId","data-v-f8fef118"]]),qC={name:"Dashboard",data(){return{debunks:[],debunksLoading:!1,debunksError:"",debunksTimer:null,debunksHeaderText:"",unionHeader:"",unionDebunks:[],unionDebunksLoading:!1,unionDebunksError:"",unionDebunksTimer:null,stats:null,statsLoading:!1,statsError:"",carouselIndex:0,carouselTimer:null,carouselImages:[{src:"/images/rumor1.JPG",alt:"1",caption:""},{src:"/images/rumor2.jpg",alt:"2",caption:""},{src:"/images/rumor3.jpeg",alt:"3",caption:""},{src:"/images/rumor4.webp",alt:"4",caption:""},{src:"/images/rumor5.png",alt:"5",caption:""},{src:"/images/rumor6.png",alt:"6",caption:""}],impacts:[{title:"",desc:""},{title:"",desc:""},{title:"",desc:""},{title:"",desc:""},{title:"",desc:""},{title:"",desc:""}]}},computed:{carouselSlides(){const e=this.carouselImages||[],r=[];for(let n=0;n<e.length;n+=3)r.push(e.slice(n,n+3));return r},debunksHeader(){const t=this.debunksHeaderDate;if(!t)return"";const e=t.getFullYear(),r=t.getMonth()+1,n=t.getDate();return`${e}${r}${n}`},debunksHeaderDate(){const t=this.debunks||[];if(!t.length)return null;const e=t[0]&&(t[0].published_at||t[0].date);let r=this.parseDateSafe(e);if(r)return r;const n=t[0]&&t[0].link;if(n){const a=String(n).match(/\/(\d{8})\//);if(a){const i=a[1].slice(0,4),s=a[1].slice(4,6),o=a[1].slice(6,8);if(r=this.parseDateSafe(`${i}-${s}-${o} 08:00:00`),r)return r}}return null}},methods:{fetchDebunks(){this.debunksLoading=!0,this.debunksError="",Je.get("/api/debunks/live",{params:{limit:10}}).then(t=>{var e,r,n,a;if(((e=t.data)==null?void 0:e.status)==="success"){const i=Array.isArray(t.data.data)?t.data.data:[];i.length>0?(this.debunksHeaderText=typeof i[0]=="string"?i[0]:((r=i[0])==null?void 0:r.title)||"",this.debunks=i.slice(1)):(this.debunksHeaderText="",this.debunks=[])}else if(Array.isArray(t.data)){const i=t.data;this.debunksHeaderText=typeof i[0]=="string"?i[0]:((n=i[0])==null?void 0:n.title)||"",this.debunks=i.slice(1)}else this.debunksError=((a=t.data)==null?void 0:a.message)||"",this.debunksHeaderText="",this.debunks=[]}).catch(t=>{var e,r;this.debunksError=((r=(e=t.response)==null?void 0:e.data)==null?void 0:r.message)||t.message||"",this.debunks=[]}).finally(()=>{this.debunksLoading=!1})},fetchUnionDebunks(){this.unionDebunksLoading=!0,this.unionDebunksError="",Je.get("/api/debunks/lianhe",{params:{limit:10}}).then(t=>{var e,r,n;if(((e=t.data)==null?void 0:e.status)==="success"){const a=Array.isArray(t.data.data)?t.data.data:[];a.length>0?(this.unionHeader=a[0]||"",this.unionDebunks=a.slice(1)):(this.unionHeader="",this.unionDebunks=[])}else if(Array.isArray(t.data)){const a=t.data;this.unionHeader=((r=a[0])==null?void 0:r.title)||"",this.unionDebunks=a.slice(1)}else this.unionDebunksError=((n=t.data)==null?void 0:n.message)||"",this.unionHeader="",this.unionDebunks=[]}).catch(t=>{var e,r;this.unionDebunksError=((r=(e=t.response)==null?void 0:e.data)==null?void 0:r.message)||t.message||"",this.unionHeader="",this.unionDebunks=[]}).finally(()=>{this.unionDebunksLoading=!1})},startDebunksPolling(){this.stopDebunksPolling(),this.debunksTimer=setInterval(()=>{this.fetchDebunks()},5*60*1e3)},stopDebunksPolling(){this.debunksTimer&&(clearInterval(this.debunksTimer),this.debunksTimer=null)},startUnionDebunksPolling(){this.stopUnionDebunksPolling(),this.unionDebunksTimer=setInterval(()=>{this.fetchUnionDebunks()},5*60*1e3)},stopUnionDebunksPolling(){this.unionDebunksTimer&&(clearInterval(this.unionDebunksTimer),this.unionDebunksTimer=null)},fetchStats(){this.statsLoading=!0,this.statsError="",Je.get("/api/stats").then(t=>{var e,r;((e=t.data)==null?void 0:e.status)==="success"?this.stats=t.data.data||null:this.statsError=((r=t.data)==null?void 0:r.message)||""}).catch(t=>{var e,r;this.statsError=((r=(e=t.response)==null?void 0:e.data)==null?void 0:r.message)||t.message||""}).finally(()=>{this.statsLoading=!1})},startCarousel(){this.stopCarousel(),this.carouselTimer=setInterval(()=>{this.nextSlide()},5e3)},stopCarousel(){this.carouselTimer&&(clearInterval(this.carouselTimer),this.carouselTimer=null)},nextSlide(){const t=this.carouselSlides.length;t&&(this.carouselIndex=(this.carouselIndex+1)%t)},prevSlide(){const t=this.carouselSlides.length;t&&(this.carouselIndex=(this.carouselIndex-1+t)%t)},goSlide(t){t>=0&&t<this.carouselSlides.length&&(this.carouselIndex=t)},formatDate(t){if(!t)return"-";const e=this.parseDateSafe(t);if(!e)return typeof t=="string"?t:"-";try{return e.toLocaleString("zh-CN")}catch{return typeof t=="string"?t:"-"}},formatDateCN(t){const e=this.parseDateSafe(t);if(!e)return"";const r=e.getFullYear(),n=e.getMonth()+1,a=e.getDate();return`${r}${n}${a}`},parseDateSafe(t){if(!t)return null;const e=String(t).trim();let r=new Date(e);if(!isNaN(r.getTime()))return r;let n=e.replace(" ","T");if(r=new Date(n),!isNaN(r.getTime())||(n=e.replace(/-/g,"/"),r=new Date(n),!isNaN(r.getTime())))return r;const a=e.match(/(\d{4})-(\d{1,2})-(\d{1,2})/);if(a){const i=Number(a[1]),s=Number(a[2])-1,o=Number(a[3]),l=e.match(/(\d{1,2}):(\d{1,2})(?::(\d{1,2}))?/)||[],u=Number(l[1]||0),c=Number(l[2]||0),f=Number(l[3]||0);if(r=new Date(i,s,o,u,c,f),!isNaN(r.getTime()))return r}return null},scrollToStats(){this.$nextTick(()=>{const t=this.$refs.statsSection;if(t&&t.scrollIntoView){try{t.scrollIntoView({behavior:"smooth",block:"start"})}catch{t.scrollIntoView()}return}const e=document.querySelector(".content");if(e&&t){const r=e.getBoundingClientRect(),a=t.getBoundingClientRect().top-r.top+e.scrollTop-8;e.scrollTo({top:a,behavior:"smooth"})}})}},mounted(){this.fetchStats(),this.startCarousel(),this.fetchDebunks(),this.startDebunksPolling(),this.fetchUnionDebunks(),this.startUnionDebunksPolling()},unmounted(){this.stopCarousel(),this.stopDebunksPolling(),this.stopUnionDebunksPolling()}},WC={class:"dashboard"},YC={class:"welcome-section"},XC={class:"welcome-grid"},KC={class:"welcome-item"},$C={class:"welcome-item"},ZC={class:"welcome-item"},QC={class:"debunks-row"},JC={class:"debunk-section"},jC={class:"debunk-header"},eT={class:"debunk-actions"},tT=["disabled"],rT={key:0,class:"debunk-error"},nT={key:1,class:"debunk-loading"},aT={key:2,class:"debunk-list"},iT=["href"],sT={key:0,class:"debunk-empty"},oT={class:"debunk-section"},lT={class:"debunk-header"},uT={class:"debunk-actions"},cT=["disabled"],fT={key:0,class:"debunk-error"},dT={key:1,class:"debunk-loading"},hT={key:2,class:"debunk-list"},vT=["href"],gT={key:0,class:"debunk-empty"},pT={class:"multi-slide"},mT=["src","alt"],yT={class:"dots"},bT=["onClick"],wT={class:"impact-section"},ET={class:"impact-grid"},xT={class:"impact-title"},CT={class:"impact-desc"},TT={class:"entry-cards"},ST={class:"stats stats-bottom",ref:"statsSection"},AT={class:"stat-card"},DT={class:"stat-value"},RT={class:"stat-card"},LT={class:"stat-value"};function MT(t,e,r,n,a,i){var s,o;return be(),xe("div",WC,[_("div",YC,[e[18]||(e[18]=_("div",{class:"welcome-head"},[_("h2",{class:"welcome-title"},""),_("p",{class:"welcome-sub"},"")],-1)),_("div",XC,[_("div",KC,[e[12]||(e[12]=_("h4",null,"",-1)),e[13]||(e[13]=_("p",null,"/",-1)),_("button",{class:"welcome-btn",onClick:e[0]||(e[0]=l=>t.$router.push("/users"))},"")]),_("div",$C,[e[14]||(e[14]=_("h4",null,"",-1)),e[15]||(e[15]=_("p",null,"// 20MB",-1)),_("button",{class:"welcome-btn",onClick:e[1]||(e[1]=l=>t.$router.push("/files"))},"")]),_("div",ZC,[e[16]||(e[16]=_("h4",null,"",-1)),e[17]||(e[17]=_("p",null,"",-1)),_("button",{class:"welcome-btn",onClick:e[2]||(e[2]=(...l)=>i.scrollToStats&&i.scrollToStats(...l))},"")])]),e[19]||(e[19]=_("div",{class:"welcome-note"},"",-1))]),_("div",QC,[_("div",JC,[_("div",jC,[_("h3",null,De(a.debunksHeaderText||""),1),_("div",eT,[_("button",{class:"debunk-refresh",onClick:e[3]||(e[3]=(...l)=>i.fetchDebunks&&i.fetchDebunks(...l)),disabled:a.debunksLoading},De(a.debunksLoading?"...":""),9,tT)])]),a.debunksError?(be(),xe("div",rT,De(a.debunksError),1)):a.debunksLoading?(be(),xe("div",nT,"...")):(be(),xe("ul",aT,[(be(!0),xe(ft,null,pr(a.debunks,l=>(be(),xe("li",{key:l.id||l.link,class:"debunk-item"},[_("a",{class:"debunk-title",href:l.link,target:"_blank",rel:"noopener noreferrer"},De(l.title),9,iT)]))),128)),a.debunks.length===0?(be(),xe("li",sT,"")):Ke("",!0)])),e[20]||(e[20]=_("div",{class:"debunk-note"},"",-1))]),_("div",oT,[_("div",lT,[_("h3",null,De(a.unionHeader||""),1),_("div",uT,[_("button",{class:"debunk-refresh",onClick:e[4]||(e[4]=(...l)=>i.fetchUnionDebunks&&i.fetchUnionDebunks(...l)),disabled:a.unionDebunksLoading},De(a.unionDebunksLoading?"...":""),9,cT)])]),a.unionDebunksError?(be(),xe("div",fT,De(a.unionDebunksError),1)):a.unionDebunksLoading?(be(),xe("div",dT,"...")):(be(),xe("ul",hT,[(be(!0),xe(ft,null,pr(a.unionDebunks,l=>(be(),xe("li",{key:l.id||l.link,class:"debunk-item"},[_("a",{class:"debunk-title",href:l.link,target:"_blank",rel:"noopener noreferrer"},De(l.title),9,vT)]))),128)),a.unionDebunks.length===0?(be(),xe("li",gT,"")):Ke("",!0)])),e[21]||(e[21]=_("div",{class:"debunk-note"},"",-1))])]),e[29]||(e[29]=_("div",{class:"home-hero"},[_("h2",null,""),_("p",null,[Ar(" 2022 "),_("a",{href:"https://www.cac.gov.cn/2022-09/02/c_1663745754062601.htm?eqid=acc86064002cc5cf000000046455bb75",title:"",target:"_blank"},""),Ar(" 3 20259"),_("a",{href:"https://www.cac.gov.cn/2025-09/22/c_1760258688713582.htm",title:"",target:"_blank"},""),Ar(" ")]),_("p",null,"    ")],-1)),_("div",{class:"carousel",onMouseenter:e[7]||(e[7]=(...l)=>i.stopCarousel&&i.stopCarousel(...l)),onMouseleave:e[8]||(e[8]=(...l)=>i.startCarousel&&i.startCarousel(...l))},[_("div",{class:"carousel-track",style:Zn({transform:"translateX(-"+a.carouselIndex*100+"%)"})},[(be(!0),xe(ft,null,pr(i.carouselSlides,(l,u)=>(be(),xe("div",{class:"carousel-slide",key:u},[_("div",pT,[(be(!0),xe(ft,null,pr(l,(c,f)=>(be(),xe("div",{class:"tile",key:f},[_("img",{src:c.src,alt:c.alt||""+(u*3+f+1),loading:"lazy"},null,8,mT)]))),128))])]))),128))],4),_("button",{class:"nav prev",onClick:e[5]||(e[5]=(...l)=>i.prevSlide&&i.prevSlide(...l))},""),_("button",{class:"nav next",onClick:e[6]||(e[6]=(...l)=>i.nextSlide&&i.nextSlide(...l))},""),_("div",yT,[(be(!0),xe(ft,null,pr(i.carouselSlides,(l,u)=>(be(),xe("span",{key:u,class:Rt({active:u===a.carouselIndex}),onClick:c=>i.goSlide(u)},null,10,bT))),128))])],32),e[30]||(e[30]=_("div",{class:"home-cards"},[_("div",{class:"card"},[_("h3",null,""),_("p",null,"")]),_("div",{class:"card"},[_("h3",null,""),_("p",null,"")]),_("div",{class:"card"},[_("h3",null,""),_("p",null,"")])],-1)),_("div",wT,[e[23]||(e[23]=_("h3",null,"",-1)),_("div",ET,[(be(!0),xe(ft,null,pr(a.impacts,l=>(be(),xe("div",{class:"impact-card",key:l.title},[e[22]||(e[22]=_("div",{class:"impact-badge"},null,-1)),_("h4",xT,De(l.title),1),_("p",CT,De(l.desc),1)]))),128))])]),_("div",TT,[_("div",{class:"entry",onClick:e[9]||(e[9]=l=>t.$router.push("/users"))},e[24]||(e[24]=[_("h4",null,"",-1),_("p",null,"",-1)])),_("div",{class:"entry",onClick:e[10]||(e[10]=l=>t.$router.push("/files"))},e[25]||(e[25]=[_("h4",null,"",-1),_("p",null,"",-1)])),_("div",{class:"entry",onClick:e[11]||(e[11]=l=>t.$router.push("/settings"))},e[26]||(e[26]=[_("h4",null,"",-1),_("p",null,"",-1)]))]),_("div",ST,[_("div",AT,[_("div",DT,De(a.statsLoading?"...":((s=a.stats)==null?void 0:s.users_total)??0),1),e[27]||(e[27]=_("div",{class:"stat-label"},"",-1))]),_("div",RT,[_("div",LT,De(a.statsLoading?"...":i.formatDate((o=a.stats)==null?void 0:o.latest_user_created_at)),1),e[28]||(e[28]=_("div",{class:"stat-label"},"",-1))])],512)])}const PT=hr(qC,[["render",MT],["__scopeId","data-v-ce9dd9b6"]]),NT={name:"UsersPage",data(){return{users:[],loading:!1,error:""}},methods:{fetchUsers(){this.loading=!0,this.error="",Je.get("/api/users").then(t=>{var r,n,a;const e=Array.isArray(t.data)?t.data:(r=t.data)==null?void 0:r.data;Array.isArray(e)?this.users=e:((n=t.data)==null?void 0:n.status)==="success"&&Array.isArray((a=t.data)==null?void 0:a.data)?this.users=t.data.data:this.error=""}).catch(t=>{var e,r;this.error=": "+(((r=(e=t.response)==null?void 0:e.data)==null?void 0:r.message)||t.message)}).finally(()=>{this.loading=!1})},formatDate(t){if(!t)return"-";const e=Date.parse(t);return isNaN(e)?t:new Date(e).toLocaleString("zh-CN")},formatDateMs(t){if(t==null)return"-";const e=new Date(Number(t));return isNaN(e.getTime())?"-":e.toLocaleString("zh-CN")}},mounted(){this.fetchUsers()}},OT={class:"users-page"},kT={class:"page-header"},IT={key:0,class:"loading"},FT={key:1,class:"error"},BT={key:2,class:"users-table"},_T={key:0};function zT(t,e,r,n,a,i){return be(),xe("div",OT,[_("div",kT,[e[1]||(e[1]=_("h3",null,"",-1)),_("button",{onClick:e[0]||(e[0]=(...s)=>i.fetchUsers&&i.fetchUsers(...s)),class:"refresh-btn"},"")]),a.loading?(be(),xe("div",IT,"...")):Ke("",!0),a.error?(be(),xe("div",FT,De(a.error),1)):Ke("",!0),!a.loading&&!a.error?(be(),xe("table",BT,[e[3]||(e[3]=_("thead",null,[_("tr",null,[_("th",null,"ID"),_("th",null,""),_("th",null,""),_("th",null,"")])],-1)),_("tbody",null,[(be(!0),xe(ft,null,pr(a.users,s=>(be(),xe("tr",{key:s.id},[_("td",null,De(s.id),1),_("td",null,De(s.username),1),_("td",null,De(s.email||"-"),1),_("td",null,De(i.formatDateMs(s.created_at_ms)||i.formatDate(s.created_at)),1)]))),128)),a.users.length===0?(be(),xe("tr",_T,e[2]||(e[2]=[_("td",{colspan:"4",class:"empty"},"",-1)]))):Ke("",!0)])])):Ke("",!0)])}const UT=hr(NT,[["render",zT],["__scopeId","data-v-f1b75fe5"]]),VT={name:"AlgorithmsPage",setup(){const t=ze([]),e=ze(!1),r=ze(!1),n=ze(""),a=ze(""),i=ze(1),s=ze(10),o=ze(0),l=ze(null),u=ze(!1),c=ze(null),f=ze(null),h=ze([]),d=ze(null),v=ze({name:"",algo_key:"",description:"",type:"",status:"active"}),g=ze(""),p=ze(""),m="http://localhost:5001/api",b=localStorage.getItem("token"),y=St(()=>t.value.filter(K=>{const ee=!n.value||K.name.toLowerCase().includes(n.value.toLowerCase())||K.description&&K.description.toLowerCase().includes(n.value.toLowerCase()),ne=!a.value||K.status===a.value;return ee&&ne})),w=St(()=>Math.ceil(o.value/s.value)),x=K=>{if(!K)return[];const ee=[];K.type&&ee.push(K.type);const ne=(K.name||"").toLowerCase();return(ne.includes("degree")||ne.includes(""))&&ee.push(""),Array.from(new Set(ee))},D=60,C=ze(new Set),N=K=>C.value.has(K),k=K=>{const ee=new Set(C.value);ee.has(K)?ee.delete(K):ee.add(K),C.value=ee},O=K=>!!(K&&K.length>D),F=ze(new Map),S=(K,ee)=>{const ne=F.value.get(K);return ne?!!ne[ee]:!1},P=(K,ee)=>{const ne=new Map(F.value),se=ne.get(K)||{intro:!1,scenes:!1};!!se[ee]?se[ee]=!1:(se.intro=!1,se.scenes=!1,se[ee]=!0),ne.set(K,se),F.value=ne},E=K=>{const{intro:ee}=ae((K==null?void 0:K.description)||"");return ee},L=K=>{const{scenes:ee}=ae((K==null?void 0:K.description)||"");return ee},A=()=>{u.value=!0,h.value=t.value.map(K=>K.id)},T=()=>{if(h.value&&h.value.length){const K=new Map(t.value.map(ee=>[ee.id,ee]));t.value=h.value.map(ee=>K.get(ee)).filter(Boolean)}u.value=!1,c.value=null,f.value=null},R=()=>{const K=t.value.map(ee=>ee.id);localStorage.setItem("algorithms_order",JSON.stringify(K)),u.value=!1,c.value=null,f.value=null,B("","success")},W=(K,ee)=>{c.value=ee;try{K&&K.dataTransfer&&(K.dataTransfer.effectAllowed="move",K.dataTransfer.setData("text/plain",String(ee)))}catch{}},q=(K,ee)=>{u.value&&(c.value===null||c.value===K||(f.value=K))},G=(K,ee,ne)=>{const se=K.findIndex(pe=>pe.id===ee),ue=K.findIndex(pe=>pe.id===ne);if(se<0||ue<0||se===ue)return K;const le=K.slice(),[ce]=le.splice(se,1);return le.splice(ue,0,ce),le},$=K=>{u.value&&(c.value===null||c.value===K||(t.value=G(t.value,c.value,K),f.value=null))},Q=()=>{f.value=null,c.value=null},oe=async()=>{e.value=!0;try{const ee=await(await fetch(`${m}/algorithms?page=${i.value}&page_size=${s.value}`,{headers:{Authorization:`Bearer ${b}`}})).json();if(ee.status==="success"){const ne=ee.data.items||[],se=JSON.parse(localStorage.getItem("algorithms_order")||"[]");if(Array.isArray(se)&&se.length){const ue=new Map(se.map((le,ce)=>[le,ce]));ne.sort((le,ce)=>{const pe=ue.has(le.id)?ue.get(le.id):Number.MAX_SAFE_INTEGER,de=ue.has(ce.id)?ue.get(ce.id):Number.MAX_SAFE_INTEGER;return pe===de?0:pe-de})}t.value=ne,o.value=ee.data.total||0}else B(": "+ee.message,"error")}catch(K){B(": "+K.message,"error")}finally{e.value=!1}},ie=(K,ee)=>{const ne=(K||"").trim(),se=(ee||"").trim();return ne&&se?`${ne}

${se}`:ne||(se?`${se}`:"")},ae=K=>{const ee=(K||"").trim();if(!ee)return{intro:"",scenes:""};const ne=/([\s\S]*?)(?=|$)/,se=/([\s\S]*)$/,ue=ee.match(ne),le=ee.match(se);if(ue||le)return{intro:ue&&ue[1]?ue[1].trim():"",scenes:le&&le[1]?le[1].trim():""};const ce=/[:]([\s\S]*?)(?=[:]|$)/,pe=/[:]([\s\S]*)$/,de=ee.match(ce),me=ee.match(pe);return de||me?{intro:de&&de[1]?de[1].trim():"",scenes:me&&me[1]?me[1].trim():""}:{intro:ee,scenes:""}},Y=async()=>{if(!v.value.name.trim()){B("","error");return}if(!String(v.value.algo_key||"").trim()){B("algo_key ","error");return}e.value=!0;try{const K=d.value?"PUT":"POST",ee=d.value?`${m}/algorithms/${d.value.id}`:`${m}/algorithms`,ne=ie(g.value,p.value),se={...v.value,description:ne},le=await(await fetch(ee,{method:K,headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify(se)})).json();le.status==="success"?(B(d.value?"":"","success"),X(),oe()):B(": "+le.message,"error")}catch(K){B(": "+K.message,"error")}finally{e.value=!1}},re=K=>{d.value=K,v.value={name:K.name,algo_key:K.algo_key||"",description:K.description||"",type:K.type||"",status:K.status};const ee=ae(K.description||"");g.value=ee.intro,p.value=ee.scenes,r.value=!0},U=async K=>{try{const ee=K.status==="active"?"inactive":"active",se=await(await fetch(`${m}/algorithms/${K.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify({status:ee})})).json();se.status==="success"?(K.status=ee,B("","success")):B(": "+se.message,"error")}catch(ee){B(": "+ee.message,"error")}},V=async K=>{if(confirm(""))try{const ne=await(await fetch(`${m}/algorithms/${K}`,{method:"DELETE",headers:{Authorization:`Bearer ${b}`}})).json();ne.status==="success"?(B("","success"),oe()):B(": "+ne.message,"error")}catch(ee){B(": "+ee.message,"error")}},X=()=>{r.value=!1,d.value=null,v.value={name:"",algo_key:"",description:"",type:"",status:"active"},g.value="",p.value=""},M=()=>{d.value=null,v.value={name:"",algo_key:"",description:"",type:"",status:"active"},g.value="",p.value="",r.value=!0},B=(K,ee="info")=>{l.value={text:K,type:ee},setTimeout(()=>{l.value=null},3e3)},z=K=>K?new Date(K).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-";return ys(()=>{oe()}),_n(i,()=>{oe()}),{algorithms:t,filteredAlgorithms:y,loading:e,showAddModal:r,searchQuery:n,filterStatus:a,currentPage:i,totalPages:w,message:l,editingAlgorithm:d,formData:v,saveAlgorithm:Y,editAlgorithm:re,toggleStatus:U,deleteAlgorithm:V,closeModal:X,formatDate:z,getTags:x,isExpanded:N,toggleExpand:k,shouldToggle:O,formIntro:g,formScenes:p,openCreateModal:M,getIntroText:E,getScenesText:L,isSectionOpen:S,toggleSection:P,sortMode:u,dragOverId:f,enterSortMode:A,saveSort:R,cancelSort:T,onDragStart:W,onDragOver:q,onDrop:$,onDragEnd:Q}}},HT={class:"algorithms-page"},GT={class:"page-header"},qT={class:"header-actions"},WT={key:1,class:"sort-actions"},YT={class:"filter-bar"},XT={class:"algorithms-list"},KT={key:0,class:"loading"},$T={key:1,class:"empty-state"},ZT=["draggable","onDragstart","onDragover","onDrop"],QT={class:"item-main"},JT={class:"item-header"},jT={key:0,class:"drag-handle",title:""},eS={class:"item-title"},tS={class:"item-tags"},rS={class:"info-toggle"},nS=["disabled","onClick"],aS=["disabled","onClick"],iS=["title"],sS=["title"],oS={key:0,class:"item-actions"},lS=["onClick"],uS=["onClick"],cS=["onClick"],fS={key:0,class:"pagination"},dS=["disabled"],hS={class:"page-info"},vS=["disabled"],gS={class:"modal"},pS={class:"modal-header"},mS={class:"modal-body"},yS={class:"form-group"},bS={class:"form-group"},wS={class:"form-group"},ES={class:"form-group"},xS={class:"form-group"},CS={class:"form-group"},TS={class:"modal-footer"};function SS(t,e,r,n,a,i){return be(),xe("div",HT,[_("div",GT,[e[19]||(e[19]=_("h1",null,"",-1)),_("div",qT,[n.sortMode?(be(),xe("div",WT,[_("button",{class:"btn btn-primary",onClick:e[1]||(e[1]=(...s)=>n.saveSort&&n.saveSort(...s))},""),_("button",{class:"btn btn-secondary",onClick:e[2]||(e[2]=(...s)=>n.cancelSort&&n.cancelSort(...s))},"")])):(be(),xe("button",{key:0,class:"btn btn-secondary",onClick:e[0]||(e[0]=(...s)=>n.enterSortMode&&n.enterSortMode(...s)),title:""},"")),_("button",{class:"btn btn-primary",onClick:e[3]||(e[3]=(...s)=>n.openCreateModal&&n.openCreateModal(...s))},"+ ")])]),_("div",YT,[ut(_("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>n.searchQuery=s),type:"text",placeholder:"...",class:"search-input"},null,512),[[Tt,n.searchQuery]]),ut(_("select",{"onUpdate:modelValue":e[5]||(e[5]=s=>n.filterStatus=s),class:"filter-select"},e[20]||(e[20]=[_("option",{value:""},"",-1),_("option",{value:"active"},"",-1),_("option",{value:"inactive"},"",-1)]),512),[[rs,n.filterStatus]])]),_("div",XT,[n.loading?(be(),xe("div",KT,"...")):n.filteredAlgorithms.length===0?(be(),xe("div",$T,e[21]||(e[21]=[_("p",null,"",-1)]))):(be(),xe("div",{key:2,class:Rt(["algo-list",{"sort-mode":n.sortMode}])},[(be(!0),xe(ft,null,pr(n.filteredAlgorithms,s=>(be(),xe("div",{key:s.id,class:Rt(["algo-item",{"is-sorting":n.sortMode,"drag-over":n.dragOverId===s.id}]),draggable:n.sortMode,onDragstart:o=>n.onDragStart(o,s.id),onDragover:br(o=>n.onDragOver(s.id,o),["prevent"]),onDrop:br(o=>n.onDrop(s.id),["prevent"]),onDragend:e[6]||(e[6]=(...o)=>n.onDragEnd&&n.onDragEnd(...o))},[_("div",QT,[_("div",JT,[n.sortMode?(be(),xe("span",jT,"")):Ke("",!0),_("h3",eS,De(s.name),1)]),_("div",tS,[(be(!0),xe(ft,null,pr(n.getTags(s),o=>(be(),xe("span",{key:o,class:"tag"},De(o),1))),128)),_("span",{class:Rt(["status-chip",s.status==="active"?"active":"inactive"])},De(s.status==="active"?"":""),3)]),_("div",rS,[_("button",{class:Rt(["toggle-btn",{active:n.isSectionOpen(s.id,"intro")}]),disabled:n.sortMode,onClick:o=>n.toggleSection(s.id,"intro")},"",10,nS),_("button",{class:Rt(["toggle-btn",{active:n.isSectionOpen(s.id,"scenes")}]),disabled:n.sortMode,onClick:o=>n.toggleSection(s.id,"scenes")},"",10,aS)]),!n.sortMode&&n.isSectionOpen(s.id,"intro")?(be(),xe("div",{key:0,class:"info-content",title:n.getIntroText(s)||""},De(n.getIntroText(s)||""),9,iS)):Ke("",!0),!n.sortMode&&n.isSectionOpen(s.id,"scenes")?(be(),xe("div",{key:1,class:"info-content",title:n.getScenesText(s)||""},""+De(n.getScenesText(s)||""),9,sS)):Ke("",!0)]),n.sortMode?Ke("",!0):(be(),xe("div",oS,[_("button",{class:"btn-ghost",onClick:o=>n.editAlgorithm(s)},"",8,lS),_("button",{class:"btn-ghost",onClick:o=>n.toggleStatus(s)},De(s.status==="active"?"":""),9,uS),_("button",{class:"btn-ghost danger",onClick:o=>n.deleteAlgorithm(s.id)},"",8,cS)]))],42,ZT))),128))],2))]),n.totalPages>1?(be(),xe("div",fS,[_("button",{disabled:n.currentPage===1,onClick:e[7]||(e[7]=s=>n.currentPage--),class:"btn-page"},"  ",8,dS),_("span",hS," "+De(n.currentPage)+" / "+De(n.totalPages)+" ",1),_("button",{disabled:n.currentPage===n.totalPages,onClick:e[8]||(e[8]=s=>n.currentPage++),class:"btn-page"},"  ",8,vS)])):Ke("",!0),n.showAddModal?(be(),xe("div",{key:1,class:"modal-overlay",onClick:e[18]||(e[18]=br((...s)=>n.closeModal&&n.closeModal(...s),["self"]))},[_("div",gS,[_("div",pS,[_("h2",null,De(n.editingAlgorithm?"":""),1),_("button",{class:"btn-close",onClick:e[9]||(e[9]=(...s)=>n.closeModal&&n.closeModal(...s))},"")]),_("div",mS,[_("div",yS,[e[22]||(e[22]=_("label",null," *",-1)),ut(_("input",{"onUpdate:modelValue":e[10]||(e[10]=s=>n.formData.name=s),type:"text",placeholder:"",class:"form-input"},null,512),[[Tt,n.formData.name]])]),_("div",bS,[e[23]||(e[23]=_("label",null,"algo_key *",-1)),ut(_("input",{"onUpdate:modelValue":e[11]||(e[11]=s=>n.formData.algo_key=s),type:"text",placeholder:": example_textline_algo registry ",class:"form-input"},null,512),[[Tt,n.formData.algo_key]]),e[24]||(e[24]=_("div",{class:"form-hint"},"",-1))]),_("div",wS,[e[25]||(e[25]=_("label",null,"",-1)),ut(_("textarea",{"onUpdate:modelValue":e[12]||(e[12]=s=>n.formIntro=s),placeholder:"",class:"form-textarea",rows:"4"},null,512),[[Tt,n.formIntro]])]),_("div",ES,[e[26]||(e[26]=_("label",null,"",-1)),ut(_("textarea",{"onUpdate:modelValue":e[13]||(e[13]=s=>n.formScenes=s),placeholder:"/",class:"form-textarea",rows:"3"},null,512),[[Tt,n.formScenes]])]),_("div",xS,[e[27]||(e[27]=_("label",null,"",-1)),ut(_("input",{"onUpdate:modelValue":e[14]||(e[14]=s=>n.formData.type=s),type:"text",placeholder:": ",class:"form-input"},null,512),[[Tt,n.formData.type]])]),_("div",CS,[e[29]||(e[29]=_("label",null,"",-1)),ut(_("select",{"onUpdate:modelValue":e[15]||(e[15]=s=>n.formData.status=s),class:"form-input"},e[28]||(e[28]=[_("option",{value:"active"},"",-1),_("option",{value:"inactive"},"",-1)]),512),[[rs,n.formData.status]])])]),_("div",TS,[_("button",{class:"btn btn-secondary",onClick:e[16]||(e[16]=(...s)=>n.closeModal&&n.closeModal(...s))},""),_("button",{class:"btn btn-primary",onClick:e[17]||(e[17]=(...s)=>n.saveAlgorithm&&n.saveAlgorithm(...s))},"")])])])):Ke("",!0),n.message?(be(),xe("div",{key:2,class:Rt(["message",n.message.type])},De(n.message.text),3)):Ke("",!0)])}const AS=hr(VT,[["render",SS],["__scopeId","data-v-fcfc3b50"]]),DS={name:"FilesPage",data(){return{files:[],filesLoading:!1,filesError:"",page:1,page_size:10,total:0,fileSearch:"",uploadVisible:!1,uploadFiles:[],uploading:!1,uploadProgress:0,uploadError:"",uploadSuccess:"",uploadResultVisible:!1,uploadResultMessage:"",uploadedCount:0,failedCount:0}},computed:{displayFiles(){const t=(this.fileSearch||"").trim().toLowerCase();return t?this.files.filter(e=>{const r=(e.original_name||"").toLowerCase(),n=(e.mime_type||"").toLowerCase();return r.includes(t)||n.includes(t)}):this.files}},methods:{fetchFiles(){this.filesLoading=!0,this.filesError="";const t=setTimeout(()=>{this.filesLoading&&(this.filesLoading=!1,this.filesError="")},8e3);Je.get("/api/uploads",{params:{page:this.page,page_size:this.page_size}}).then(e=>{var r,n;if(clearTimeout(t),((r=e.data)==null?void 0:r.status)==="success"){const a=e.data.data||{};this.files=Array.isArray(a.items)?a.items:Array.isArray(a)?a:[],this.total=a.total||0,this.filesError=""}else this.filesError=((n=e.data)==null?void 0:n.message)||"",this.files=[];this.filesLoading=!1}).catch(e=>{var r,n;clearTimeout(t),this.filesError=((n=(r=e.response)==null?void 0:r.data)==null?void 0:n.message)||e.message||"",this.files=[],this.filesLoading=!1})},changePage(t){this.page=t,this.fetchFiles()},previewFile(t){const e=localStorage.getItem("token")||"",r=`/api/uploads/${t.id}/file?token=${encodeURIComponent(e)}`;window.open(r,"_blank")},downloadFile(t){const e=localStorage.getItem("token")||"",r=`/api/uploads/${t.id}/download?token=${encodeURIComponent(e)}`,n=document.createElement("a");n.href=r,n.download=t.original_name||"download",document.body.appendChild(n),n.click(),document.body.removeChild(n)},removeFile(t){confirm(`: ${t.original_name} ?`)&&Je.delete(`/api/uploads/${t.id}`).then(e=>{var r,n;((r=e.data)==null?void 0:r.status)==="success"?this.fetchFiles():alert(((n=e.data)==null?void 0:n.message)||"")}).catch(e=>{var r,n;alert(((n=(r=e.response)==null?void 0:r.data)==null?void 0:n.message)||e.message||"")})},openUpload(){this.uploadVisible=!0,this.uploadFiles=[],this.uploadError="",this.uploadSuccess="",this.uploadProgress=0,this.uploadedCount=0,this.failedCount=0},closeUpload(){this.uploadVisible=!1},chooseFile(){const t=this.$refs.fileInput;t&&t.click()},onFileChange(t){const e=t.target.files;if(e){this.uploadFiles=[],this.uploadError="",this.uploadSuccess="",this.uploadProgress=0;for(let r=0;r<e.length;r++){const n=e[r];if(n.size>20*1024*1024){this.uploadError=` ${n.name}  20MB`;continue}this.uploadFiles.push(n)}}},removeUploadFile(t){this.uploadFiles.splice(t,1),this.$refs.fileInput&&(this.$refs.fileInput.value="")},doUpload(){if(this.uploadFiles.length===0){this.uploadError="";return}this.uploadError="",this.uploadSuccess="",this.uploadedCount=0,this.failedCount=0,this.uploading=!0,this.uploadProgress=0;const t=this.uploadFiles.length;let e=0;const r=this.uploadFiles.map((n,a)=>new Promise(i=>{const s=new FormData;s.append("file",n),Je.post("/api/upload",s,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:o=>{if(o.total){const l=Math.round(o.loaded/o.total*100),u=Math.round((e+l/100)/t*100);this.uploadProgress=u}}}).then(o=>{var l;((l=o.data)==null?void 0:l.status)==="success"?this.uploadedCount++:this.failedCount++,e++,i()}).catch(o=>{this.failedCount++,e++,i()})}));Promise.all(r).then(()=>{this.uploading=!1,this.uploadProgress=100,this.failedCount===0?(this.uploadSuccess=` ${this.uploadedCount} `,this.uploadResultMessage=` ${this.uploadedCount} `):this.uploadedCount===0?(this.uploadError=`${this.failedCount} `,this.uploadResultMessage=`${this.failedCount} `):(this.uploadSuccess=` ${this.uploadedCount} ${this.failedCount} `,this.uploadResultMessage=` ${this.uploadedCount} ${this.failedCount} `),setTimeout(()=>{this.fetchFiles()},500),this.uploadResultVisible=!0,this.uploadFiles=[],this.$refs.fileInput&&(this.$refs.fileInput.value="")})},confirmUploadResult(){this.uploadResultVisible=!1,this.uploadVisible=!1,this.uploadError="",this.uploadSuccess="",this.uploadProgress=0,this.uploadedCount=0,this.failedCount=0,this.files.length===0&&this.fetchFiles()},getFileNameWithoutExt(t){if(!t)return"-";const e=t.lastIndexOf(".");return e>0?t.substring(0,e):t},getFileExtension(t){if(!t)return"-";const e=t.lastIndexOf(".");return e>0&&t.substring(e+1).toUpperCase()||"-"},formatDate(t){if(!t)return"-";const e=Date.parse(t);return isNaN(e)?t:new Date(e).toLocaleString("zh-CN")},formatSize(t){if(t==null)return"-";const e=["B","KB","MB","GB","TB"];let r=Number(t),n=0;for(;r>=1024&&n<e.length-1;)r/=1024,n++;return`${r.toFixed(r<10&&n>0?1:0)} ${e[n]}`}},mounted(){this.fetchFiles()}},RS={class:"files-page"},LS={class:"page-header"},MS={class:"file-actions"},PS={key:0,class:"loading"},NS={key:1,class:"error"},OS={class:"filter-bar"},kS={key:2,class:"users-table"},IS=["title"],FS={class:"ops"},BS=["onClick"],_S=["onClick"],zS=["onClick"],US={key:0},VS={key:3,class:"pagination"},HS=["disabled"],GS=["disabled"],qS={class:"modal-container upload-modal"},WS={class:"form-row file-chooser"},YS=["title"],XS=["onClick"],KS={key:1,class:"file-chip empty"},$S={key:0,class:"form-error"},ZS={key:1,class:"form-success"},QS={key:2,class:"progress"},JS={class:"progress-text"},jS={class:"actions"},eA=["disabled"],tA=["disabled"],rA={class:"modal-container result-modal"},nA={style:{margin:"8px 0 16px",color:"#333"}},aA={class:"actions"};function iA(t,e,r,n,a,i){return be(),xe("div",RS,[_("div",LS,[e[13]||(e[13]=_("h3",null,"",-1)),_("div",MS,[_("button",{type:"button",class:"btn-upload",onClick:e[0]||(e[0]=(...s)=>i.openUpload&&i.openUpload(...s))},e[12]||(e[12]=[_("svg",{class:"icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},[_("path",{d:"M12 16V4M12 4l-4 4M12 4l4 4",stroke:"currentColor","stroke-width":"1.8","stroke-linecap":"round","stroke-linejoin":"round"}),_("path",{d:"M4 16v3a1 1 0 001 1h14a1 1 0 001-1v-3",stroke:"currentColor","stroke-width":"1.8","stroke-linecap":"round","stroke-linejoin":"round"})],-1),Ar("  ")])),_("button",{type:"button",class:"refresh-btn",onClick:e[1]||(e[1]=(...s)=>i.fetchFiles&&i.fetchFiles(...s))},"")])]),a.filesLoading?(be(),xe("div",PS,"...")):Ke("",!0),a.filesError?(be(),xe("div",NS,De(a.filesError),1)):Ke("",!0),_("div",OS,[ut(_("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>a.fileSearch=s),type:"text",placeholder:"...",class:"search-input"},null,512),[[Tt,a.fileSearch]])]),!a.filesLoading&&!a.filesError?(be(),xe("table",kS,[e[15]||(e[15]=_("thead",null,[_("tr",null,[_("th",null,""),_("th",null,""),_("th",null,""),_("th",null,""),_("th",null,""),_("th",null,"")])],-1)),_("tbody",null,[(be(!0),xe(ft,null,pr(i.displayFiles,(s,o)=>(be(),xe("tr",{key:s.id},[_("td",null,De((a.page-1)*a.page_size+o+1),1),_("td",{title:s.original_name},De(i.getFileNameWithoutExt(s.original_name)),9,IS),_("td",null,De(i.getFileExtension(s.original_name)),1),_("td",null,De(i.formatSize(s.size_bytes)),1),_("td",null,De(i.formatDate(s.created_at)),1),_("td",FS,[_("a",{href:"javascript:void(0)",onClick:l=>i.previewFile(s)},"",8,BS),_("a",{href:"javascript:void(0)",onClick:l=>i.downloadFile(s)},"",8,_S),_("a",{href:"javascript:void(0)",onClick:l=>i.removeFile(s)},"",8,zS)])]))),128)),a.files.length===0?(be(),xe("tr",US,e[14]||(e[14]=[_("td",{colspan:"6",class:"empty"},"",-1)]))):Ke("",!0)])])):Ke("",!0),a.total>a.page_size?(be(),xe("div",VS,[_("button",{disabled:a.page<=1,onClick:e[3]||(e[3]=s=>i.changePage(a.page-1))},"",8,HS),_("span",null," "+De(a.page)+" / "+De(Math.ceil(a.total/a.page_size))+" ",1),_("button",{disabled:a.page>=Math.ceil(a.total/a.page_size),onClick:e[4]||(e[4]=s=>i.changePage(a.page+1))},"",8,GS)])):Ke("",!0),ut(_("div",{class:"modal-mask",onClick:e[9]||(e[9]=br((...s)=>i.closeUpload&&i.closeUpload(...s),["self"]))},[_("div",qS,[e[16]||(e[16]=_("h3",{class:"modal-title"},"",-1)),e[17]||(e[17]=_("p",{class:"hint"}," .txt  .csv  20MB",-1)),_("div",WS,[_("input",{id:"uploadFileInput",type:"file",multiple:"",onChange:e[5]||(e[5]=(...s)=>i.onFileChange&&i.onFileChange(...s)),ref:"fileInput",style:{display:"none"},accept:".txt,.csv,text/plain,text/csv"},null,544),_("button",{type:"button",class:"choose-btn",onClick:e[6]||(e[6]=(...s)=>i.chooseFile&&i.chooseFile(...s))},""),a.uploadFiles&&a.uploadFiles.length?(be(!0),xe(ft,{key:0},pr(a.uploadFiles,(s,o)=>(be(),xe("span",{key:s.name+"_"+s.size+"_"+o,class:"file-chip",title:s.name},[Ar(De(s.name)+""+De(i.formatSize(s.size))+" ",1),_("button",{type:"button",class:"chip-remove",onClick:br(l=>i.removeUploadFile(o),["stop"]),title:""},"",8,XS)],8,YS))),128)):(be(),xe("span",KS,""))]),a.uploadError?(be(),xe("div",$S,De(a.uploadError),1)):Ke("",!0),a.uploadSuccess?(be(),xe("div",ZS,De(a.uploadSuccess),1)):Ke("",!0),a.uploading?(be(),xe("div",QS,[_("div",{class:"bar",style:Zn({width:a.uploadProgress+"%"})},null,4),_("span",JS,De(a.uploadProgress)+"%",1)])):Ke("",!0),_("div",jS,[_("button",{onClick:e[7]||(e[7]=(...s)=>i.closeUpload&&i.closeUpload(...s)),disabled:a.uploading},"",8,eA),_("button",{class:"primary",onClick:e[8]||(e[8]=(...s)=>i.doUpload&&i.doUpload(...s)),disabled:a.uploadFiles.length===0||a.uploading},De(a.uploading?"...":""),9,tA)])])],512),[[pm,a.uploadVisible]]),a.uploadResultVisible?(be(),xe("div",{key:4,class:"modal-mask result-mask",onClick:e[11]||(e[11]=br((...s)=>i.confirmUploadResult&&i.confirmUploadResult(...s),["self"]))},[_("div",rA,[e[18]||(e[18]=_("h3",{class:"modal-title"},"",-1)),_("p",nA,De(a.uploadResultMessage||""),1),_("div",aA,[_("button",{class:"primary",onClick:e[10]||(e[10]=(...s)=>i.confirmUploadResult&&i.confirmUploadResult(...s))},"")])])])):Ke("",!0)])}const sA=hr(DS,[["render",iA],["__scopeId","data-v-ed5bf1aa"]]),oA={name:"SettingsPage"},lA={class:"settings"};function uA(t,e,r,n,a,i){return be(),xe("div",lA,e[0]||(e[0]=[_("h3",null,"",-1),_("p",null,"...",-1)]))}const cA=hr(oA,[["render",uA],["__scopeId","data-v-95eb9e9c"]]);function jc(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function fA(t){if(Array.isArray(t))return t}function dA(t){if(Array.isArray(t))return jc(t)}function Qn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ry(n.key),n)}}function Jn(t,e,r){return e&&hA(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wr(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Vf(t))||e){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,o=!1;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return s=l.done,l},e:function(l){o=!0,i=l},f:function(){try{s||r.return==null||r.return()}finally{if(o)throw i}}}}function ty(t,e,r){return(e=ry(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vA(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gA(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(c){u=!0,a=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function pA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ft(t,e){return fA(t)||gA(t,e)||Vf(t,e)||pA()}function Oo(t){return dA(t)||vA(t)||Vf(t)||mA()}function yA(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ry(t){var e=yA(t,"string");return typeof e=="symbol"?e:e+""}function Vt(t){"@babel/helpers - typeof";return Vt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vt(t)}function Vf(t,e){if(t){if(typeof t=="string")return jc(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jc(t,e):void 0}}var zt=typeof window>"u"?null:window,Lh=zt?zt.navigator:null;zt&&zt.document;var bA=Vt(""),ny=Vt({}),wA=Vt(function(){}),EA=typeof HTMLElement>"u"?"undefined":Vt(HTMLElement),xs=function(e){return e&&e.instanceString&&At(e.instanceString)?e.instanceString():null},Ve=function(e){return e!=null&&Vt(e)==bA},At=function(e){return e!=null&&Vt(e)===wA},pt=function(e){return!Dr(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},tt=function(e){return e!=null&&Vt(e)===ny&&!pt(e)&&e.constructor===Object},xA=function(e){return e!=null&&Vt(e)===ny},Ne=function(e){return e!=null&&Vt(e)===Vt(1)&&!isNaN(e)},CA=function(e){return Ne(e)&&Math.floor(e)===e},ko=function(e){if(EA!=="undefined")return e!=null&&e instanceof HTMLElement},Dr=function(e){return Cs(e)||ay(e)},Cs=function(e){return xs(e)==="collection"&&e._private.single},ay=function(e){return xs(e)==="collection"&&!e._private.single},Hf=function(e){return xs(e)==="core"},iy=function(e){return xs(e)==="stylesheet"},TA=function(e){return xs(e)==="event"},Gn=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},SA=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},AA=function(e){return tt(e)&&Ne(e.x1)&&Ne(e.x2)&&Ne(e.y1)&&Ne(e.y2)},DA=function(e){return xA(e)&&At(e.then)},RA=function(){return Lh&&Lh.userAgent.match(/msie|trident|edge/i)},oi=function(e,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var i=[],s=0;s<arguments.length;s++)i.push(arguments[s]);return i.join("$")});var n=function(){var i=this,s=arguments,o,l=r.apply(i,s),u=n.cache;return(o=u[l])||(o=u[l]=e.apply(i,s)),o};return n.cache={},n},Gf=oi(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),ml=oi(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),sy=oi(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),Mh=function(e){return Gn(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},kn=function(e,r){return e.slice(-1*r.length)===r},Ut="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",LA="rgb[a]?\\(("+Ut+"[%]?)\\s*,\\s*("+Ut+"[%]?)\\s*,\\s*("+Ut+"[%]?)(?:\\s*,\\s*("+Ut+"))?\\)",MA="rgb[a]?\\((?:"+Ut+"[%]?)\\s*,\\s*(?:"+Ut+"[%]?)\\s*,\\s*(?:"+Ut+"[%]?)(?:\\s*,\\s*(?:"+Ut+"))?\\)",PA="hsl[a]?\\(("+Ut+")\\s*,\\s*("+Ut+"[%])\\s*,\\s*("+Ut+"[%])(?:\\s*,\\s*("+Ut+"))?\\)",NA="hsl[a]?\\((?:"+Ut+")\\s*,\\s*(?:"+Ut+"[%])\\s*,\\s*(?:"+Ut+"[%])(?:\\s*,\\s*(?:"+Ut+"))?\\)",OA="\\#[0-9a-fA-F]{3}",kA="\\#[0-9a-fA-F]{6}",oy=function(e,r){return e<r?-1:e>r?1:0},IA=function(e,r){return-1*oy(e,r)},qe=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var n=e[r];if(n!=null)for(var a=Object.keys(n),i=0;i<a.length;i++){var s=a[i];t[s]=n[s]}}return t},FA=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var r=e.length===4,n,a,i,s=16;return r?(n=parseInt(e[1]+e[1],s),a=parseInt(e[2]+e[2],s),i=parseInt(e[3]+e[3],s)):(n=parseInt(e[1]+e[2],s),a=parseInt(e[3]+e[4],s),i=parseInt(e[5]+e[6],s)),[n,a,i]}},BA=function(e){var r,n,a,i,s,o,l,u;function c(v,g,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?v+(g-v)*6*p:p<1/2?g:p<2/3?v+(g-v)*(2/3-p)*6:v}var f=new RegExp("^"+PA+"$").exec(e);if(f){if(n=parseInt(f[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,a=parseFloat(f[2]),a<0||a>100||(a=a/100,i=parseFloat(f[3]),i<0||i>100)||(i=i/100,s=f[4],s!==void 0&&(s=parseFloat(s),s<0||s>1)))return;if(a===0)o=l=u=Math.round(i*255);else{var h=i<.5?i*(1+a):i+a-i*a,d=2*i-h;o=Math.round(255*c(d,h,n+1/3)),l=Math.round(255*c(d,h,n)),u=Math.round(255*c(d,h,n-1/3))}r=[o,l,u,s]}return r},_A=function(e){var r,n=new RegExp("^"+LA+"$").exec(e);if(n){r=[];for(var a=[],i=1;i<=3;i++){var s=n[i];if(s[s.length-1]==="%"&&(a[i]=!0),s=parseFloat(s),a[i]&&(s=s/100*255),s<0||s>255)return;r.push(Math.floor(s))}var o=a[1]||a[2]||a[3],l=a[1]&&a[2]&&a[3];if(o&&!l)return;var u=n[4];if(u!==void 0){if(u=parseFloat(u),u<0||u>1)return;r.push(u)}}return r},zA=function(e){return UA[e.toLowerCase()]},ly=function(e){return(pt(e)?e:null)||zA(e)||FA(e)||_A(e)||BA(e)},UA={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},uy=function(e){for(var r=e.map,n=e.keys,a=n.length,i=0;i<a;i++){var s=n[i];if(tt(s))throw Error("Tried to set map with object key");i<n.length-1?(r[s]==null&&(r[s]={}),r=r[s]):r[s]=e.value}},cy=function(e){for(var r=e.map,n=e.keys,a=n.length,i=0;i<a;i++){var s=n[i];if(tt(s))throw Error("Tried to get map with object key");if(r=r[s],r==null)return r}return r},Vs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ts(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var eu,Ph;function Ss(){if(Ph)return eu;Ph=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return eu=t,eu}var tu,Nh;function VA(){if(Nh)return tu;Nh=1;var t=typeof Vs=="object"&&Vs&&Vs.Object===Object&&Vs;return tu=t,tu}var ru,Oh;function yl(){if(Oh)return ru;Oh=1;var t=VA(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return ru=r,ru}var nu,kh;function HA(){if(kh)return nu;kh=1;var t=yl(),e=function(){return t.Date.now()};return nu=e,nu}var au,Ih;function GA(){if(Ih)return au;Ih=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return au=e,au}var iu,Fh;function qA(){if(Fh)return iu;Fh=1;var t=GA(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return iu=r,iu}var su,Bh;function qf(){if(Bh)return su;Bh=1;var t=yl(),e=t.Symbol;return su=e,su}var ou,_h;function WA(){if(_h)return ou;_h=1;var t=qf(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function i(s){var o=r.call(s,a),l=s[a];try{s[a]=void 0;var u=!0}catch{}var c=n.call(s);return u&&(o?s[a]=l:delete s[a]),c}return ou=i,ou}var lu,zh;function YA(){if(zh)return lu;zh=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return lu=r,lu}var uu,Uh;function fy(){if(Uh)return uu;Uh=1;var t=qf(),e=WA(),r=YA(),n="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function s(o){return o==null?o===void 0?a:n:i&&i in Object(o)?e(o):r(o)}return uu=s,uu}var cu,Vh;function XA(){if(Vh)return cu;Vh=1;function t(e){return e!=null&&typeof e=="object"}return cu=t,cu}var fu,Hh;function As(){if(Hh)return fu;Hh=1;var t=fy(),e=XA(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return fu=n,fu}var du,Gh;function KA(){if(Gh)return du;Gh=1;var t=qA(),e=Ss(),r=As(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function l(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=e(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=t(u);var f=i.test(u);return f||s.test(u)?o(u.slice(2),f?2:8):a.test(u)?n:+u}return du=l,du}var hu,qh;function $A(){if(qh)return hu;qh=1;var t=Ss(),e=HA(),r=KA(),n="Expected a function",a=Math.max,i=Math.min;function s(o,l,u){var c,f,h,d,v,g,p=0,m=!1,b=!1,y=!0;if(typeof o!="function")throw new TypeError(n);l=r(l)||0,t(u)&&(m=!!u.leading,b="maxWait"in u,h=b?a(r(u.maxWait)||0,l):h,y="trailing"in u?!!u.trailing:y);function w(P){var E=c,L=f;return c=f=void 0,p=P,d=o.apply(L,E),d}function x(P){return p=P,v=setTimeout(N,l),m?w(P):d}function D(P){var E=P-g,L=P-p,A=l-E;return b?i(A,h-L):A}function C(P){var E=P-g,L=P-p;return g===void 0||E>=l||E<0||b&&L>=h}function N(){var P=e();if(C(P))return k(P);v=setTimeout(N,D(P))}function k(P){return v=void 0,y&&c?w(P):(c=f=void 0,d)}function O(){v!==void 0&&clearTimeout(v),p=0,c=g=f=v=void 0}function F(){return v===void 0?d:k(e())}function S(){var P=e(),E=C(P);if(c=arguments,f=this,g=P,E){if(v===void 0)return x(g);if(b)return clearTimeout(v),v=setTimeout(N,l),w(g)}return v===void 0&&(v=setTimeout(N,l)),d}return S.cancel=O,S.flush=F,S}return hu=s,hu}var ZA=$A(),Ds=Ts(ZA),vu=zt?zt.performance:null,dy=vu&&vu.now?function(){return vu.now()}:function(){return Date.now()},QA=function(){if(zt){if(zt.requestAnimationFrame)return function(t){zt.requestAnimationFrame(t)};if(zt.mozRequestAnimationFrame)return function(t){zt.mozRequestAnimationFrame(t)};if(zt.webkitRequestAnimationFrame)return function(t){zt.webkitRequestAnimationFrame(t)};if(zt.msRequestAnimationFrame)return function(t){zt.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(dy())},1e3/60)}}(),Io=function(e){return QA(e)},yn=dy,ga=9261,hy=65599,Ha=5381,vy=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ga,n=r,a;a=e.next(),!a.done;)n=n*hy+a.value|0;return n},ss=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ga;return r*hy+e|0},os=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ha;return(r<<5)+r+e|0},JA=function(e,r){return e*2097152+r},Dn=function(e){return e[0]*2097152+e[1]},Hs=function(e,r){return[ss(e[0],r[0]),os(e[1],r[1])]},Wh=function(e,r){var n={value:0,done:!1},a=0,i=e.length,s={next:function(){return a<i?n.value=e[a++]:n.done=!0,n}};return vy(s,r)},Ca=function(e,r){var n={value:0,done:!1},a=0,i=e.length,s={next:function(){return a<i?n.value=e.charCodeAt(a++):n.done=!0,n}};return vy(s,r)},gy=function(){return jA(arguments)},jA=function(e){for(var r,n=0;n<e.length;n++){var a=e[n];n===0?r=Ca(a):r=Ca(a,r)}return r};function eD(t,e,r,n,a){var i=a*Math.PI/180,s=Math.cos(i)*(t-r)-Math.sin(i)*(e-n)+r,o=Math.sin(i)*(t-r)+Math.cos(i)*(e-n)+n;return{x:s,y:o}}var tD=function(e,r,n,a,i,s){return{x:(e-n)*i+n,y:(r-a)*s+a}};function rD(t,e,r){if(r===0)return t;var n=(e.x1+e.x2)/2,a=(e.y1+e.y2)/2,i=e.w/e.h,s=1/i,o=eD(t.x,t.y,n,a,r),l=tD(o.x,o.y,n,a,i,s);return{x:l.x,y:l.y}}var Yh=!0,nD=console.warn!=null,aD=console.trace!=null,Wf=Number.MAX_SAFE_INTEGER||9007199254740991,py=function(){return!0},Fo=function(){return!1},Xh=function(){return 0},Yf=function(){},xt=function(e){throw new Error(e)},my=function(e){if(e!==void 0)Yh=!!e;else return Yh},dt=function(e){my()&&(nD?console.warn(e):(console.log(e),aD&&console.trace()))},iD=function(e){return qe({},e)},jr=function(e){return e==null?e:pt(e)?e.slice():tt(e)?iD(e):e},sD=function(e){return e.slice()},yy=function(e,r){for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r},oD={},by=function(){return oD},Jt=function(e){var r=Object.keys(e);return function(n){for(var a={},i=0;i<r.length;i++){var s=r[i],o=n==null?void 0:n[s];a[s]=o===void 0?e[s]:o}return a}},qn=function(e,r,n){for(var a=e.length-1;a>=0;a--)e[a]===r&&e.splice(a,1)},Xf=function(e){e.splice(0,e.length)},lD=function(e,r){for(var n=0;n<r.length;n++){var a=r[n];e.push(a)}},mr=function(e,r,n){return n&&(r=sy(n,r)),e[r]},fn=function(e,r,n,a){n&&(r=sy(n,r)),e[r]=a},uD=function(){function t(){Qn(this,t),this._obj={}}return Jn(t,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}])}(),gn=typeof Map<"u"?Map:uD,cD="undefined",fD=function(){function t(e){if(Qn(this,t),this._obj=Object.create(null),this.size=0,e!=null){var r;e.instanceString!=null&&e.instanceString()===this.instanceString()?r=e.toArray():r=e;for(var n=0;n<r.length;n++)this.add(r[n])}}return Jn(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}])}(),di=(typeof Set>"u"?"undefined":Vt(Set))!==cD?Set:fD,bl=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||r===void 0||!Hf(e)){xt("An element must have a core reference and parameters set");return}var a=r.group;if(a==null&&(r.data&&r.data.source!=null&&r.data.target!=null?a="edges":a="nodes"),a!=="nodes"&&a!=="edges"){xt("An element must be of type `nodes` or `edges`; you specified `"+a+"`");return}this.length=1,this[0]=this;var i=this._private={cy:e,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:a,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?a==="edges":!!r.pannable,active:!1,classes:new di,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(i.position.x==null&&(i.position.x=0),i.position.y==null&&(i.position.y=0),r.renderedPosition){var s=r.renderedPosition,o=e.pan(),l=e.zoom();i.position={x:(s.x-o.x)/l,y:(s.y-o.y)/l}}var u=[];pt(r.classes)?u=r.classes:Ve(r.classes)&&(u=r.classes.split(/\s+/));for(var c=0,f=u.length;c<f;c++){var h=u[c];!h||h===""||i.classes.add(h)}this.createEmitter(),(n===void 0||n)&&this.restore();var d=r.style||r.css;d&&(dt("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(d))},Kh=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,a,i){var s;tt(n)&&!Dr(n)&&(s=n,n=s.roots||s.root,a=s.visit,i=s.directed),i=arguments.length===2&&!At(a)?a:i,a=At(a)?a:function(){};for(var o=this._private.cy,l=n=Ve(n)?this.filter(n):n,u=[],c=[],f={},h={},d={},v=0,g,p=this.byGroup(),m=p.nodes,b=p.edges,y=0;y<l.length;y++){var w=l[y],x=w.id();w.isNode()&&(u.unshift(w),e.bfs&&(d[x]=!0,c.push(w)),h[x]=0)}for(var D=function(){var P=e.bfs?u.shift():u.pop(),E=P.id();if(e.dfs){if(d[E])return 0;d[E]=!0,c.push(P)}var L=h[E],A=f[E],T=A!=null?A.source():null,R=A!=null?A.target():null,W=A==null?void 0:P.same(T)?R[0]:T[0],q;if(q=a(P,A,W,v++,L),q===!0)return g=P,1;if(q===!1)return 1;for(var G=P.connectedEdges().filter(function(ae){return(!i||ae.source().same(P))&&b.has(ae)}),$=0;$<G.length;$++){var Q=G[$],oe=Q.connectedNodes().filter(function(ae){return!ae.same(P)&&m.has(ae)}),ie=oe.id();oe.length!==0&&!d[ie]&&(oe=oe[0],u.push(oe),e.bfs&&(d[ie]=!0,c.push(oe)),f[ie]=Q,h[ie]=h[E]+1)}},C;u.length!==0&&(C=D(),!(C!==0&&C===1)););for(var N=o.collection(),k=0;k<c.length;k++){var O=c[k],F=f[O.id()];F!=null&&N.push(F),N.push(O)}return{path:o.collection(N),found:o.collection(g)}}},ls={breadthFirstSearch:Kh({bfs:!0}),depthFirstSearch:Kh({dfs:!0})};ls.bfs=ls.breadthFirstSearch;ls.dfs=ls.depthFirstSearch;var lo={exports:{}},dD=lo.exports,$h;function hD(){return $h||($h=1,function(t,e){(function(){var r,n,a,i,s,o,l,u,c,f,h,d,v,g,p;a=Math.floor,f=Math.min,n=function(m,b){return m<b?-1:m>b?1:0},c=function(m,b,y,w,x){var D;if(y==null&&(y=0),x==null&&(x=n),y<0)throw new Error("lo must be non-negative");for(w==null&&(w=m.length);y<w;)D=a((y+w)/2),x(b,m[D])<0?w=D:y=D+1;return[].splice.apply(m,[y,y-y].concat(b)),b},o=function(m,b,y){return y==null&&(y=n),m.push(b),g(m,0,m.length-1,y)},s=function(m,b){var y,w;return b==null&&(b=n),y=m.pop(),m.length?(w=m[0],m[0]=y,p(m,0,b)):w=y,w},u=function(m,b,y){var w;return y==null&&(y=n),w=m[0],m[0]=b,p(m,0,y),w},l=function(m,b,y){var w;return y==null&&(y=n),m.length&&y(m[0],b)<0&&(w=[m[0],b],b=w[0],m[0]=w[1],p(m,0,y)),b},i=function(m,b){var y,w,x,D,C,N;for(b==null&&(b=n),D=(function(){N=[];for(var k=0,O=a(m.length/2);0<=O?k<O:k>O;0<=O?k++:k--)N.push(k);return N}).apply(this).reverse(),C=[],w=0,x=D.length;w<x;w++)y=D[w],C.push(p(m,y,b));return C},v=function(m,b,y){var w;if(y==null&&(y=n),w=m.indexOf(b),w!==-1)return g(m,0,w,y),p(m,w,y)},h=function(m,b,y){var w,x,D,C,N;if(y==null&&(y=n),x=m.slice(0,b),!x.length)return x;for(i(x,y),N=m.slice(b),D=0,C=N.length;D<C;D++)w=N[D],l(x,w,y);return x.sort(y).reverse()},d=function(m,b,y){var w,x,D,C,N,k,O,F,S;if(y==null&&(y=n),b*10<=m.length){if(D=m.slice(0,b).sort(y),!D.length)return D;for(x=D[D.length-1],O=m.slice(b),C=0,k=O.length;C<k;C++)w=O[C],y(w,x)<0&&(c(D,w,0,null,y),D.pop(),x=D[D.length-1]);return D}for(i(m,y),S=[],N=0,F=f(b,m.length);0<=F?N<F:N>F;0<=F?++N:--N)S.push(s(m,y));return S},g=function(m,b,y,w){var x,D,C;for(w==null&&(w=n),x=m[y];y>b;){if(C=y-1>>1,D=m[C],w(x,D)<0){m[y]=D,y=C;continue}break}return m[y]=x},p=function(m,b,y){var w,x,D,C,N;for(y==null&&(y=n),x=m.length,N=b,D=m[b],w=2*b+1;w<x;)C=w+1,C<x&&!(y(m[w],m[C])<0)&&(w=C),m[b]=m[w],b=w,w=2*b+1;return m[b]=D,g(m,N,b,y)},r=function(){m.push=o,m.pop=s,m.replace=u,m.pushpop=l,m.heapify=i,m.updateItem=v,m.nlargest=h,m.nsmallest=d;function m(b){this.cmp=b??n,this.nodes=[]}return m.prototype.push=function(b){return o(this.nodes,b,this.cmp)},m.prototype.pop=function(){return s(this.nodes,this.cmp)},m.prototype.peek=function(){return this.nodes[0]},m.prototype.contains=function(b){return this.nodes.indexOf(b)!==-1},m.prototype.replace=function(b){return u(this.nodes,b,this.cmp)},m.prototype.pushpop=function(b){return l(this.nodes,b,this.cmp)},m.prototype.heapify=function(){return i(this.nodes,this.cmp)},m.prototype.updateItem=function(b){return v(this.nodes,b,this.cmp)},m.prototype.clear=function(){return this.nodes=[]},m.prototype.empty=function(){return this.nodes.length===0},m.prototype.size=function(){return this.nodes.length},m.prototype.clone=function(){var b;return b=new m,b.nodes=this.nodes.slice(0),b},m.prototype.toArray=function(){return this.nodes.slice(0)},m.prototype.insert=m.prototype.push,m.prototype.top=m.prototype.peek,m.prototype.front=m.prototype.peek,m.prototype.has=m.prototype.contains,m.prototype.copy=m.prototype.clone,m}(),function(m,b){return t.exports=b()}(this,function(){return r})}).call(dD)}(lo)),lo.exports}var gu,Zh;function vD(){return Zh||(Zh=1,gu=hD()),gu}var gD=vD(),Rs=Ts(gD),pD=Jt({root:null,weight:function(e){return 1},directed:!1}),mD={dijkstra:function(e){if(!tt(e)){var r=arguments;e={root:r[0],weight:r[1],directed:r[2]}}var n=pD(e),a=n.root,i=n.weight,s=n.directed,o=this,l=i,u=Ve(a)?this.filter(a)[0]:a[0],c={},f={},h={},d=this.byGroup(),v=d.nodes,g=d.edges;g.unmergeBy(function(L){return L.isLoop()});for(var p=function(A){return c[A.id()]},m=function(A,T){c[A.id()]=T,b.updateItem(A)},b=new Rs(function(L,A){return p(L)-p(A)}),y=0;y<v.length;y++){var w=v[y];c[w.id()]=w.same(u)?0:1/0,b.push(w)}for(var x=function(A,T){for(var R=(s?A.edgesTo(T):A.edgesWith(T)).intersect(g),W=1/0,q,G=0;G<R.length;G++){var $=R[G],Q=l($);(Q<W||!q)&&(W=Q,q=$)}return{edge:q,dist:W}};b.size()>0;){var D=b.pop(),C=p(D),N=D.id();if(h[N]=C,C!==1/0)for(var k=D.neighborhood().intersect(v),O=0;O<k.length;O++){var F=k[O],S=F.id(),P=x(D,F),E=C+P.dist;E<p(F)&&(m(F,E),f[S]={node:D,edge:P.edge})}}return{distanceTo:function(A){var T=Ve(A)?v.filter(A)[0]:A[0];return h[T.id()]},pathTo:function(A){var T=Ve(A)?v.filter(A)[0]:A[0],R=[],W=T,q=W.id();if(T.length>0)for(R.unshift(T);f[q];){var G=f[q];R.unshift(G.edge),R.unshift(G.node),W=G.node,q=W.id()}return o.spawn(R)}}}},yD={kruskal:function(e){e=e||function(y){return 1};for(var r=this.byGroup(),n=r.nodes,a=r.edges,i=n.length,s=new Array(i),o=n,l=function(w){for(var x=0;x<s.length;x++){var D=s[x];if(D.has(w))return x}},u=0;u<i;u++)s[u]=this.spawn(n[u]);for(var c=a.sort(function(y,w){return e(y)-e(w)}),f=0;f<c.length;f++){var h=c[f],d=h.source()[0],v=h.target()[0],g=l(d),p=l(v),m=s[g],b=s[p];g!==p&&(o.merge(h),m.merge(b),s.splice(p,1))}return o}},bD=Jt({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),wD={aStar:function(e){var r=this.cy(),n=bD(e),a=n.root,i=n.goal,s=n.heuristic,o=n.directed,l=n.weight;a=r.collection(a)[0],i=r.collection(i)[0];var u=a.id(),c=i.id(),f={},h={},d={},v=new Rs(function(q,G){return h[q.id()]-h[G.id()]}),g=new di,p={},m={},b=function(G,$){v.push(G),g.add($)},y,w,x=function(){y=v.pop(),w=y.id(),g.delete(w)},D=function(G){return g.has(G)};b(a,u),f[u]=0,h[u]=s(a);for(var C=0;v.size()>0;){if(x(),C++,w===c){for(var N=[],k=i,O=c,F=m[O];N.unshift(k),F!=null&&N.unshift(F),k=p[O],k!=null;)O=k.id(),F=m[O];return{found:!0,distance:f[w],path:this.spawn(N),steps:C}}d[w]=!0;for(var S=y._private.edges,P=0;P<S.length;P++){var E=S[P];if(this.hasElementWithId(E.id())&&!(o&&E.data("source")!==w)){var L=E.source(),A=E.target(),T=L.id()!==w?L:A,R=T.id();if(this.hasElementWithId(R)&&!d[R]){var W=f[w]+l(E);if(!D(R)){f[R]=W,h[R]=W+s(T),b(T,R),p[R]=y,m[R]=E;continue}W<f[R]&&(f[R]=W,h[R]=W+s(T),p[R]=y,m[R]=E)}}}}return{found:!1,distance:void 0,path:void 0,steps:C}}},ED=Jt({weight:function(e){return 1},directed:!1}),xD={floydWarshall:function(e){for(var r=this.cy(),n=ED(e),a=n.weight,i=n.directed,s=a,o=this.byGroup(),l=o.nodes,u=o.edges,c=l.length,f=c*c,h=function(Q){return l.indexOf(Q)},d=function(Q){return l[Q]},v=new Array(f),g=0;g<f;g++){var p=g%c,m=(g-p)/c;m===p?v[g]=0:v[g]=1/0}for(var b=new Array(f),y=new Array(f),w=0;w<u.length;w++){var x=u[w],D=x.source()[0],C=x.target()[0];if(D!==C){var N=h(D),k=h(C),O=N*c+k,F=s(x);if(v[O]>F&&(v[O]=F,b[O]=k,y[O]=x),!i){var S=k*c+N;!i&&v[S]>F&&(v[S]=F,b[S]=N,y[S]=x)}}}for(var P=0;P<c;P++)for(var E=0;E<c;E++)for(var L=E*c+P,A=0;A<c;A++){var T=E*c+A,R=P*c+A;v[L]+v[R]<v[T]&&(v[T]=v[L]+v[R],b[T]=b[L])}var W=function(Q){return(Ve(Q)?r.filter(Q):Q)[0]},q=function(Q){return h(W(Q))},G={distance:function(Q,oe){var ie=q(Q),ae=q(oe);return v[ie*c+ae]},path:function(Q,oe){var ie=q(Q),ae=q(oe),Y=d(ie);if(ie===ae)return Y.collection();if(b[ie*c+ae]==null)return r.collection();var re=r.collection(),U=ie,V;for(re.merge(Y);ie!==ae;)U=ie,ie=b[ie*c+ae],V=y[U*c+ie],re.merge(V),re.merge(d(ie));return re}};return G}},CD=Jt({weight:function(e){return 1},directed:!1,root:null}),TD={bellmanFord:function(e){var r=this,n=CD(e),a=n.weight,i=n.directed,s=n.root,o=a,l=this,u=this.cy(),c=this.byGroup(),f=c.edges,h=c.nodes,d=h.length,v=new gn,g=!1,p=[];s=u.collection(s)[0],f.unmergeBy(function(ne){return ne.isLoop()});for(var m=f.length,b=function(se){var ue=v.get(se.id());return ue||(ue={},v.set(se.id(),ue)),ue},y=function(se){return(Ve(se)?u.$(se):se)[0]},w=function(se){return b(y(se)).dist},x=function(se){for(var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,le=y(se),ce=[],pe=le;;){if(pe==null)return r.spawn();var de=b(pe),me=de.edge,Ee=de.pred;if(ce.unshift(pe[0]),pe.same(ue)&&ce.length>0)break;me!=null&&ce.unshift(me),pe=Ee}return l.spawn(ce)},D=0;D<d;D++){var C=h[D],N=b(C);C.same(s)?N.dist=0:N.dist=1/0,N.pred=null,N.edge=null}for(var k=!1,O=function(se,ue,le,ce,pe,de){var me=ce.dist+de;me<pe.dist&&!le.same(ce.edge)&&(pe.dist=me,pe.pred=se,pe.edge=le,k=!0)},F=1;F<d;F++){k=!1;for(var S=0;S<m;S++){var P=f[S],E=P.source(),L=P.target(),A=o(P),T=b(E),R=b(L);O(E,L,P,T,R,A),i||O(L,E,P,R,T,A)}if(!k)break}if(k)for(var W=[],q=0;q<m;q++){var G=f[q],$=G.source(),Q=G.target(),oe=o(G),ie=b($).dist,ae=b(Q).dist;if(ie+oe<ae||!i&&ae+oe<ie)if(g||(dt("Graph contains a negative weight cycle for Bellman-Ford"),g=!0),e.findNegativeWeightCycles!==!1){var Y=[];ie+oe<ae&&Y.push($),!i&&ae+oe<ie&&Y.push(Q);for(var re=Y.length,U=0;U<re;U++){var V=Y[U],X=[V];X.push(b(V).edge);for(var M=b(V).pred;X.indexOf(M)===-1;)X.push(M),X.push(b(M).edge),M=b(M).pred;X=X.slice(X.indexOf(M));for(var B=X[0].id(),z=0,K=2;K<X.length;K+=2)X[K].id()<B&&(B=X[K].id(),z=K);X=X.slice(z).concat(X.slice(0,z)),X.push(X[0]);var ee=X.map(function(ne){return ne.id()}).join(",");W.indexOf(ee)===-1&&(p.push(l.spawn(X)),W.push(ee))}}else break}return{distanceTo:w,pathTo:x,hasNegativeWeightCycle:g,negativeWeightCycles:p}}},SD=Math.sqrt(2),AD=function(e,r,n){n.length===0&&xt("Karger-Stein must be run on a connected (sub)graph");for(var a=n[e],i=a[1],s=a[2],o=r[i],l=r[s],u=n,c=u.length-1;c>=0;c--){var f=u[c],h=f[1],d=f[2];(r[h]===o&&r[d]===l||r[h]===l&&r[d]===o)&&u.splice(c,1)}for(var v=0;v<u.length;v++){var g=u[v];g[1]===l?(u[v]=g.slice(),u[v][1]=o):g[2]===l&&(u[v]=g.slice(),u[v][2]=o)}for(var p=0;p<r.length;p++)r[p]===l&&(r[p]=o);return u},pu=function(e,r,n,a){for(;n>a;){var i=Math.floor(Math.random()*r.length);r=AD(i,e,r),n--}return r},DD={kargerStein:function(){var e=this,r=this.byGroup(),n=r.nodes,a=r.edges;a.unmergeBy(function(R){return R.isLoop()});var i=n.length,s=a.length,o=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),l=Math.floor(i/SD);if(i<2){xt("At least 2 nodes are required for Karger-Stein algorithm");return}for(var u=[],c=0;c<s;c++){var f=a[c];u.push([c,n.indexOf(f.source()),n.indexOf(f.target())])}for(var h=1/0,d=[],v=new Array(i),g=new Array(i),p=new Array(i),m=function(W,q){for(var G=0;G<i;G++)q[G]=W[G]},b=0;b<=o;b++){for(var y=0;y<i;y++)g[y]=y;var w=pu(g,u.slice(),i,l),x=w.slice();m(g,p);var D=pu(g,w,l,2),C=pu(p,x,l,2);D.length<=C.length&&D.length<h?(h=D.length,d=D,m(g,v)):C.length<=D.length&&C.length<h&&(h=C.length,d=C,m(p,v))}for(var N=this.spawn(d.map(function(R){return a[R[0]]})),k=this.spawn(),O=this.spawn(),F=v[0],S=0;S<v.length;S++){var P=v[S],E=n[S];P===F?k.merge(E):O.merge(E)}var L=function(W){var q=e.spawn();return W.forEach(function(G){q.merge(G),G.connectedEdges().forEach(function($){e.contains($)&&!N.contains($)&&q.merge($)})}),q},A=[L(k),L(O)],T={cut:N,components:A,partition1:k,partition2:O};return T}},mu,RD=function(e){return{x:e.x,y:e.y}},wl=function(e,r,n){return{x:e.x*r+n.x,y:e.y*r+n.y}},wy=function(e,r,n){return{x:(e.x-n.x)/r,y:(e.y-n.y)/r}},Ga=function(e){return{x:e[0],y:e[1]}},LD=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=1/0,i=r;i<n;i++){var s=e[i];isFinite(s)&&(a=Math.min(s,a))}return a},MD=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=-1/0,i=r;i<n;i++){var s=e[i];isFinite(s)&&(a=Math.max(s,a))}return a},PD=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=0,i=0,s=r;s<n;s++){var o=e[s];isFinite(o)&&(a+=o,i++)}return a/i},ND=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;a?e=e.slice(r,n):(n<e.length&&e.splice(n,e.length-n),r>0&&e.splice(0,r));for(var o=0,l=e.length-1;l>=0;l--){var u=e[l];s?isFinite(u)||(e[l]=-1/0,o++):e.splice(l,1)}i&&e.sort(function(h,d){return h-d});var c=e.length,f=Math.floor(c/2);return c%2!==0?e[f+1+o]:(e[f-1+o]+e[f+o])/2},OD=function(e){return Math.PI*e/180},Gs=function(e,r){return Math.atan2(r,e)-Math.PI/2},Kf=Math.log2||function(t){return Math.log(t)/Math.log(2)},$f=function(e){return e>0?1:e<0?-1:0},Ta=function(e,r){return Math.sqrt(fa(e,r))},fa=function(e,r){var n=r.x-e.x,a=r.y-e.y;return n*n+a*a},kD=function(e){for(var r=e.length,n=0,a=0;a<r;a++)n+=e[a];for(var i=0;i<r;i++)e[i]=e[i]/n;return e},Gt=function(e,r,n,a){return(1-a)*(1-a)*e+2*(1-a)*a*r+a*a*n},ti=function(e,r,n,a){return{x:Gt(e.x,r.x,n.x,a),y:Gt(e.y,r.y,n.y,a)}},ID=function(e,r,n,a){var i={x:r.x-e.x,y:r.y-e.y},s=Ta(e,r),o={x:i.x/s,y:i.y/s};return n=n??0,a=a??n*s,{x:e.x+o.x*a,y:e.y+o.y*a}},us=function(e,r,n){return Math.max(e,Math.min(n,r))},dr=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},FD=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},BD=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},_D=function(e,r){e.x1=Math.min(e.x1,r.x1),e.x2=Math.max(e.x2,r.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r.y1),e.y2=Math.max(e.y2,r.y2),e.h=e.y2-e.y1},Ey=function(e,r,n){e.x1=Math.min(e.x1,r),e.x2=Math.max(e.x2,r),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},uo=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=r,e.x2+=r,e.y1-=r,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},co=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,a,i,s;if(r.length===1)n=a=i=s=r[0];else if(r.length===2)n=i=r[0],s=a=r[1];else if(r.length===4){var o=Ft(r,4);n=o[0],a=o[1],i=o[2],s=o[3]}return e.x1-=s,e.x2+=a,e.y1-=n,e.y2+=i,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Qh=function(e,r){e.x1=r.x1,e.y1=r.y1,e.x2=r.x2,e.y2=r.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},Zf=function(e,r){return!(e.x1>r.x2||r.x1>e.x2||e.x2<r.x1||r.x2<e.x1||e.y2<r.y1||r.y2<e.y1||e.y1>r.y2||r.y1>e.y2)},In=function(e,r,n){return e.x1<=r&&r<=e.x2&&e.y1<=n&&n<=e.y2},Jh=function(e,r){return In(e,r.x,r.y)},xy=function(e,r){return In(e,r.x1,r.y1)&&In(e,r.x2,r.y2)},zD=(mu=Math.hypot)!==null&&mu!==void 0?mu:function(t,e){return Math.sqrt(t*t+e*e)};function UD(t,e){if(t.length<3)throw new Error("Need at least 3 vertices");var r=function(N,k){return{x:N.x+k.x,y:N.y+k.y}},n=function(N,k){return{x:N.x-k.x,y:N.y-k.y}},a=function(N,k){return{x:N.x*k,y:N.y*k}},i=function(N,k){return N.x*k.y-N.y*k.x},s=function(N){var k=zD(N.x,N.y);return k===0?{x:0,y:0}:{x:N.x/k,y:N.y/k}},o=function(N){for(var k=0,O=0;O<N.length;O++){var F=N[O],S=N[(O+1)%N.length];k+=F.x*S.y-S.x*F.y}return k/2},l=function(N,k,O,F){var S=n(k,N),P=n(F,O),E=i(S,P);if(Math.abs(E)<1e-9)return r(N,a(S,.5));var L=i(n(O,N),P)/E;return r(N,a(S,L))},u=t.map(function(C){return{x:C.x,y:C.y}});o(u)<0&&u.reverse();for(var c=u.length,f=[],h=0;h<c;h++){var d=u[h],v=u[(h+1)%c],g=n(v,d),p=s({x:g.y,y:-g.x});f.push(p)}for(var m=f.map(function(C,N){var k=r(u[N],a(C,e)),O=r(u[(N+1)%c],a(C,e));return{p1:k,p2:O}}),b=[],y=0;y<c;y++){var w=m[(y-1+c)%c],x=m[y],D=l(w.p1,w.p2,x.p1,x.p2);b.push(D)}return b}function VD(t,e,r,n,a,i){var s=ZD(t,e,r,n,a),o=UD(s,i),l=dr();return o.forEach(function(u){return Ey(l,u.x,u.y)}),l}var Cy=function(e,r,n,a,i,s,o){var l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",u=l==="auto"?Wn(i,s):l,c=i/2,f=s/2;u=Math.min(u,c,f);var h=u!==c,d=u!==f,v;if(h){var g=n-c+u-o,p=a-f-o,m=n+c-u+o,b=p;if(v=Fn(e,r,n,a,g,p,m,b,!1),v.length>0)return v}if(d){var y=n+c+o,w=a-f+u-o,x=y,D=a+f-u+o;if(v=Fn(e,r,n,a,y,w,x,D,!1),v.length>0)return v}if(h){var C=n-c+u-o,N=a+f+o,k=n+c-u+o,O=N;if(v=Fn(e,r,n,a,C,N,k,O,!1),v.length>0)return v}if(d){var F=n-c-o,S=a-f+u-o,P=F,E=a+f-u+o;if(v=Fn(e,r,n,a,F,S,P,E,!1),v.length>0)return v}var L;{var A=n-c+u,T=a-f+u;if(L=Ii(e,r,n,a,A,T,u+o),L.length>0&&L[0]<=A&&L[1]<=T)return[L[0],L[1]]}{var R=n+c-u,W=a-f+u;if(L=Ii(e,r,n,a,R,W,u+o),L.length>0&&L[0]>=R&&L[1]<=W)return[L[0],L[1]]}{var q=n+c-u,G=a+f-u;if(L=Ii(e,r,n,a,q,G,u+o),L.length>0&&L[0]>=q&&L[1]>=G)return[L[0],L[1]]}{var $=n-c+u,Q=a+f-u;if(L=Ii(e,r,n,a,$,Q,u+o),L.length>0&&L[0]<=$&&L[1]>=Q)return[L[0],L[1]]}return[]},HD=function(e,r,n,a,i,s,o){var l=o,u=Math.min(n,i),c=Math.max(n,i),f=Math.min(a,s),h=Math.max(a,s);return u-l<=e&&e<=c+l&&f-l<=r&&r<=h+l},GD=function(e,r,n,a,i,s,o,l,u){var c={x1:Math.min(n,o,i)-u,x2:Math.max(n,o,i)+u,y1:Math.min(a,l,s)-u,y2:Math.max(a,l,s)+u};return!(e<c.x1||e>c.x2||r<c.y1||r>c.y2)},qD=function(e,r,n,a){n-=a;var i=r*r-4*e*n;if(i<0)return[];var s=Math.sqrt(i),o=2*e,l=(-r+s)/o,u=(-r-s)/o;return[l,u]},WD=function(e,r,n,a,i){var s=1e-5;e===0&&(e=s),r/=e,n/=e,a/=e;var o,l,u,c,f,h,d,v;if(l=(3*n-r*r)/9,u=-(27*a)+r*(9*n-2*(r*r)),u/=54,o=l*l*l+u*u,i[1]=0,d=r/3,o>0){f=u+Math.sqrt(o),f=f<0?-Math.pow(-f,1/3):Math.pow(f,1/3),h=u-Math.sqrt(o),h=h<0?-Math.pow(-h,1/3):Math.pow(h,1/3),i[0]=-d+f+h,d+=(f+h)/2,i[4]=i[2]=-d,d=Math.sqrt(3)*(-h+f)/2,i[3]=d,i[5]=-d;return}if(i[5]=i[3]=0,o===0){v=u<0?-Math.pow(-u,1/3):Math.pow(u,1/3),i[0]=-d+2*v,i[4]=i[2]=-(v+d);return}l=-l,c=l*l*l,c=Math.acos(u/Math.sqrt(c)),v=2*Math.sqrt(l),i[0]=-d+v*Math.cos(c/3),i[2]=-d+v*Math.cos((c+2*Math.PI)/3),i[4]=-d+v*Math.cos((c+4*Math.PI)/3)},YD=function(e,r,n,a,i,s,o,l){var u=1*n*n-4*n*i+2*n*o+4*i*i-4*i*o+o*o+a*a-4*a*s+2*a*l+4*s*s-4*s*l+l*l,c=1*9*n*i-3*n*n-3*n*o-6*i*i+3*i*o+9*a*s-3*a*a-3*a*l-6*s*s+3*s*l,f=1*3*n*n-6*n*i+n*o-n*e+2*i*i+2*i*e-o*e+3*a*a-6*a*s+a*l-a*r+2*s*s+2*s*r-l*r,h=1*n*i-n*n+n*e-i*e+a*s-a*a+a*r-s*r,d=[];WD(u,c,f,h,d);for(var v=1e-7,g=[],p=0;p<6;p+=2)Math.abs(d[p+1])<v&&d[p]>=0&&d[p]<=1&&g.push(d[p]);g.push(1),g.push(0);for(var m=-1,b,y,w,x=0;x<g.length;x++)b=Math.pow(1-g[x],2)*n+2*(1-g[x])*g[x]*i+g[x]*g[x]*o,y=Math.pow(1-g[x],2)*a+2*(1-g[x])*g[x]*s+g[x]*g[x]*l,w=Math.pow(b-e,2)+Math.pow(y-r,2),m>=0?w<m&&(m=w):m=w;return m},XD=function(e,r,n,a,i,s){var o=[e-n,r-a],l=[i-n,s-a],u=l[0]*l[0]+l[1]*l[1],c=o[0]*o[0]+o[1]*o[1],f=o[0]*l[0]+o[1]*l[1],h=f*f/u;return f<0?c:h>u?(e-i)*(e-i)+(r-s)*(r-s):c-h},yr=function(e,r,n){for(var a,i,s,o,l,u=0,c=0;c<n.length/2;c++)if(a=n[c*2],i=n[c*2+1],c+1<n.length/2?(s=n[(c+1)*2],o=n[(c+1)*2+1]):(s=n[(c+1-n.length/2)*2],o=n[(c+1-n.length/2)*2+1]),!(a==e&&s==e))if(a>=e&&e>=s||a<=e&&e<=s)l=(e-a)/(s-a)*(o-i)+i,l>r&&u++;else continue;return u%2!==0},bn=function(e,r,n,a,i,s,o,l,u){var c=new Array(n.length),f;l[0]!=null?(f=Math.atan(l[1]/l[0]),l[0]<0?f=f+Math.PI/2:f=-f-Math.PI/2):f=l;for(var h=Math.cos(-f),d=Math.sin(-f),v=0;v<c.length/2;v++)c[v*2]=s/2*(n[v*2]*h-n[v*2+1]*d),c[v*2+1]=o/2*(n[v*2+1]*h+n[v*2]*d),c[v*2]+=a,c[v*2+1]+=i;var g;if(u>0){var p=_o(c,-u);g=Bo(p)}else g=c;return yr(e,r,g)},KD=function(e,r,n,a,i,s,o,l){for(var u=new Array(n.length*2),c=0;c<l.length;c++){var f=l[c];u[c*4+0]=f.startX,u[c*4+1]=f.startY,u[c*4+2]=f.stopX,u[c*4+3]=f.stopY;var h=Math.pow(f.cx-e,2)+Math.pow(f.cy-r,2);if(h<=Math.pow(f.radius,2))return!0}return yr(e,r,u)},Bo=function(e){for(var r=new Array(e.length/2),n,a,i,s,o,l,u,c,f=0;f<e.length/4;f++){n=e[f*4],a=e[f*4+1],i=e[f*4+2],s=e[f*4+3],f<e.length/4-1?(o=e[(f+1)*4],l=e[(f+1)*4+1],u=e[(f+1)*4+2],c=e[(f+1)*4+3]):(o=e[0],l=e[1],u=e[2],c=e[3]);var h=Fn(n,a,i,s,o,l,u,c,!0);r[f*2]=h[0],r[f*2+1]=h[1]}return r},_o=function(e,r){for(var n=new Array(e.length*2),a,i,s,o,l=0;l<e.length/2;l++){a=e[l*2],i=e[l*2+1],l<e.length/2-1?(s=e[(l+1)*2],o=e[(l+1)*2+1]):(s=e[0],o=e[1]);var u=o-i,c=-(s-a),f=Math.sqrt(u*u+c*c),h=u/f,d=c/f;n[l*4]=a+h*r,n[l*4+1]=i+d*r,n[l*4+2]=s+h*r,n[l*4+3]=o+d*r}return n},$D=function(e,r,n,a,i,s){var o=n-e,l=a-r;o/=i,l/=s;var u=Math.sqrt(o*o+l*l),c=u-1;if(c<0)return[];var f=c/u;return[(n-e)*f+e,(a-r)*f+r]},ya=function(e,r,n,a,i,s,o){return e-=i,r-=s,e/=n/2+o,r/=a/2+o,e*e+r*r<=1},Ii=function(e,r,n,a,i,s,o){var l=[n-e,a-r],u=[e-i,r-s],c=l[0]*l[0]+l[1]*l[1],f=2*(u[0]*l[0]+u[1]*l[1]),h=u[0]*u[0]+u[1]*u[1]-o*o,d=f*f-4*c*h;if(d<0)return[];var v=(-f+Math.sqrt(d))/(2*c),g=(-f-Math.sqrt(d))/(2*c),p=Math.min(v,g),m=Math.max(v,g),b=[];if(p>=0&&p<=1&&b.push(p),m>=0&&m<=1&&b.push(m),b.length===0)return[];var y=b[0]*l[0]+e,w=b[0]*l[1]+r;if(b.length>1){if(b[0]==b[1])return[y,w];var x=b[1]*l[0]+e,D=b[1]*l[1]+r;return[y,w,x,D]}else return[y,w]},yu=function(e,r,n){return r<=e&&e<=n||n<=e&&e<=r?e:e<=r&&r<=n||n<=r&&r<=e?r:n},Fn=function(e,r,n,a,i,s,o,l,u){var c=e-i,f=n-e,h=o-i,d=r-s,v=a-r,g=l-s,p=h*d-g*c,m=f*d-v*c,b=g*f-h*v;if(b!==0){var y=p/b,w=m/b,x=.001,D=0-x,C=1+x;return D<=y&&y<=C&&D<=w&&w<=C?[e+y*f,r+y*v]:u?[e+y*f,r+y*v]:[]}else return p===0||m===0?yu(e,n,o)===o?[o,l]:yu(e,n,i)===i?[i,s]:yu(i,o,n)===n?[n,a]:[]:[]},ZD=function(e,r,n,a,i){var s=[],o=a/2,l=i/2,u=r,c=n;s.push({x:u+o*e[0],y:c+l*e[1]});for(var f=1;f<e.length/2;f++)s.push({x:u+o*e[f*2],y:c+l*e[f*2+1]});return s},cs=function(e,r,n,a,i,s,o,l){var u=[],c,f=new Array(n.length),h=!0;s==null&&(h=!1);var d;if(h){for(var v=0;v<f.length/2;v++)f[v*2]=n[v*2]*s+a,f[v*2+1]=n[v*2+1]*o+i;if(l>0){var g=_o(f,-l);d=Bo(g)}else d=f}else d=n;for(var p,m,b,y,w=0;w<d.length/2;w++)p=d[w*2],m=d[w*2+1],w<d.length/2-1?(b=d[(w+1)*2],y=d[(w+1)*2+1]):(b=d[0],y=d[1]),c=Fn(e,r,a,i,p,m,b,y),c.length!==0&&u.push(c[0],c[1]);return u},QD=function(e,r,n,a,i,s,o,l,u){var c=[],f,h=new Array(n.length*2);u.forEach(function(b,y){y===0?(h[h.length-2]=b.startX,h[h.length-1]=b.startY):(h[y*4-2]=b.startX,h[y*4-1]=b.startY),h[y*4]=b.stopX,h[y*4+1]=b.stopY,f=Ii(e,r,a,i,b.cx,b.cy,b.radius),f.length!==0&&c.push(f[0],f[1])});for(var d=0;d<h.length/4;d++)f=Fn(e,r,a,i,h[d*4],h[d*4+1],h[d*4+2],h[d*4+3],!1),f.length!==0&&c.push(f[0],f[1]);if(c.length>2){for(var v=[c[0],c[1]],g=Math.pow(v[0]-e,2)+Math.pow(v[1]-r,2),p=1;p<c.length/2;p++){var m=Math.pow(c[p*2]-e,2)+Math.pow(c[p*2+1]-r,2);m<=g&&(v[0]=c[p*2],v[1]=c[p*2+1],g=m)}return v}return c},qs=function(e,r,n){var a=[e[0]-r[0],e[1]-r[1]],i=Math.sqrt(a[0]*a[0]+a[1]*a[1]),s=(i-n)/i;return s<0&&(s=1e-5),[r[0]+s*a[0],r[1]+s*a[1]]},cr=function(e,r){var n=ef(e,r);return n=Ty(n),n},Ty=function(e){for(var r,n,a=e.length/2,i=1/0,s=1/0,o=-1/0,l=-1/0,u=0;u<a;u++)r=e[2*u],n=e[2*u+1],i=Math.min(i,r),o=Math.max(o,r),s=Math.min(s,n),l=Math.max(l,n);for(var c=2/(o-i),f=2/(l-s),h=0;h<a;h++)r=e[2*h]=e[2*h]*c,n=e[2*h+1]=e[2*h+1]*f,i=Math.min(i,r),o=Math.max(o,r),s=Math.min(s,n),l=Math.max(l,n);if(s<-1)for(var d=0;d<a;d++)n=e[2*d+1]=e[2*d+1]+(-1-s);return e},ef=function(e,r){var n=1/e*2*Math.PI,a=e%2===0?Math.PI/2+n/2:Math.PI/2;a+=r;for(var i=new Array(e*2),s,o=0;o<e;o++)s=o*n+a,i[2*o]=Math.cos(s),i[2*o+1]=Math.sin(-s);return i},Wn=function(e,r){return Math.min(e/4,r/4,8)},Sy=function(e,r){return Math.min(e/10,r/10,8)},Qf=function(){return 8},JD=function(e,r,n){return[e-2*r+n,2*(r-e),e]},tf=function(e,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}};function bu(t,e){function r(f){for(var h=[],d=0;d<f.length;d++){var v=f[d],g=f[(d+1)%f.length],p={x:g.x-v.x,y:g.y-v.y},m={x:-p.y,y:p.x},b=Math.sqrt(m.x*m.x+m.y*m.y);h.push({x:m.x/b,y:m.y/b})}return h}function n(f,h){var d=1/0,v=-1/0,g=wr(f),p;try{for(g.s();!(p=g.n()).done;){var m=p.value,b=m.x*h.x+m.y*h.y;d=Math.min(d,b),v=Math.max(v,b)}}catch(y){g.e(y)}finally{g.f()}return{min:d,max:v}}function a(f,h){return!(f.max<h.min||h.max<f.min)}var i=[].concat(Oo(r(t)),Oo(r(e))),s=wr(i),o;try{for(s.s();!(o=s.n()).done;){var l=o.value,u=n(t,l),c=n(e,l);if(!a(u,c))return!1}}catch(f){s.e(f)}finally{s.f()}return!0}var jD=Jt({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),eR={pageRank:function(e){for(var r=jD(e),n=r.dampingFactor,a=r.precision,i=r.iterations,s=r.weight,o=this._private.cy,l=this.byGroup(),u=l.nodes,c=l.edges,f=u.length,h=f*f,d=c.length,v=new Array(h),g=new Array(f),p=(1-n)/f,m=0;m<f;m++){for(var b=0;b<f;b++){var y=m*f+b;v[y]=0}g[m]=0}for(var w=0;w<d;w++){var x=c[w],D=x.data("source"),C=x.data("target");if(D!==C){var N=u.indexOfId(D),k=u.indexOfId(C),O=s(x),F=k*f+N;v[F]+=O,g[N]+=O}}for(var S=1/f+p,P=0;P<f;P++)if(g[P]===0)for(var E=0;E<f;E++){var L=E*f+P;v[L]=S}else for(var A=0;A<f;A++){var T=A*f+P;v[T]=v[T]/g[P]+p}for(var R=new Array(f),W=new Array(f),q,G=0;G<f;G++)R[G]=1;for(var $=0;$<i;$++){for(var Q=0;Q<f;Q++)W[Q]=0;for(var oe=0;oe<f;oe++)for(var ie=0;ie<f;ie++){var ae=oe*f+ie;W[oe]+=v[ae]*R[ie]}kD(W),q=R,R=W,W=q;for(var Y=0,re=0;re<f;re++){var U=q[re]-R[re];Y+=U*U}if(Y<a)break}var V={rank:function(M){return M=o.collection(M)[0],R[u.indexOf(M)]}};return V}},jh=Jt({root:null,weight:function(e){return 1},directed:!1,alpha:0}),ri={degreeCentralityNormalized:function(e){e=jh(e);var r=this.cy(),n=this.nodes(),a=n.length;if(e.directed){for(var c={},f={},h=0,d=0,v=0;v<a;v++){var g=n[v],p=g.id();e.root=g;var m=this.degreeCentrality(e);h<m.indegree&&(h=m.indegree),d<m.outdegree&&(d=m.outdegree),c[p]=m.indegree,f[p]=m.outdegree}return{indegree:function(y){return h==0?0:(Ve(y)&&(y=r.filter(y)),c[y.id()]/h)},outdegree:function(y){return d===0?0:(Ve(y)&&(y=r.filter(y)),f[y.id()]/d)}}}else{for(var i={},s=0,o=0;o<a;o++){var l=n[o];e.root=l;var u=this.degreeCentrality(e);s<u.degree&&(s=u.degree),i[l.id()]=u.degree}return{degree:function(y){return s===0?0:(Ve(y)&&(y=r.filter(y)),i[y.id()]/s)}}}},degreeCentrality:function(e){e=jh(e);var r=this.cy(),n=this,a=e,i=a.root,s=a.weight,o=a.directed,l=a.alpha;if(i=r.collection(i)[0],o){for(var d=i.connectedEdges(),v=d.filter(function(D){return D.target().same(i)&&n.has(D)}),g=d.filter(function(D){return D.source().same(i)&&n.has(D)}),p=v.length,m=g.length,b=0,y=0,w=0;w<v.length;w++)b+=s(v[w]);for(var x=0;x<g.length;x++)y+=s(g[x]);return{indegree:Math.pow(p,1-l)*Math.pow(b,l),outdegree:Math.pow(m,1-l)*Math.pow(y,l)}}else{for(var u=i.connectedEdges().intersection(n),c=u.length,f=0,h=0;h<u.length;h++)f+=s(u[h]);return{degree:Math.pow(c,1-l)*Math.pow(f,l)}}}};ri.dc=ri.degreeCentrality;ri.dcn=ri.degreeCentralityNormalised=ri.degreeCentralityNormalized;var ev=Jt({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),ni={closenessCentralityNormalized:function(e){for(var r=ev(e),n=r.harmonic,a=r.weight,i=r.directed,s=this.cy(),o={},l=0,u=this.nodes(),c=this.floydWarshall({weight:a,directed:i}),f=0;f<u.length;f++){for(var h=0,d=u[f],v=0;v<u.length;v++)if(f!==v){var g=c.distance(d,u[v]);n?h+=1/g:h+=g}n||(h=1/h),l<h&&(l=h),o[d.id()]=h}return{closeness:function(m){return l==0?0:(Ve(m)?m=s.filter(m)[0].id():m=m.id(),o[m]/l)}}},closenessCentrality:function(e){var r=ev(e),n=r.root,a=r.weight,i=r.directed,s=r.harmonic;n=this.filter(n)[0];for(var o=this.dijkstra({root:n,weight:a,directed:i}),l=0,u=this.nodes(),c=0;c<u.length;c++){var f=u[c];if(!f.same(n)){var h=o.distanceTo(f);s?l+=1/h:l+=h}}return s?l:1/l}};ni.cc=ni.closenessCentrality;ni.ccn=ni.closenessCentralityNormalised=ni.closenessCentralityNormalized;var tR=Jt({weight:null,directed:!1}),rf={betweennessCentrality:function(e){for(var r=tR(e),n=r.directed,a=r.weight,i=a!=null,s=this.cy(),o=this.nodes(),l={},u={},c=0,f={set:function(y,w){u[y]=w,w>c&&(c=w)},get:function(y){return u[y]}},h=0;h<o.length;h++){var d=o[h],v=d.id();n?l[v]=d.outgoers().nodes():l[v]=d.openNeighborhood().nodes(),f.set(v,0)}for(var g=function(){for(var y=o[p].id(),w=[],x={},D={},C={},N=new Rs(function(oe,ie){return C[oe]-C[ie]}),k=0;k<o.length;k++){var O=o[k].id();x[O]=[],D[O]=0,C[O]=1/0}for(D[y]=1,C[y]=0,N.push(y);!N.empty();){var F=N.pop();if(w.push(F),i)for(var S=0;S<l[F].length;S++){var P=l[F][S],E=s.getElementById(F),L=void 0;E.edgesTo(P).length>0?L=E.edgesTo(P)[0]:L=P.edgesTo(E)[0];var A=a(L);P=P.id(),C[P]>C[F]+A&&(C[P]=C[F]+A,N.nodes.indexOf(P)<0?N.push(P):N.updateItem(P),D[P]=0,x[P]=[]),C[P]==C[F]+A&&(D[P]=D[P]+D[F],x[P].push(F))}else for(var T=0;T<l[F].length;T++){var R=l[F][T].id();C[R]==1/0&&(N.push(R),C[R]=C[F]+1),C[R]==C[F]+1&&(D[R]=D[R]+D[F],x[R].push(F))}}for(var W={},q=0;q<o.length;q++)W[o[q].id()]=0;for(;w.length>0;){for(var G=w.pop(),$=0;$<x[G].length;$++){var Q=x[G][$];W[Q]=W[Q]+D[Q]/D[G]*(1+W[G])}G!=o[p].id()&&f.set(G,f.get(G)+W[G])}},p=0;p<o.length;p++)g();var m={betweenness:function(y){var w=s.collection(y).id();return f.get(w)},betweennessNormalized:function(y){if(c==0)return 0;var w=s.collection(y).id();return f.get(w)/c}};return m.betweennessNormalised=m.betweennessNormalized,m}};rf.bc=rf.betweennessCentrality;var rR=Jt({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),nR=function(e){return rR(e)},aR=function(e,r){for(var n=0,a=0;a<r.length;a++)n+=r[a](e);return n},iR=function(e,r,n){for(var a=0;a<r;a++)e[a*r+a]=n},Ay=function(e,r){for(var n,a=0;a<r;a++){n=0;for(var i=0;i<r;i++)n+=e[i*r+a];for(var s=0;s<r;s++)e[s*r+a]=e[s*r+a]/n}},sR=function(e,r,n){for(var a=new Array(n*n),i=0;i<n;i++){for(var s=0;s<n;s++)a[i*n+s]=0;for(var o=0;o<n;o++)for(var l=0;l<n;l++)a[i*n+l]+=e[i*n+o]*r[o*n+l]}return a},oR=function(e,r,n){for(var a=e.slice(0),i=1;i<n;i++)e=sR(e,a,r);return e},lR=function(e,r,n){for(var a=new Array(r*r),i=0;i<r*r;i++)a[i]=Math.pow(e[i],n);return Ay(a,r),a},uR=function(e,r,n,a){for(var i=0;i<n;i++){var s=Math.round(e[i]*Math.pow(10,a))/Math.pow(10,a),o=Math.round(r[i]*Math.pow(10,a))/Math.pow(10,a);if(s!==o)return!1}return!0},cR=function(e,r,n,a){for(var i=[],s=0;s<r;s++){for(var o=[],l=0;l<r;l++)Math.round(e[s*r+l]*1e3)/1e3>0&&o.push(n[l]);o.length!==0&&i.push(a.collection(o))}return i},fR=function(e,r){for(var n=0;n<e.length;n++)if(!r[n]||e[n].id()!==r[n].id())return!1;return!0},dR=function(e){for(var r=0;r<e.length;r++)for(var n=0;n<e.length;n++)r!=n&&fR(e[r],e[n])&&e.splice(n,1);return e},tv=function(e){for(var r=this.nodes(),n=this.edges(),a=this.cy(),i=nR(e),s={},o=0;o<r.length;o++)s[r[o].id()]=o;for(var l=r.length,u=l*l,c=new Array(u),f,h=0;h<u;h++)c[h]=0;for(var d=0;d<n.length;d++){var v=n[d],g=s[v.source().id()],p=s[v.target().id()],m=aR(v,i.attributes);c[g*l+p]+=m,c[p*l+g]+=m}iR(c,l,i.multFactor),Ay(c,l);for(var b=!0,y=0;b&&y<i.maxIterations;)b=!1,f=oR(c,l,i.expandFactor),c=lR(f,l,i.inflateFactor),uR(c,f,u,4)||(b=!0),y++;var w=cR(c,l,r,a);return w=dR(w),w},hR={markovClustering:tv,mcl:tv},vR=function(e){return e},Dy=function(e,r){return Math.abs(r-e)},rv=function(e,r,n){return e+Dy(r,n)},nv=function(e,r,n){return e+Math.pow(n-r,2)},gR=function(e){return Math.sqrt(e)},pR=function(e,r,n){return Math.max(e,Dy(r,n))},Di=function(e,r,n,a,i){for(var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:vR,o=a,l,u,c=0;c<e;c++)l=r(c),u=n(c),o=i(o,l,u);return s(o)},li={euclidean:function(e,r,n){return e>=2?Di(e,r,n,0,nv,gR):Di(e,r,n,0,rv)},squaredEuclidean:function(e,r,n){return Di(e,r,n,0,nv)},manhattan:function(e,r,n){return Di(e,r,n,0,rv)},max:function(e,r,n){return Di(e,r,n,-1/0,pR)}};li["squared-euclidean"]=li.squaredEuclidean;li.squaredeuclidean=li.squaredEuclidean;function El(t,e,r,n,a,i){var s;return At(t)?s=t:s=li[t]||li.euclidean,e===0&&At(t)?s(a,i):s(e,r,n,a,i)}var mR=Jt({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Jf=function(e){return mR(e)},zo=function(e,r,n,a,i){var s=i!=="kMedoids",o=s?function(f){return n[f]}:function(f){return a[f](n)},l=function(h){return a[h](r)},u=n,c=r;return El(e,a.length,o,l,u,c)},wu=function(e,r,n){for(var a=n.length,i=new Array(a),s=new Array(a),o=new Array(r),l=null,u=0;u<a;u++)i[u]=e.min(n[u]).value,s[u]=e.max(n[u]).value;for(var c=0;c<r;c++){l=[];for(var f=0;f<a;f++)l[f]=Math.random()*(s[f]-i[f])+i[f];o[c]=l}return o},Ry=function(e,r,n,a,i){for(var s=1/0,o=0,l=0;l<r.length;l++){var u=zo(n,e,r[l],a,i);u<s&&(s=u,o=l)}return o},Ly=function(e,r,n){for(var a=[],i=null,s=0;s<r.length;s++)i=r[s],n[i.id()]===e&&a.push(i);return a},yR=function(e,r,n){return Math.abs(r-e)<=n},bR=function(e,r,n){for(var a=0;a<e.length;a++)for(var i=0;i<e[a].length;i++){var s=Math.abs(e[a][i]-r[a][i]);if(s>n)return!1}return!0},wR=function(e,r,n){for(var a=0;a<n;a++)if(e===r[a])return!0;return!1},av=function(e,r){var n=new Array(r);if(e.length<50)for(var a=0;a<r;a++){for(var i=e[Math.floor(Math.random()*e.length)];wR(i,n,a);)i=e[Math.floor(Math.random()*e.length)];n[a]=i}else for(var s=0;s<r;s++)n[s]=e[Math.floor(Math.random()*e.length)];return n},iv=function(e,r,n){for(var a=0,i=0;i<r.length;i++)a+=zo("manhattan",r[i],e,n,"kMedoids");return a},ER=function(e){var r=this.cy(),n=this.nodes(),a=null,i=Jf(e),s=new Array(i.k),o={},l;i.testMode?typeof i.testCentroids=="number"?(i.testCentroids,l=wu(n,i.k,i.attributes)):Vt(i.testCentroids)==="object"?l=i.testCentroids:l=wu(n,i.k,i.attributes):l=wu(n,i.k,i.attributes);for(var u=!0,c=0;u&&c<i.maxIterations;){for(var f=0;f<n.length;f++)a=n[f],o[a.id()]=Ry(a,l,i.distance,i.attributes,"kMeans");u=!1;for(var h=0;h<i.k;h++){var d=Ly(h,n,o);if(d.length!==0){for(var v=i.attributes.length,g=l[h],p=new Array(v),m=new Array(v),b=0;b<v;b++){m[b]=0;for(var y=0;y<d.length;y++)a=d[y],m[b]+=i.attributes[b](a);p[b]=m[b]/d.length,yR(p[b],g[b],i.sensitivityThreshold)||(u=!0)}l[h]=p,s[h]=r.collection(d)}}c++}return s},xR=function(e){var r=this.cy(),n=this.nodes(),a=null,i=Jf(e),s=new Array(i.k),o,l={},u,c=new Array(i.k);i.testMode?typeof i.testCentroids=="number"||(Vt(i.testCentroids)==="object"?o=i.testCentroids:o=av(n,i.k)):o=av(n,i.k);for(var f=!0,h=0;f&&h<i.maxIterations;){for(var d=0;d<n.length;d++)a=n[d],l[a.id()]=Ry(a,o,i.distance,i.attributes,"kMedoids");f=!1;for(var v=0;v<o.length;v++){var g=Ly(v,n,l);if(g.length!==0){c[v]=iv(o[v],g,i.attributes);for(var p=0;p<g.length;p++)u=iv(g[p],g,i.attributes),u<c[v]&&(c[v]=u,o[v]=g[p],f=!0);s[v]=r.collection(g)}}h++}return s},CR=function(e,r,n,a,i){for(var s,o,l=0;l<r.length;l++)for(var u=0;u<e.length;u++)a[l][u]=Math.pow(n[l][u],i.m);for(var c=0;c<e.length;c++)for(var f=0;f<i.attributes.length;f++){s=0,o=0;for(var h=0;h<r.length;h++)s+=a[h][c]*i.attributes[f](r[h]),o+=a[h][c];e[c][f]=s/o}},TR=function(e,r,n,a,i){for(var s=0;s<e.length;s++)r[s]=e[s].slice();for(var o,l,u,c=2/(i.m-1),f=0;f<n.length;f++)for(var h=0;h<a.length;h++){o=0;for(var d=0;d<n.length;d++)l=zo(i.distance,a[h],n[f],i.attributes,"cmeans"),u=zo(i.distance,a[h],n[d],i.attributes,"cmeans"),o+=Math.pow(l/u,c);e[h][f]=1/o}},SR=function(e,r,n,a){for(var i=new Array(n.k),s=0;s<i.length;s++)i[s]=[];for(var o,l,u=0;u<r.length;u++){o=-1/0,l=-1;for(var c=0;c<r[0].length;c++)r[u][c]>o&&(o=r[u][c],l=c);i[l].push(e[u])}for(var f=0;f<i.length;f++)i[f]=a.collection(i[f]);return i},sv=function(e){var r=this.cy(),n=this.nodes(),a=Jf(e),i,s,o,l,u;l=new Array(n.length);for(var c=0;c<n.length;c++)l[c]=new Array(a.k);o=new Array(n.length);for(var f=0;f<n.length;f++)o[f]=new Array(a.k);for(var h=0;h<n.length;h++){for(var d=0,v=0;v<a.k;v++)o[h][v]=Math.random(),d+=o[h][v];for(var g=0;g<a.k;g++)o[h][g]=o[h][g]/d}s=new Array(a.k);for(var p=0;p<a.k;p++)s[p]=new Array(a.attributes.length);u=new Array(n.length);for(var m=0;m<n.length;m++)u[m]=new Array(a.k);for(var b=!0,y=0;b&&y<a.maxIterations;)b=!1,CR(s,n,o,u,a),TR(o,l,s,n,a),bR(o,l,a.sensitivityThreshold)||(b=!0),y++;return i=SR(n,o,a,r),{clusters:i,degreeOfMembership:o}},AR={kMeans:ER,kMedoids:xR,fuzzyCMeans:sv,fcm:sv},DR=Jt({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),RR={single:"min",complete:"max"},LR=function(e){var r=DR(e),n=RR[r.linkage];return n!=null&&(r.linkage=n),r},ov=function(e,r,n,a,i){for(var s=0,o=1/0,l,u=i.attributes,c=function(k,O){return El(i.distance,u.length,function(F){return u[F](k)},function(F){return u[F](O)},k,O)},f=0;f<e.length;f++){var h=e[f].key,d=n[h][a[h]];d<o&&(s=h,o=d)}if(i.mode==="threshold"&&o>=i.threshold||i.mode==="dendrogram"&&e.length===1)return!1;var v=r[s],g=r[a[s]],p;i.mode==="dendrogram"?p={left:v,right:g,key:v.key}:p={value:v.value.concat(g.value),key:v.key},e[v.index]=p,e.splice(g.index,1),r[v.key]=p;for(var m=0;m<e.length;m++){var b=e[m];v.key===b.key?l=1/0:i.linkage==="min"?(l=n[v.key][b.key],n[v.key][b.key]>n[g.key][b.key]&&(l=n[g.key][b.key])):i.linkage==="max"?(l=n[v.key][b.key],n[v.key][b.key]<n[g.key][b.key]&&(l=n[g.key][b.key])):i.linkage==="mean"?l=(n[v.key][b.key]*v.size+n[g.key][b.key]*g.size)/(v.size+g.size):i.mode==="dendrogram"?l=c(b.value,v.value):l=c(b.value[0],v.value[0]),n[v.key][b.key]=n[b.key][v.key]=l}for(var y=0;y<e.length;y++){var w=e[y].key;if(a[w]===v.key||a[w]===g.key){for(var x=w,D=0;D<e.length;D++){var C=e[D].key;n[w][C]<n[w][x]&&(x=C)}a[w]=x}e[y].index=y}return v.key=g.key=v.index=g.index=null,!0},qa=function(e,r,n){e&&(e.value?r.push(e.value):(e.left&&qa(e.left,r),e.right&&qa(e.right,r)))},nf=function(e,r){if(!e)return"";if(e.left&&e.right){var n=nf(e.left,r),a=nf(e.right,r),i=r.add({group:"nodes",data:{id:n+","+a}});return r.add({group:"edges",data:{source:n,target:i.id()}}),r.add({group:"edges",data:{source:a,target:i.id()}}),i.id()}else if(e.value)return e.value.id()},af=function(e,r,n){if(!e)return[];var a=[],i=[],s=[];return r===0?(e.left&&qa(e.left,a),e.right&&qa(e.right,i),s=a.concat(i),[n.collection(s)]):r===1?e.value?[n.collection(e.value)]:(e.left&&qa(e.left,a),e.right&&qa(e.right,i),[n.collection(a),n.collection(i)]):e.value?[n.collection(e.value)]:(e.left&&(a=af(e.left,r-1,n)),e.right&&(i=af(e.right,r-1,n)),a.concat(i))},lv=function(e){for(var r=this.cy(),n=this.nodes(),a=LR(e),i=a.attributes,s=function(y,w){return El(a.distance,i.length,function(x){return i[x](y)},function(x){return i[x](w)},y,w)},o=[],l=[],u=[],c=[],f=0;f<n.length;f++){var h={value:a.mode==="dendrogram"?n[f]:[n[f]],key:f,index:f};o[f]=h,c[f]=h,l[f]=[],u[f]=0}for(var d=0;d<o.length;d++)for(var v=0;v<=d;v++){var g=void 0;a.mode==="dendrogram"?g=d===v?1/0:s(o[d].value,o[v].value):g=d===v?1/0:s(o[d].value[0],o[v].value[0]),l[d][v]=g,l[v][d]=g,g<l[d][u[d]]&&(u[d]=v)}for(var p=ov(o,c,l,u,a);p;)p=ov(o,c,l,u,a);var m;return a.mode==="dendrogram"?(m=af(o[0],a.dendrogramDepth,r),a.addDendrogram&&nf(o[0],r)):(m=new Array(o.length),o.forEach(function(b,y){b.key=b.index=null,m[y]=r.collection(b.value)})),m},MR={hierarchicalClustering:lv,hca:lv},PR=Jt({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),NR=function(e){var r=e.damping,n=e.preference;.5<=r&&r<1||xt("Damping must range on [0.5, 1).  Got: ".concat(r));var a=["median","mean","min","max"];return a.some(function(i){return i===n})||Ne(n)||xt("Preference must be one of [".concat(a.map(function(i){return"'".concat(i,"'")}).join(", "),"] or a number.  Got: ").concat(n)),PR(e)},OR=function(e,r,n,a){var i=function(o,l){return a[l](o)};return-El(e,a.length,function(s){return i(r,s)},function(s){return i(n,s)},r,n)},kR=function(e,r){var n=null;return r==="median"?n=ND(e):r==="mean"?n=PD(e):r==="min"?n=LD(e):r==="max"?n=MD(e):n=r,n},IR=function(e,r,n){for(var a=[],i=0;i<e;i++)r[i*e+i]+n[i*e+i]>0&&a.push(i);return a},uv=function(e,r,n){for(var a=[],i=0;i<e;i++){for(var s=-1,o=-1/0,l=0;l<n.length;l++){var u=n[l];r[i*e+u]>o&&(s=u,o=r[i*e+u])}s>0&&a.push(s)}for(var c=0;c<n.length;c++)a[n[c]]=n[c];return a},FR=function(e,r,n){for(var a=uv(e,r,n),i=0;i<n.length;i++){for(var s=[],o=0;o<a.length;o++)a[o]===n[i]&&s.push(o);for(var l=-1,u=-1/0,c=0;c<s.length;c++){for(var f=0,h=0;h<s.length;h++)f+=r[s[h]*e+s[c]];f>u&&(l=c,u=f)}n[i]=s[l]}return a=uv(e,r,n),a},cv=function(e){for(var r=this.cy(),n=this.nodes(),a=NR(e),i={},s=0;s<n.length;s++)i[n[s].id()]=s;var o,l,u,c,f,h;o=n.length,l=o*o,u=new Array(l);for(var d=0;d<l;d++)u[d]=-1/0;for(var v=0;v<o;v++)for(var g=0;g<o;g++)v!==g&&(u[v*o+g]=OR(a.distance,n[v],n[g],a.attributes));c=kR(u,a.preference);for(var p=0;p<o;p++)u[p*o+p]=c;f=new Array(l);for(var m=0;m<l;m++)f[m]=0;h=new Array(l);for(var b=0;b<l;b++)h[b]=0;for(var y=new Array(o),w=new Array(o),x=new Array(o),D=0;D<o;D++)y[D]=0,w[D]=0,x[D]=0;for(var C=new Array(o*a.minIterations),N=0;N<C.length;N++)C[N]=0;var k;for(k=0;k<a.maxIterations;k++){for(var O=0;O<o;O++){for(var F=-1/0,S=-1/0,P=-1,E=0,L=0;L<o;L++)y[L]=f[O*o+L],E=h[O*o+L]+u[O*o+L],E>=F?(S=F,F=E,P=L):E>S&&(S=E);for(var A=0;A<o;A++)f[O*o+A]=(1-a.damping)*(u[O*o+A]-F)+a.damping*y[A];f[O*o+P]=(1-a.damping)*(u[O*o+P]-S)+a.damping*y[P]}for(var T=0;T<o;T++){for(var R=0,W=0;W<o;W++)y[W]=h[W*o+T],w[W]=Math.max(0,f[W*o+T]),R+=w[W];R-=w[T],w[T]=f[T*o+T],R+=w[T];for(var q=0;q<o;q++)h[q*o+T]=(1-a.damping)*Math.min(0,R-w[q])+a.damping*y[q];h[T*o+T]=(1-a.damping)*(R-w[T])+a.damping*y[T]}for(var G=0,$=0;$<o;$++){var Q=h[$*o+$]+f[$*o+$]>0?1:0;C[k%a.minIterations*o+$]=Q,G+=Q}if(G>0&&(k>=a.minIterations-1||k==a.maxIterations-1)){for(var oe=0,ie=0;ie<o;ie++){x[ie]=0;for(var ae=0;ae<a.minIterations;ae++)x[ie]+=C[ae*o+ie];(x[ie]===0||x[ie]===a.minIterations)&&oe++}if(oe===o)break}}for(var Y=IR(o,f,h),re=FR(o,u,Y),U={},V=0;V<Y.length;V++)U[Y[V]]=[];for(var X=0;X<n.length;X++){var M=i[n[X].id()],B=re[M];B!=null&&U[B].push(n[X])}for(var z=new Array(Y.length),K=0;K<Y.length;K++)z[K]=r.collection(U[Y[K]]);return z},BR={affinityPropagation:cv,ap:cv},_R=Jt({root:void 0,directed:!1}),zR={hierholzer:function(e){if(!tt(e)){var r=arguments;e={root:r[0],directed:r[1]}}var n=_R(e),a=n.root,i=n.directed,s=this,o=!1,l,u,c;a&&(c=Ve(a)?this.filter(a)[0].id():a[0].id());var f={},h={};i?s.forEach(function(b){var y=b.id();if(b.isNode()){var w=b.indegree(!0),x=b.outdegree(!0),D=w-x,C=x-w;D==1?l?o=!0:l=y:C==1?u?o=!0:u=y:(C>1||D>1)&&(o=!0),f[y]=[],b.outgoers().forEach(function(N){N.isEdge()&&f[y].push(N.id())})}else h[y]=[void 0,b.target().id()]}):s.forEach(function(b){var y=b.id();if(b.isNode()){var w=b.degree(!0);w%2&&(l?u?o=!0:u=y:l=y),f[y]=[],b.connectedEdges().forEach(function(x){return f[y].push(x.id())})}else h[y]=[b.source().id(),b.target().id()]});var d={found:!1,trail:void 0};if(o)return d;if(u&&l)if(i){if(c&&u!=c)return d;c=u}else{if(c&&u!=c&&l!=c)return d;c||(c=u)}else c||(c=s[0].id());var v=function(y){for(var w=y,x=[y],D,C,N;f[w].length;)D=f[w].shift(),C=h[D][0],N=h[D][1],w!=N?(f[N]=f[N].filter(function(k){return k!=D}),w=N):!i&&w!=C&&(f[C]=f[C].filter(function(k){return k!=D}),w=C),x.unshift(D),x.unshift(w);return x},g=[],p=[];for(p=v(c);p.length!=1;)f[p[0]].length==0?(g.unshift(s.getElementById(p.shift())),g.unshift(s.getElementById(p.shift()))):p=v(p.shift()).concat(p);g.unshift(s.getElementById(p.shift()));for(var m in f)if(f[m].length)return d;return d.found=!0,d.trail=this.spawn(g,!0),d}},Ws=function(){var e=this,r={},n=0,a=0,i=[],s=[],o={},l=function(h,d){for(var v=s.length-1,g=[],p=e.spawn();s[v].x!=h||s[v].y!=d;)g.push(s.pop().edge),v--;g.push(s.pop().edge),g.forEach(function(m){var b=m.connectedNodes().intersection(e);p.merge(m),b.forEach(function(y){var w=y.id(),x=y.connectedEdges().intersection(e);p.merge(y),r[w].cutVertex?p.merge(x.filter(function(D){return D.isLoop()})):p.merge(x)})}),i.push(p)},u=function(h,d,v){h===v&&(a+=1),r[d]={id:n,low:n++,cutVertex:!1};var g=e.getElementById(d).connectedEdges().intersection(e);if(g.size()===0)i.push(e.spawn(e.getElementById(d)));else{var p,m,b,y;g.forEach(function(w){p=w.source().id(),m=w.target().id(),b=p===d?m:p,b!==v&&(y=w.id(),o[y]||(o[y]=!0,s.push({x:d,y:b,edge:w})),b in r?r[d].low=Math.min(r[d].low,r[b].id):(u(h,b,d),r[d].low=Math.min(r[d].low,r[b].low),r[d].id<=r[b].low&&(r[d].cutVertex=!0,l(d,b))))})}};e.forEach(function(f){if(f.isNode()){var h=f.id();h in r||(a=0,u(h,h),r[h].cutVertex=a>1)}});var c=Object.keys(r).filter(function(f){return r[f].cutVertex}).map(function(f){return e.getElementById(f)});return{cut:e.spawn(c),components:i}},UR={hopcroftTarjanBiconnected:Ws,htbc:Ws,htb:Ws,hopcroftTarjanBiconnectedComponents:Ws},Ys=function(){var e=this,r={},n=0,a=[],i=[],s=e.spawn(e),o=function(u){i.push(u),r[u]={index:n,low:n++,explored:!1};var c=e.getElementById(u).connectedEdges().intersection(e);if(c.forEach(function(g){var p=g.target().id();p!==u&&(p in r||o(p),r[p].explored||(r[u].low=Math.min(r[u].low,r[p].low)))}),r[u].index===r[u].low){for(var f=e.spawn();;){var h=i.pop();if(f.merge(e.getElementById(h)),r[h].low=r[u].index,r[h].explored=!0,h===u)break}var d=f.edgesWith(f),v=f.merge(d);a.push(v),s=s.difference(v)}};return e.forEach(function(l){if(l.isNode()){var u=l.id();u in r||o(u)}}),{cut:s,components:a}},VR={tarjanStronglyConnected:Ys,tsc:Ys,tscc:Ys,tarjanStronglyConnectedComponents:Ys},My={};[ls,mD,yD,wD,xD,TD,DD,eR,ri,ni,rf,hR,AR,MR,BR,zR,UR,VR].forEach(function(t){qe(My,t)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var Py=0,Ny=1,Oy=2,Hr=function(e){if(!(this instanceof Hr))return new Hr(e);this.id="Thenable/1.0.7",this.state=Py,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Hr.prototype={fulfill:function(e){return fv(this,Ny,"fulfillValue",e)},reject:function(e){return fv(this,Oy,"rejectReason",e)},then:function(e,r){var n=this,a=new Hr;return n.onFulfilled.push(hv(e,a,"fulfill")),n.onRejected.push(hv(r,a,"reject")),ky(n),a.proxy}};var fv=function(e,r,n,a){return e.state===Py&&(e.state=r,e[n]=a,ky(e)),e},ky=function(e){e.state===Ny?dv(e,"onFulfilled",e.fulfillValue):e.state===Oy&&dv(e,"onRejected",e.rejectReason)},dv=function(e,r,n){if(e[r].length!==0){var a=e[r];e[r]=[];var i=function(){for(var o=0;o<a.length;o++)a[o](n)};typeof setImmediate=="function"?setImmediate(i):setTimeout(i,0)}},hv=function(e,r,n){return function(a){if(typeof e!="function")r[n].call(r,a);else{var i;try{i=e(a)}catch(s){r.reject(s);return}Iy(r,i)}}},Iy=function(e,r){if(e===r||e.proxy===r){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(Vt(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(i){e.reject(i);return}if(typeof n=="function"){var a=!1;try{n.call(r,function(i){a||(a=!0,i===r?e.reject(new TypeError("circular thenable chain")):Iy(e,i))},function(i){a||(a=!0,e.reject(i))})}catch(i){a||e.reject(i)}return}e.fulfill(r)};Hr.all=function(t){return new Hr(function(e,r){for(var n=new Array(t.length),a=0,i=function(l,u){n[l]=u,a++,a===t.length&&e(n)},s=0;s<t.length;s++)(function(o){var l=t[o],u=l!=null&&l.then!=null;if(u)l.then(function(f){i(o,f)},function(f){r(f)});else{var c=l;i(o,c)}})(s)})};Hr.resolve=function(t){return new Hr(function(e,r){e(t)})};Hr.reject=function(t){return new Hr(function(e,r){r(t)})};var hi=typeof Promise<"u"?Promise:Hr,sf=function(e,r,n){var a=Hf(e),i=!a,s=this._private=qe({duration:1e3},r,n);if(s.target=e,s.style=s.style||s.css,s.started=!1,s.playing=!1,s.hooked=!1,s.applying=!1,s.progress=0,s.completes=[],s.frames=[],s.complete&&At(s.complete)&&s.completes.push(s.complete),i){var o=e.position();s.startPosition=s.startPosition||{x:o.x,y:o.y},s.startStyle=s.startStyle||e.cy().style().getAnimationStartStyle(e,s.style)}if(a){var l=e.pan();s.startPan={x:l.x,y:l.y},s.startZoom=e.zoom()}this.length=1,this[0]=this},Sa=sf.prototype;qe(Sa,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var r,n=e.target._private.animation;e.queue?r=n.queue:r=n.current,r.push(this),Dr(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var r=this._private;return e===void 0?r.progress*r.duration:this.progress(e/r.duration)},progress:function(e){var r=this._private,n=r.playing;return e===void 0?r.progress:(n&&this.pause(),r.progress=e,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,r=e.playing;r&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(u,c){var f=e[u];f!=null&&(e[u]=e[c],e[c]=f)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var a=0;a<e.style.length;a++){var i=e.style[a],s=i.name,o=e.startStyle[s];e.startStyle[s]=i,e.style[a]=o}return r&&this.play(),this},promise:function(e){var r=this._private,n;switch(e){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new hi(function(a,i){n.push(function(){a()})})}});Sa.complete=Sa.completed;Sa.run=Sa.play;Sa.running=Sa.playing;var HR={animated:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return!1;var s=a[0];if(s)return s._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var s=0;s<a.length;s++){var o=a[s];o._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var a=this,i=a.length!==void 0,s=i?a:[a],o=this._private.cy||this,l=!i,u=!l;if(!o.styleEnabled())return this;var c=o.style();r=qe({},r,n);var f=Object.keys(r).length===0;if(f)return new sf(s[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(u&&(r.style=c.getPropsList(r.style||r.css),r.css=void 0),u&&r.renderedPosition!=null){var h=r.renderedPosition,d=o.pan(),v=o.zoom();r.position=wy(h,v,d)}if(l&&r.panBy!=null){var g=r.panBy,p=o.pan();r.pan={x:p.x+g.x,y:p.y+g.y}}var m=r.center||r.centre;if(l&&m!=null){var b=o.getCenterPan(m.eles,r.zoom);b!=null&&(r.pan=b)}if(l&&r.fit!=null){var y=r.fit,w=o.getFitViewport(y.eles||y.boundingBox,y.padding);w!=null&&(r.pan=w.pan,r.zoom=w.zoom)}if(l&&tt(r.zoom)){var x=o.getZoomedViewport(r.zoom);x!=null?(x.zoomed&&(r.zoom=x.zoom),x.panned&&(r.pan=x.pan)):r.zoom=null}return new sf(s[0],r)}},animate:function(){return function(r,n){var a=this,i=a.length!==void 0,s=i?a:[a],o=this._private.cy||this;if(!o.styleEnabled())return this;n&&(r=qe({},r,n));for(var l=0;l<s.length;l++){var u=s[l],c=u.animated()&&(r.queue===void 0||r.queue),f=u.animation(r,c?{queue:!0}:void 0);f.play()}return this}},stop:function(){return function(r,n){var a=this,i=a.length!==void 0,s=i?a:[a],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var l=0;l<s.length;l++){for(var u=s[l],c=u._private,f=c.animation.current,h=0;h<f.length;h++){var d=f[h],v=d._private;n&&(v.duration=0)}r&&(c.animation.queue=[]),n||(c.animation.current=[])}return o.notify("draw"),this}}},Eu,vv;function xl(){if(vv)return Eu;vv=1;var t=Array.isArray;return Eu=t,Eu}var xu,gv;function GR(){if(gv)return xu;gv=1;var t=xl(),e=As(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){if(t(i))return!1;var o=typeof i;return o=="number"||o=="symbol"||o=="boolean"||i==null||e(i)?!0:n.test(i)||!r.test(i)||s!=null&&i in Object(s)}return xu=a,xu}var Cu,pv;function qR(){if(pv)return Cu;pv=1;var t=fy(),e=Ss(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function s(o){if(!e(o))return!1;var l=t(o);return l==n||l==a||l==r||l==i}return Cu=s,Cu}var Tu,mv;function WR(){if(mv)return Tu;mv=1;var t=yl(),e=t["__core-js_shared__"];return Tu=e,Tu}var Su,yv;function YR(){if(yv)return Su;yv=1;var t=WR(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return Su=r,Su}var Au,bv;function XR(){if(bv)return Au;bv=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Au=r,Au}var Du,wv;function KR(){if(wv)return Du;wv=1;var t=qR(),e=YR(),r=Ss(),n=XR(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,l=s.toString,u=o.hasOwnProperty,c=RegExp("^"+l.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!r(h)||e(h))return!1;var d=t(h)?c:i;return d.test(n(h))}return Du=f,Du}var Ru,Ev;function $R(){if(Ev)return Ru;Ev=1;function t(e,r){return e==null?void 0:e[r]}return Ru=t,Ru}var Lu,xv;function jf(){if(xv)return Lu;xv=1;var t=KR(),e=$R();function r(n,a){var i=e(n,a);return t(i)?i:void 0}return Lu=r,Lu}var Mu,Cv;function Cl(){if(Cv)return Mu;Cv=1;var t=jf(),e=t(Object,"create");return Mu=e,Mu}var Pu,Tv;function ZR(){if(Tv)return Pu;Tv=1;var t=Cl();function e(){this.__data__=t?t(null):{},this.size=0}return Pu=e,Pu}var Nu,Sv;function QR(){if(Sv)return Nu;Sv=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return Nu=t,Nu}var Ou,Av;function JR(){if(Av)return Ou;Av=1;var t=Cl(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var s=this.__data__;if(t){var o=s[i];return o===e?void 0:o}return n.call(s,i)?s[i]:void 0}return Ou=a,Ou}var ku,Dv;function jR(){if(Dv)return ku;Dv=1;var t=Cl(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var i=this.__data__;return t?i[a]!==void 0:r.call(i,a)}return ku=n,ku}var Iu,Rv;function eL(){if(Rv)return Iu;Rv=1;var t=Cl(),e="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=t&&a===void 0?e:a,this}return Iu=r,Iu}var Fu,Lv;function tL(){if(Lv)return Fu;Lv=1;var t=ZR(),e=QR(),r=JR(),n=jR(),a=eL();function i(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Fu=i,Fu}var Bu,Mv;function rL(){if(Mv)return Bu;Mv=1;function t(){this.__data__=[],this.size=0}return Bu=t,Bu}var _u,Pv;function Fy(){if(Pv)return _u;Pv=1;function t(e,r){return e===r||e!==e&&r!==r}return _u=t,_u}var zu,Nv;function Tl(){if(Nv)return zu;Nv=1;var t=Fy();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return zu=e,zu}var Uu,Ov;function nL(){if(Ov)return Uu;Ov=1;var t=Tl(),e=Array.prototype,r=e.splice;function n(a){var i=this.__data__,s=t(i,a);if(s<0)return!1;var o=i.length-1;return s==o?i.pop():r.call(i,s,1),--this.size,!0}return Uu=n,Uu}var Vu,kv;function aL(){if(kv)return Vu;kv=1;var t=Tl();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return Vu=e,Vu}var Hu,Iv;function iL(){if(Iv)return Hu;Iv=1;var t=Tl();function e(r){return t(this.__data__,r)>-1}return Hu=e,Hu}var Gu,Fv;function sL(){if(Fv)return Gu;Fv=1;var t=Tl();function e(r,n){var a=this.__data__,i=t(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return Gu=e,Gu}var qu,Bv;function oL(){if(Bv)return qu;Bv=1;var t=rL(),e=nL(),r=aL(),n=iL(),a=sL();function i(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,qu=i,qu}var Wu,_v;function lL(){if(_v)return Wu;_v=1;var t=jf(),e=yl(),r=t(e,"Map");return Wu=r,Wu}var Yu,zv;function uL(){if(zv)return Yu;zv=1;var t=tL(),e=oL(),r=lL();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Yu=n,Yu}var Xu,Uv;function cL(){if(Uv)return Xu;Uv=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Xu=t,Xu}var Ku,Vv;function Sl(){if(Vv)return Ku;Vv=1;var t=cL();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return Ku=e,Ku}var $u,Hv;function fL(){if(Hv)return $u;Hv=1;var t=Sl();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return $u=e,$u}var Zu,Gv;function dL(){if(Gv)return Zu;Gv=1;var t=Sl();function e(r){return t(this,r).get(r)}return Zu=e,Zu}var Qu,qv;function hL(){if(qv)return Qu;qv=1;var t=Sl();function e(r){return t(this,r).has(r)}return Qu=e,Qu}var Ju,Wv;function vL(){if(Wv)return Ju;Wv=1;var t=Sl();function e(r,n){var a=t(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return Ju=e,Ju}var ju,Yv;function gL(){if(Yv)return ju;Yv=1;var t=uL(),e=fL(),r=dL(),n=hL(),a=vL();function i(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,ju=i,ju}var ec,Xv;function pL(){if(Xv)return ec;Xv=1;var t=gL(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var s=arguments,o=a?a.apply(this,s):s[0],l=i.cache;if(l.has(o))return l.get(o);var u=n.apply(this,s);return i.cache=l.set(o,u)||l,u};return i.cache=new(r.Cache||t),i}return r.Cache=t,ec=r,ec}var tc,Kv;function mL(){if(Kv)return tc;Kv=1;var t=pL(),e=500;function r(n){var a=t(n,function(s){return i.size===e&&i.clear(),s}),i=a.cache;return a}return tc=r,tc}var rc,$v;function By(){if($v)return rc;$v=1;var t=mL(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(s,o,l,u){i.push(l?u.replace(r,"$1"):o||s)}),i});return rc=n,rc}var nc,Zv;function _y(){if(Zv)return nc;Zv=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=Array(a);++n<a;)i[n]=r(e[n],n,e);return i}return nc=t,nc}var ac,Qv;function yL(){if(Qv)return ac;Qv=1;var t=qf(),e=_y(),r=xl(),n=As(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function s(o){if(typeof o=="string")return o;if(r(o))return e(o,s)+"";if(n(o))return i?i.call(o):"";var l=o+"";return l=="0"&&1/o==-1/0?"-0":l}return ac=s,ac}var ic,Jv;function zy(){if(Jv)return ic;Jv=1;var t=yL();function e(r){return r==null?"":t(r)}return ic=e,ic}var sc,jv;function Uy(){if(jv)return sc;jv=1;var t=xl(),e=GR(),r=By(),n=zy();function a(i,s){return t(i)?i:e(i,s)?[i]:r(n(i))}return sc=a,sc}var oc,eg;function ed(){if(eg)return oc;eg=1;var t=As();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return oc=e,oc}var lc,tg;function bL(){if(tg)return lc;tg=1;var t=Uy(),e=ed();function r(n,a){a=t(a,n);for(var i=0,s=a.length;n!=null&&i<s;)n=n[e(a[i++])];return i&&i==s?n:void 0}return lc=r,lc}var uc,rg;function wL(){if(rg)return uc;rg=1;var t=bL();function e(r,n,a){var i=r==null?void 0:t(r,n);return i===void 0?a:i}return uc=e,uc}var EL=wL(),xL=Ts(EL),cc,ng;function CL(){if(ng)return cc;ng=1;var t=jf(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return cc=e,cc}var fc,ag;function TL(){if(ag)return fc;ag=1;var t=CL();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return fc=e,fc}var dc,ig;function SL(){if(ig)return dc;ig=1;var t=TL(),e=Fy(),r=Object.prototype,n=r.hasOwnProperty;function a(i,s,o){var l=i[s];(!(n.call(i,s)&&e(l,o))||o===void 0&&!(s in i))&&t(i,s,o)}return dc=a,dc}var hc,sg;function AL(){if(sg)return hc;sg=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return hc=r,hc}var vc,og;function DL(){if(og)return vc;og=1;var t=SL(),e=Uy(),r=AL(),n=Ss(),a=ed();function i(s,o,l,u){if(!n(s))return s;o=e(o,s);for(var c=-1,f=o.length,h=f-1,d=s;d!=null&&++c<f;){var v=a(o[c]),g=l;if(v==="__proto__"||v==="constructor"||v==="prototype")return s;if(c!=h){var p=d[v];g=u?u(p,v,d):void 0,g===void 0&&(g=n(p)?p:r(o[c+1])?[]:{})}t(d,v,g),d=d[v]}return s}return vc=i,vc}var gc,lg;function RL(){if(lg)return gc;lg=1;var t=DL();function e(r,n,a){return r==null?r:t(r,n,a)}return gc=e,gc}var LL=RL(),ML=Ts(LL),pc,ug;function PL(){if(ug)return pc;ug=1;function t(e,r){var n=-1,a=e.length;for(r||(r=Array(a));++n<a;)r[n]=e[n];return r}return pc=t,pc}var mc,cg;function NL(){if(cg)return mc;cg=1;var t=_y(),e=PL(),r=xl(),n=As(),a=By(),i=ed(),s=zy();function o(l){return r(l)?t(l,i):n(l)?[l]:e(a(s(l)))}return mc=o,mc}var OL=NL(),kL=Ts(OL),IL={data:function(e){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(a){},beforeSet:function(a,i){},onSet:function(a){},canSet:function(a){return!0}};return e=qe({},r,e),function(a,i){var s=e,o=this,l=o.length!==void 0,u=l?o:[o],c=l?o[0]:o;if(Ve(a)){var f=a.indexOf(".")!==-1,h=f&&kL(a);if(s.allowGetting&&i===void 0){var d;return c&&(s.beforeGet(c),h&&c._private[s.field][a]===void 0?d=xL(c._private[s.field],h):d=c._private[s.field][a]),d}else if(s.allowSetting&&i!==void 0){var v=!s.immutableKeys[a];if(v){var g=ty({},a,i);s.beforeSet(o,g);for(var p=0,m=u.length;p<m;p++){var b=u[p];s.canSet(b)&&(h&&c._private[s.field][a]===void 0?ML(b._private[s.field],h,i):b._private[s.field][a]=i)}s.updateStyle&&o.updateStyle(),s.onSet(o),s.settingTriggersEvent&&o[s.triggerFnName](s.settingEvent)}}}else if(s.allowSetting&&tt(a)){var y=a,w,x,D=Object.keys(y);s.beforeSet(o,y);for(var C=0;C<D.length;C++){w=D[C],x=y[w];var N=!s.immutableKeys[w];if(N)for(var k=0;k<u.length;k++){var O=u[k];s.canSet(O)&&(O._private[s.field][w]=x)}}s.updateStyle&&o.updateStyle(),s.onSet(o),s.settingTriggersEvent&&o[s.triggerFnName](s.settingEvent)}else if(s.allowBinding&&At(a)){var F=a;o.on(s.bindingEvent,F)}else if(s.allowGetting&&a===void 0){var S;return c&&(s.beforeGet(c),S=c._private[s.field]),S}return o}},removeData:function(e){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=qe({},r,e),function(a){var i=e,s=this,o=s.length!==void 0,l=o?s:[s];if(Ve(a)){for(var u=a.split(/\s+/),c=u.length,f=0;f<c;f++){var h=u[f];if(!Gn(h)){var d=!i.immutableKeys[h];if(d)for(var v=0,g=l.length;v<g;v++)l[v]._private[i.field][h]=void 0}}i.triggerEvent&&s[i.triggerFnName](i.event)}else if(a===void 0){for(var p=0,m=l.length;p<m;p++)for(var b=l[p]._private[i.field],y=Object.keys(b),w=0;w<y.length;w++){var x=y[w],D=!i.immutableKeys[x];D&&(b[x]=void 0)}i.triggerEvent&&s[i.triggerFnName](i.event)}return s}}},FL={eventAliasesOn:function(e){var r=e;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,a){var i=this,s=Array.prototype.slice.call(arguments,0);return new hi(function(o,l){var u=function(d){i.off.apply(i,f),o(d)},c=s.concat([u]),f=c.concat([]);i.on.apply(i,c)})}}},ct={};[HR,IL,FL].forEach(function(t){qe(ct,t)});var BL={animate:ct.animate(),animation:ct.animation(),animated:ct.animated(),clearQueue:ct.clearQueue(),delay:ct.delay(),delayAnimation:ct.delayAnimation(),stop:ct.stop()},fo={classes:function(e){var r=this;if(e===void 0){var n=[];return r[0]._private.classes.forEach(function(v){return n.push(v)}),n}else pt(e)||(e=(e||"").match(/\S+/g)||[]);for(var a=[],i=new di(e),s=0;s<r.length;s++){for(var o=r[s],l=o._private,u=l.classes,c=!1,f=0;f<e.length;f++){var h=e[f],d=u.has(h);if(!d){c=!0;break}}c||(c=u.size!==e.length),c&&(l.classes=i,a.push(o))}return a.length>0&&this.spawn(a).updateStyle().emit("class"),r},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var r=this[0];return r!=null&&r._private.classes.has(e)},toggleClass:function(e,r){pt(e)||(e=e.match(/\S+/g)||[]);for(var n=this,a=r===void 0,i=[],s=0,o=n.length;s<o;s++)for(var l=n[s],u=l._private.classes,c=!1,f=0;f<e.length;f++){var h=e[f],d=u.has(h),v=!1;r||a&&!d?(u.add(h),v=!0):(!r||a&&d)&&(u.delete(h),v=!0),!c&&v&&(i.push(l),c=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},r),n}};fo.className=fo.classNames=fo.classes;var et={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:Ut,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};et.variable="(?:[\\w-.]|(?:\\\\"+et.metaChar+"))+";et.className="(?:[\\w-]|(?:\\\\"+et.metaChar+"))+";et.value=et.string+"|"+et.number;et.id=et.variable;(function(){var t,e,r;for(t=et.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],et.comparatorOp+="|@"+e;for(t=et.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],!(e.indexOf("!")>=0)&&e!=="="&&(et.comparatorOp+="|\\!"+e)})();var ht=function(){return{checks:[]}},_e={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},of=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return IA(t.selector,e.selector)}),_L=function(){for(var t={},e,r=0;r<of.length;r++)e=of[r],t[e.selector]=e.matches;return t}(),zL=function(e,r){return _L[e](r)},UL="("+of.map(function(t){return t.selector}).join("|")+")",Na=function(e){return e.replace(new RegExp("\\\\("+et.metaChar+")","g"),function(r,n){return n})},Rn=function(e,r,n){e[e.length-1]=n},lf=[{name:"group",query:!0,regex:"("+et.group+")",populate:function(e,r,n){var a=Ft(n,1),i=a[0];r.checks.push({type:_e.GROUP,value:i==="*"?i:i+"s"})}},{name:"state",query:!0,regex:UL,populate:function(e,r,n){var a=Ft(n,1),i=a[0];r.checks.push({type:_e.STATE,value:i})}},{name:"id",query:!0,regex:"\\#("+et.id+")",populate:function(e,r,n){var a=Ft(n,1),i=a[0];r.checks.push({type:_e.ID,value:Na(i)})}},{name:"className",query:!0,regex:"\\.("+et.className+")",populate:function(e,r,n){var a=Ft(n,1),i=a[0];r.checks.push({type:_e.CLASS,value:Na(i)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+et.variable+")\\s*\\]",populate:function(e,r,n){var a=Ft(n,1),i=a[0];r.checks.push({type:_e.DATA_EXIST,field:Na(i)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+et.variable+")\\s*("+et.comparatorOp+")\\s*("+et.value+")\\s*\\]",populate:function(e,r,n){var a=Ft(n,3),i=a[0],s=a[1],o=a[2],l=new RegExp("^"+et.string+"$").exec(o)!=null;l?o=o.substring(1,o.length-1):o=parseFloat(o),r.checks.push({type:_e.DATA_COMPARE,field:Na(i),operator:s,value:o})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+et.boolOp+")\\s*("+et.variable+")\\s*\\]",populate:function(e,r,n){var a=Ft(n,2),i=a[0],s=a[1];r.checks.push({type:_e.DATA_BOOL,field:Na(s),operator:i})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+et.meta+")\\s*("+et.comparatorOp+")\\s*("+et.number+")\\s*\\]\\]",populate:function(e,r,n){var a=Ft(n,3),i=a[0],s=a[1],o=a[2];r.checks.push({type:_e.META_COMPARE,field:Na(i),operator:s,value:parseFloat(o)})}},{name:"nextQuery",separator:!0,regex:et.separator,populate:function(e,r){var n=e.currentSubject,a=e.edgeCount,i=e.compoundCount,s=e[e.length-1];n!=null&&(s.subject=n,e.currentSubject=null),s.edgeCount=a,s.compoundCount=i,e.edgeCount=0,e.compoundCount=0;var o=e[e.length++]=ht();return o}},{name:"directedEdge",separator:!0,regex:et.directedEdge,populate:function(e,r){if(e.currentSubject==null){var n=ht(),a=r,i=ht();return n.checks.push({type:_e.DIRECTED_EDGE,source:a,target:i}),Rn(e,r,n),e.edgeCount++,i}else{var s=ht(),o=r,l=ht();return s.checks.push({type:_e.NODE_SOURCE,source:o,target:l}),Rn(e,r,s),e.edgeCount++,l}}},{name:"undirectedEdge",separator:!0,regex:et.undirectedEdge,populate:function(e,r){if(e.currentSubject==null){var n=ht(),a=r,i=ht();return n.checks.push({type:_e.UNDIRECTED_EDGE,nodes:[a,i]}),Rn(e,r,n),e.edgeCount++,i}else{var s=ht(),o=r,l=ht();return s.checks.push({type:_e.NODE_NEIGHBOR,node:o,neighbor:l}),Rn(e,r,s),l}}},{name:"child",separator:!0,regex:et.child,populate:function(e,r){if(e.currentSubject==null){var n=ht(),a=ht(),i=e[e.length-1];return n.checks.push({type:_e.CHILD,parent:i,child:a}),Rn(e,r,n),e.compoundCount++,a}else if(e.currentSubject===r){var s=ht(),o=e[e.length-1],l=ht(),u=ht(),c=ht(),f=ht();return s.checks.push({type:_e.COMPOUND_SPLIT,left:o,right:l,subject:u}),u.checks=r.checks,r.checks=[{type:_e.TRUE}],f.checks.push({type:_e.TRUE}),l.checks.push({type:_e.PARENT,parent:f,child:c}),Rn(e,o,s),e.currentSubject=u,e.compoundCount++,c}else{var h=ht(),d=ht(),v=[{type:_e.PARENT,parent:h,child:d}];return h.checks=r.checks,r.checks=v,e.compoundCount++,d}}},{name:"descendant",separator:!0,regex:et.descendant,populate:function(e,r){if(e.currentSubject==null){var n=ht(),a=ht(),i=e[e.length-1];return n.checks.push({type:_e.DESCENDANT,ancestor:i,descendant:a}),Rn(e,r,n),e.compoundCount++,a}else if(e.currentSubject===r){var s=ht(),o=e[e.length-1],l=ht(),u=ht(),c=ht(),f=ht();return s.checks.push({type:_e.COMPOUND_SPLIT,left:o,right:l,subject:u}),u.checks=r.checks,r.checks=[{type:_e.TRUE}],f.checks.push({type:_e.TRUE}),l.checks.push({type:_e.ANCESTOR,ancestor:f,descendant:c}),Rn(e,o,s),e.currentSubject=u,e.compoundCount++,c}else{var h=ht(),d=ht(),v=[{type:_e.ANCESTOR,ancestor:h,descendant:d}];return h.checks=r.checks,r.checks=v,e.compoundCount++,d}}},{name:"subject",modifier:!0,regex:et.subject,populate:function(e,r){if(e.currentSubject!=null&&e.currentSubject!==r)return dt("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=r;var n=e[e.length-1],a=n.checks[0],i=a==null?null:a.type;i===_e.DIRECTED_EDGE?a.type=_e.NODE_TARGET:i===_e.UNDIRECTED_EDGE&&(a.type=_e.NODE_NEIGHBOR,a.node=a.nodes[1],a.neighbor=a.nodes[0],a.nodes=null)}}];lf.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var VL=function(e){for(var r,n,a,i=0;i<lf.length;i++){var s=lf[i],o=s.name,l=e.match(s.regexObj);if(l!=null){n=l,r=s,a=o;var u=l[0];e=e.substring(u.length);break}}return{expr:r,match:n,name:a,remaining:e}},HL=function(e){var r=e.match(/^\s+/);if(r){var n=r[0];e=e.substring(n.length)}return e},GL=function(e){var r=this,n=r.inputText=e,a=r[0]=ht();for(r.length=1,n=HL(n);;){var i=VL(n);if(i.expr==null)return dt("The selector `"+e+"`is invalid"),!1;var s=i.match.slice(1),o=i.expr.populate(r,a,s);if(o===!1)return!1;if(o!=null&&(a=o),n=i.remaining,n.match(/^\s*$/))break}var l=r[r.length-1];r.currentSubject!=null&&(l.subject=r.currentSubject),l.edgeCount=r.edgeCount,l.compoundCount=r.compoundCount;for(var u=0;u<r.length;u++){var c=r[u];if(c.compoundCount>0&&c.edgeCount>0)return dt("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(c.edgeCount>1)return dt("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;c.edgeCount===1&&dt("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},qL=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(c){return c??""},r=function(c){return Ve(c)?'"'+c+'"':e(c)},n=function(c){return" "+c+" "},a=function(c,f){var h=c.type,d=c.value;switch(h){case _e.GROUP:{var v=e(d);return v.substring(0,v.length-1)}case _e.DATA_COMPARE:{var g=c.field,p=c.operator;return"["+g+n(e(p))+r(d)+"]"}case _e.DATA_BOOL:{var m=c.operator,b=c.field;return"["+e(m)+b+"]"}case _e.DATA_EXIST:{var y=c.field;return"["+y+"]"}case _e.META_COMPARE:{var w=c.operator,x=c.field;return"[["+x+n(e(w))+r(d)+"]]"}case _e.STATE:return d;case _e.ID:return"#"+d;case _e.CLASS:return"."+d;case _e.PARENT:case _e.CHILD:return i(c.parent,f)+n(">")+i(c.child,f);case _e.ANCESTOR:case _e.DESCENDANT:return i(c.ancestor,f)+" "+i(c.descendant,f);case _e.COMPOUND_SPLIT:{var D=i(c.left,f),C=i(c.subject,f),N=i(c.right,f);return D+(D.length>0?" ":"")+C+N}case _e.TRUE:return""}},i=function(c,f){return c.checks.reduce(function(h,d,v){return h+(f===c&&v===0?"$":"")+a(d,f)},"")},s="",o=0;o<this.length;o++){var l=this[o];s+=i(l,l.subject),this.length>1&&o<this.length-1&&(s+=", ")}return this.toStringCache=s,s},WL={parse:GL,toString:qL},Vy=function(e,r,n){var a,i=Ve(e),s=Ne(e),o=Ve(n),l,u,c=!1,f=!1,h=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),f=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),c=!0),(i||o||c)&&(l=!i&&!s?"":""+e,u=""+n),c&&(e=l=l.toLowerCase(),n=u=u.toLowerCase()),r){case"*=":a=l.indexOf(u)>=0;break;case"$=":a=l.indexOf(u,l.length-u.length)>=0;break;case"^=":a=l.indexOf(u)===0;break;case"=":a=e===n;break;case">":h=!0,a=e>n;break;case">=":h=!0,a=e>=n;break;case"<":h=!0,a=e<n;break;case"<=":h=!0,a=e<=n;break;default:a=!1;break}return f&&(e!=null||!h)&&(a=!a),a},YL=function(e,r){switch(r){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},XL=function(e){return e!==void 0},td=function(e,r){return e.data(r)},KL=function(e,r){return e[r]()},Lt=[],Et=function(e,r){return e.checks.every(function(n){return Lt[n.type](n,r)})};Lt[_e.GROUP]=function(t,e){var r=t.value;return r==="*"||r===e.group()};Lt[_e.STATE]=function(t,e){var r=t.value;return zL(r,e)};Lt[_e.ID]=function(t,e){var r=t.value;return e.id()===r};Lt[_e.CLASS]=function(t,e){var r=t.value;return e.hasClass(r)};Lt[_e.META_COMPARE]=function(t,e){var r=t.field,n=t.operator,a=t.value;return Vy(KL(e,r),n,a)};Lt[_e.DATA_COMPARE]=function(t,e){var r=t.field,n=t.operator,a=t.value;return Vy(td(e,r),n,a)};Lt[_e.DATA_BOOL]=function(t,e){var r=t.field,n=t.operator;return YL(td(e,r),n)};Lt[_e.DATA_EXIST]=function(t,e){var r=t.field;return t.operator,XL(td(e,r))};Lt[_e.UNDIRECTED_EDGE]=function(t,e){var r=t.nodes[0],n=t.nodes[1],a=e.source(),i=e.target();return Et(r,a)&&Et(n,i)||Et(n,a)&&Et(r,i)};Lt[_e.NODE_NEIGHBOR]=function(t,e){return Et(t.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&Et(t.neighbor,r)})};Lt[_e.DIRECTED_EDGE]=function(t,e){return Et(t.source,e.source())&&Et(t.target,e.target())};Lt[_e.NODE_SOURCE]=function(t,e){return Et(t.source,e)&&e.outgoers().some(function(r){return r.isNode()&&Et(t.target,r)})};Lt[_e.NODE_TARGET]=function(t,e){return Et(t.target,e)&&e.incomers().some(function(r){return r.isNode()&&Et(t.source,r)})};Lt[_e.CHILD]=function(t,e){return Et(t.child,e)&&Et(t.parent,e.parent())};Lt[_e.PARENT]=function(t,e){return Et(t.parent,e)&&e.children().some(function(r){return Et(t.child,r)})};Lt[_e.DESCENDANT]=function(t,e){return Et(t.descendant,e)&&e.ancestors().some(function(r){return Et(t.ancestor,r)})};Lt[_e.ANCESTOR]=function(t,e){return Et(t.ancestor,e)&&e.descendants().some(function(r){return Et(t.descendant,r)})};Lt[_e.COMPOUND_SPLIT]=function(t,e){return Et(t.subject,e)&&Et(t.left,e)&&Et(t.right,e)};Lt[_e.TRUE]=function(){return!0};Lt[_e.COLLECTION]=function(t,e){var r=t.value;return r.has(e)};Lt[_e.FILTER]=function(t,e){var r=t.value;return r(e)};var $L=function(e){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===_e.ID)return e.getElementById(r[0].checks[0].value).collection();var n=function(i){for(var s=0;s<r.length;s++){var o=r[s];if(Et(o,i))return!0}return!1};return r.text()==null&&(n=function(){return!0}),e.filter(n)},ZL=function(e){for(var r=this,n=0;n<r.length;n++){var a=r[n];if(Et(a,e))return!0}return!1},QL={matches:ZL,filter:$L},Yn=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||Ve(e)&&e.match(/^\s*$/)||(Dr(e)?this.addQuery({checks:[{type:_e.COLLECTION,value:e.collection()}]}):At(e)?this.addQuery({checks:[{type:_e.FILTER,value:e}]}):Ve(e)?this.parse(e)||(this.invalid=!0):xt("A selector must be created from a string; found "))},Xn=Yn.prototype;[WL,QL].forEach(function(t){return qe(Xn,t)});Xn.text=function(){return this.inputText};Xn.size=function(){return this.length};Xn.eq=function(t){return this[t]};Xn.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};Xn.addQuery=function(t){this[this.length++]=t};Xn.selector=Xn.toString;var zn={allAre:function(e){var r=new Yn(e);return this.every(function(n){return r.matches(n)})},is:function(e){var r=new Yn(e);return this.some(function(n){return r.matches(n)})},some:function(e,r){for(var n=0;n<this.length;n++){var a=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(a)return!0}return!1},every:function(e,r){for(var n=0;n<this.length;n++){var a=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(!a)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var r=this.length,n=e.length;return r!==n?!1:r===1?this[0]===e[0]:this.every(function(a){return e.hasElementWithId(a.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(r){return e.hasElementWithId(r.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var r=this.neighborhood();return e.every(function(n){return r.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var r=this;return e.every(function(n){return r.hasElementWithId(n.id())})}};zn.allAreNeighbours=zn.allAreNeighbors;zn.has=zn.contains;zn.equal=zn.equals=zn.same;var Pr=function(e,r){return function(a,i,s,o){var l=a,u=this,c;if(l==null?c="":Dr(l)&&l.length===1&&(c=l.id()),u.length===1&&c){var f=u[0]._private,h=f.traversalCache=f.traversalCache||{},d=h[r]=h[r]||[],v=Ca(c),g=d[v];return g||(d[v]=e.call(u,a,i,s,o))}else return e.call(u,a,i,s,o)}},ui={parent:function(e){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var a=0;a<this.length;a++){var i=this[a],s=i._private.parent;s&&r.push(s)}return this.spawn(r,!0).filter(e)},parents:function(e){for(var r=[],n=this.parent();n.nonempty();){for(var a=0;a<n.length;a++){var i=n[a];r.push(i)}n=n.parent()}return this.spawn(r,!0).filter(e)},commonAncestors:function(e){for(var r,n=0;n<this.length;n++){var a=this[n],i=a.parents();r=r||i,r=r.intersect(i)}return r.filter(e)},orphans:function(e){return this.stdFilter(function(r){return r.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(r){return r.isChild()}).filter(e)},children:Pr(function(t){for(var e=[],r=0;r<this.length;r++)for(var n=this[r],a=n._private.children,i=0;i<a.length;i++)e.push(a[i]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var r=[];function n(a){for(var i=0;i<a.length;i++){var s=a[i];r.push(s),s.children().nonempty()&&n(s.children())}}return n(this.children()),this.spawn(r,!0).filter(e)}};function rd(t,e,r,n){for(var a=[],i=new di,s=t.cy(),o=s.hasCompoundNodes(),l=0;l<t.length;l++){var u=t[l];r?a.push(u):o&&n(a,i,u)}for(;a.length>0;){var c=a.shift();e(c),i.add(c.id()),o&&n(a,i,c)}return t}function Hy(t,e,r){if(r.isParent())for(var n=r._private.children,a=0;a<n.length;a++){var i=n[a];e.has(i.id())||t.push(i)}}ui.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return rd(this,t,e,Hy)};function Gy(t,e,r){if(r.isChild()){var n=r._private.parent;e.has(n.id())||t.push(n)}}ui.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return rd(this,t,e,Gy)};function JL(t,e,r){Gy(t,e,r),Hy(t,e,r)}ui.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return rd(this,t,e,JL)};ui.ancestors=ui.parents;var fs,qy;fs=qy={data:ct.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:ct.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:ct.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ct.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:ct.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:ct.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};fs.attr=fs.data;fs.removeAttr=fs.removeData;var jL=qy,Al={};function yc(t){return function(e){var r=this;if(e===void 0&&(e=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,a=r[0],i=a._private.edges,s=0;s<i.length;s++){var o=i[s];!e&&o.isLoop()||(n+=t(a,o))}return n}else return}}qe(Al,{degree:yc(function(t,e){return e.source().same(e.target())?2:1}),indegree:yc(function(t,e){return e.target().same(t)?1:0}),outdegree:yc(function(t,e){return e.source().same(t)?1:0})});function Oa(t,e){return function(r){for(var n,a=this.nodes(),i=0;i<a.length;i++){var s=a[i],o=s[t](r);o!==void 0&&(n===void 0||e(o,n))&&(n=o)}return n}}qe(Al,{minDegree:Oa("degree",function(t,e){return t<e}),maxDegree:Oa("degree",function(t,e){return t>e}),minIndegree:Oa("indegree",function(t,e){return t<e}),maxIndegree:Oa("indegree",function(t,e){return t>e}),minOutdegree:Oa("outdegree",function(t,e){return t<e}),maxOutdegree:Oa("outdegree",function(t,e){return t>e})});qe(Al,{totalDegree:function(e){for(var r=0,n=this.nodes(),a=0;a<n.length;a++)r+=n[a].degree(e);return r}});var _r,Wy,Yy=function(e,r,n){for(var a=0;a<e.length;a++){var i=e[a];if(!i.locked()){var s=i._private.position,o={x:r.x!=null?r.x-s.x:0,y:r.y!=null?r.y-s.y:0};i.isParent()&&!(o.x===0&&o.y===0)&&i.children().shift(o,n),i.dirtyBoundingBoxCache()}}},fg={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,r){Yy(e,r,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};_r=Wy={position:ct.data(fg),silentPosition:ct.data(qe({},fg,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,r){Yy(e,r,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,r){if(tt(e))r?this.silentPosition(e):this.position(e);else if(At(e)){var n=e,a=this.cy();a.startBatch();for(var i=0;i<this.length;i++){var s=this[i],o=void 0;(o=n(s,i))&&(r?s.silentPosition(o):s.position(o))}a.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,r,n){var a;if(tt(e)?(a={x:Ne(e.x)?e.x:0,y:Ne(e.y)?e.y:0},n=r):Ve(e)&&Ne(r)&&(a={x:0,y:0},a[e]=r),a!=null){var i=this.cy();i.startBatch();for(var s=0;s<this.length;s++){var o=this[s];if(!(i.hasCompoundNodes()&&o.isChild()&&o.ancestors().anySame(this))){var l=o.position(),u={x:l.x+a.x,y:l.y+a.y};n?o.silentPosition(u):o.position(u)}}i.endBatch()}return this},silentShift:function(e,r){return tt(e)?this.shift(e,!0):Ve(e)&&Ne(r)&&this.shift(e,r,!0),this},renderedPosition:function(e,r){var n=this[0],a=this.cy(),i=a.zoom(),s=a.pan(),o=tt(e)?e:void 0,l=o!==void 0||r!==void 0&&Ve(e);if(n&&n.isNode())if(l)for(var u=0;u<this.length;u++){var c=this[u];r!==void 0?c.position(e,(r-s[e])/i):o!==void 0&&c.position(wy(o,i,s))}else{var f=n.position();return o=wl(f,i,s),e===void 0?o:o[e]}else if(!l)return;return this},relativePosition:function(e,r){var n=this[0],a=this.cy(),i=tt(e)?e:void 0,s=i!==void 0||r!==void 0&&Ve(e),o=a.hasCompoundNodes();if(n&&n.isNode())if(s)for(var l=0;l<this.length;l++){var u=this[l],c=o?u.parent():null,f=c&&c.length>0,h=f;f&&(c=c[0]);var d=h?c.position():{x:0,y:0};r!==void 0?u.position(e,r+d[e]):i!==void 0&&u.position({x:i.x+d.x,y:i.y+d.y})}else{var v=n.position(),g=o?n.parent():null,p=g&&g.length>0,m=p;p&&(g=g[0]);var b=m?g.position():{x:0,y:0};return i={x:v.x-b.x,y:v.y-b.y},e===void 0?i:i[e]}else if(!s)return;return this}};_r.modelPosition=_r.point=_r.position;_r.modelPositions=_r.points=_r.positions;_r.renderedPoint=_r.renderedPosition;_r.relativePoint=_r.relativePosition;var eM=Wy,ai,jn;ai=jn={};jn.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),n=r.zoom(),a=r.pan(),i=e.x1*n+a.x,s=e.x2*n+a.x,o=e.y1*n+a.y,l=e.y2*n+a.y;return{x1:i,x2:s,y1:o,y2:l,w:s-i,h:l-o}};jn.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,t||r.emitAndNotify("bounds")}}),this)};jn.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(s){if(!s.isParent())return;var o=s._private,l=s.children(),u=s.pstyle("compound-sizing-wrt-labels").value==="include",c={width:{val:s.pstyle("min-width").pfValue,left:s.pstyle("min-width-bias-left"),right:s.pstyle("min-width-bias-right")},height:{val:s.pstyle("min-height").pfValue,top:s.pstyle("min-height-bias-top"),bottom:s.pstyle("min-height-bias-bottom")}},f=l.boundingBox({includeLabels:u,includeOverlays:!1,useCache:!1}),h=o.position;(f.w===0||f.h===0)&&(f={w:s.pstyle("width").pfValue,h:s.pstyle("height").pfValue},f.x1=h.x-f.w/2,f.x2=h.x+f.w/2,f.y1=h.y-f.h/2,f.y2=h.y+f.h/2);function d(k,O,F){var S=0,P=0,E=O+F;return k>0&&E>0&&(S=O/E*k,P=F/E*k),{biasDiff:S,biasComplementDiff:P}}function v(k,O,F,S){if(F.units==="%")switch(S){case"width":return k>0?F.pfValue*k:0;case"height":return O>0?F.pfValue*O:0;case"average":return k>0&&O>0?F.pfValue*(k+O)/2:0;case"min":return k>0&&O>0?k>O?F.pfValue*O:F.pfValue*k:0;case"max":return k>0&&O>0?k>O?F.pfValue*k:F.pfValue*O:0;default:return 0}else return F.units==="px"?F.pfValue:0}var g=c.width.left.value;c.width.left.units==="px"&&c.width.val>0&&(g=g*100/c.width.val);var p=c.width.right.value;c.width.right.units==="px"&&c.width.val>0&&(p=p*100/c.width.val);var m=c.height.top.value;c.height.top.units==="px"&&c.height.val>0&&(m=m*100/c.height.val);var b=c.height.bottom.value;c.height.bottom.units==="px"&&c.height.val>0&&(b=b*100/c.height.val);var y=d(c.width.val-f.w,g,p),w=y.biasDiff,x=y.biasComplementDiff,D=d(c.height.val-f.h,m,b),C=D.biasDiff,N=D.biasComplementDiff;o.autoPadding=v(f.w,f.h,s.pstyle("padding"),s.pstyle("padding-relative-to").value),o.autoWidth=Math.max(f.w,c.width.val),h.x=(-w+f.x1+f.x2+x)/2,o.autoHeight=Math.max(f.h,c.height.val),h.y=(-C+f.y1+f.y2+N)/2}for(var n=0;n<this.length;n++){var a=this[n],i=a._private;(!i.compoundBoundsClean||t)&&(r(a),e.batching()||(i.compoundBoundsClean=!0))}return this};var Mr=function(e){return e===1/0||e===-1/0?0:e},Ir=function(e,r,n,a,i){a-r===0||i-n===0||r==null||n==null||a==null||i==null||(e.x1=r<e.x1?r:e.x1,e.x2=a>e.x2?a:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=i>e.y2?i:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},On=function(e,r){return r==null?e:Ir(e,r.x1,r.y1,r.x2,r.y2)},Ri=function(e,r,n){return mr(e,r,n)},Xs=function(e,r,n){if(!r.cy().headless()){var a=r._private,i=a.rstyle,s=i.arrowWidth/2,o=r.pstyle(n+"-arrow-shape").value,l,u;if(o!=="none"){n==="source"?(l=i.srcX,u=i.srcY):n==="target"?(l=i.tgtX,u=i.tgtY):(l=i.midX,u=i.midY);var c=a.arrowBounds=a.arrowBounds||{},f=c[n]=c[n]||{};f.x1=l-s,f.y1=u-s,f.x2=l+s,f.y2=u+s,f.w=f.x2-f.x1,f.h=f.y2-f.y1,uo(f,1),Ir(e,f.x1,f.y1,f.x2,f.y2)}}},bc=function(e,r,n){if(!r.cy().headless()){var a;n?a=n+"-":a="";var i=r._private,s=i.rstyle,o=r.pstyle(a+"label").strValue;if(o){var l=r.pstyle("text-halign"),u=r.pstyle("text-valign"),c=Ri(s,"labelWidth",n),f=Ri(s,"labelHeight",n),h=Ri(s,"labelX",n),d=Ri(s,"labelY",n),v=r.pstyle(a+"text-margin-x").pfValue,g=r.pstyle(a+"text-margin-y").pfValue,p=r.isEdge(),m=r.pstyle(a+"text-rotation"),b=r.pstyle("text-outline-width").pfValue,y=r.pstyle("text-border-width").pfValue,w=y/2,x=r.pstyle("text-background-padding").pfValue,D=2,C=f,N=c,k=N/2,O=C/2,F,S,P,E;if(p)F=h-k,S=h+k,P=d-O,E=d+O;else{switch(l.value){case"left":F=h-N,S=h;break;case"center":F=h-k,S=h+k;break;case"right":F=h,S=h+N;break}switch(u.value){case"top":P=d-C,E=d;break;case"center":P=d-O,E=d+O;break;case"bottom":P=d,E=d+C;break}}var L=v-Math.max(b,w)-x-D,A=v+Math.max(b,w)+x+D,T=g-Math.max(b,w)-x-D,R=g+Math.max(b,w)+x+D;F+=L,S+=A,P+=T,E+=R;var W=n||"main",q=i.labelBounds,G=q[W]=q[W]||{};G.x1=F,G.y1=P,G.x2=S,G.y2=E,G.w=S-F,G.h=E-P,G.leftPad=L,G.rightPad=A,G.topPad=T,G.botPad=R;var $=p&&m.strValue==="autorotate",Q=m.pfValue!=null&&m.pfValue!==0;if($||Q){var oe=$?Ri(i.rstyle,"labelAngle",n):m.pfValue,ie=Math.cos(oe),ae=Math.sin(oe),Y=(F+S)/2,re=(P+E)/2;if(!p){switch(l.value){case"left":Y=S;break;case"right":Y=F;break}switch(u.value){case"top":re=E;break;case"bottom":re=P;break}}var U=function(ne,se){return ne=ne-Y,se=se-re,{x:ne*ie-se*ae+Y,y:ne*ae+se*ie+re}},V=U(F,P),X=U(F,E),M=U(S,P),B=U(S,E);F=Math.min(V.x,X.x,M.x,B.x),S=Math.max(V.x,X.x,M.x,B.x),P=Math.min(V.y,X.y,M.y,B.y),E=Math.max(V.y,X.y,M.y,B.y)}var z=W+"Rot",K=q[z]=q[z]||{};K.x1=F,K.y1=P,K.x2=S,K.y2=E,K.w=S-F,K.h=E-P,Ir(e,F,P,S,E),Ir(i.labelBounds.all,F,P,S,E)}return e}},dg=function(e,r){if(!r.cy().headless()){var n=r.pstyle("outline-opacity").value,a=r.pstyle("outline-width").value,i=r.pstyle("outline-offset").value,s=a+i;Xy(e,r,n,s,"outside",s/2)}},Xy=function(e,r,n,a,i,s){if(!(n===0||a<=0||i==="inside")){var o=r.cy(),l=r.pstyle("shape").value,u=o.renderer().nodeShapes[l],c=r.position(),f=c.x,h=c.y,d=r.width(),v=r.height();if(u.hasMiterBounds){i==="center"&&(a/=2);var g=u.miterBounds(f,h,d,v,a);On(e,g)}else s!=null&&s>0&&co(e,[s,s,s,s])}},tM=function(e,r){if(!r.cy().headless()){var n=r.pstyle("border-opacity").value,a=r.pstyle("border-width").pfValue,i=r.pstyle("border-position").value;Xy(e,r,n,a,i)}},rM=function(e,r){var n=e._private.cy,a=n.styleEnabled(),i=n.headless(),s=dr(),o=e._private,l=e.isNode(),u=e.isEdge(),c,f,h,d,v,g,p=o.rstyle,m=l&&a?e.pstyle("bounds-expansion").pfValue:[0],b=function(ee){return ee.pstyle("display").value!=="none"},y=!a||b(e)&&(!u||b(e.source())&&b(e.target()));if(y){var w=0,x=0;a&&r.includeOverlays&&(w=e.pstyle("overlay-opacity").value,w!==0&&(x=e.pstyle("overlay-padding").value));var D=0,C=0;a&&r.includeUnderlays&&(D=e.pstyle("underlay-opacity").value,D!==0&&(C=e.pstyle("underlay-padding").value));var N=Math.max(x,C),k=0,O=0;if(a&&(k=e.pstyle("width").pfValue,O=k/2),l&&r.includeNodes){var F=e.position();v=F.x,g=F.y;var S=e.outerWidth(),P=S/2,E=e.outerHeight(),L=E/2;c=v-P,f=v+P,h=g-L,d=g+L,Ir(s,c,h,f,d),a&&dg(s,e),a&&r.includeOutlines&&!i&&dg(s,e),a&&tM(s,e)}else if(u&&r.includeEdges)if(a&&!i){var A=e.pstyle("curve-style").strValue;if(c=Math.min(p.srcX,p.midX,p.tgtX),f=Math.max(p.srcX,p.midX,p.tgtX),h=Math.min(p.srcY,p.midY,p.tgtY),d=Math.max(p.srcY,p.midY,p.tgtY),c-=O,f+=O,h-=O,d+=O,Ir(s,c,h,f,d),A==="haystack"){var T=p.haystackPts;if(T&&T.length===2){if(c=T[0].x,h=T[0].y,f=T[1].x,d=T[1].y,c>f){var R=c;c=f,f=R}if(h>d){var W=h;h=d,d=W}Ir(s,c-O,h-O,f+O,d+O)}}else if(A==="bezier"||A==="unbundled-bezier"||kn(A,"segments")||kn(A,"taxi")){var q;switch(A){case"bezier":case"unbundled-bezier":q=p.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":q=p.linePts;break}if(q!=null)for(var G=0;G<q.length;G++){var $=q[G];c=$.x-O,f=$.x+O,h=$.y-O,d=$.y+O,Ir(s,c,h,f,d)}}}else{var Q=e.source(),oe=Q.position(),ie=e.target(),ae=ie.position();if(c=oe.x,f=ae.x,h=oe.y,d=ae.y,c>f){var Y=c;c=f,f=Y}if(h>d){var re=h;h=d,d=re}c-=O,f+=O,h-=O,d+=O,Ir(s,c,h,f,d)}if(a&&r.includeEdges&&u&&(Xs(s,e,"mid-source"),Xs(s,e,"mid-target"),Xs(s,e,"source"),Xs(s,e,"target")),a){var U=e.pstyle("ghost").value==="yes";if(U){var V=e.pstyle("ghost-offset-x").pfValue,X=e.pstyle("ghost-offset-y").pfValue;Ir(s,s.x1+V,s.y1+X,s.x2+V,s.y2+X)}}var M=o.bodyBounds=o.bodyBounds||{};Qh(M,s),co(M,m),uo(M,1),a&&(c=s.x1,f=s.x2,h=s.y1,d=s.y2,Ir(s,c-N,h-N,f+N,d+N));var B=o.overlayBounds=o.overlayBounds||{};Qh(B,s),co(B,m),uo(B,1);var z=o.labelBounds=o.labelBounds||{};z.all!=null?BD(z.all):z.all=dr(),a&&r.includeLabels&&(r.includeMainLabels&&bc(s,e,null),u&&(r.includeSourceLabels&&bc(s,e,"source"),r.includeTargetLabels&&bc(s,e,"target")))}return s.x1=Mr(s.x1),s.y1=Mr(s.y1),s.x2=Mr(s.x2),s.y2=Mr(s.y2),s.w=Mr(s.x2-s.x1),s.h=Mr(s.y2-s.y1),s.w>0&&s.h>0&&y&&(co(s,m),uo(s,1)),s},Ky=function(e){var r=0,n=function(s){return(s?1:0)<<r++},a=0;return a+=n(e.incudeNodes),a+=n(e.includeEdges),a+=n(e.includeLabels),a+=n(e.includeMainLabels),a+=n(e.includeSourceLabels),a+=n(e.includeTargetLabels),a+=n(e.includeOverlays),a+=n(e.includeOutlines),a},$y=function(e){var r=function(o){return Math.round(o)};if(e.isEdge()){var n=e.source().position(),a=e.target().position();return Wh([r(n.x),r(n.y),r(a.x),r(a.y)])}else{var i=e.position();return Wh([r(i.x),r(i.y)])}},hg=function(e,r){var n=e._private,a,i=e.isEdge(),s=r==null?vg:Ky(r),o=s===vg;if(n.bbCache==null?(a=rM(e,ds),n.bbCache=a,n.bbCachePosKey=$y(e)):a=n.bbCache,!o){var l=e.isNode();a=dr(),(r.includeNodes&&l||r.includeEdges&&!l)&&(r.includeOverlays?On(a,n.overlayBounds):On(a,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!i||r.includeSourceLabels&&r.includeTargetLabels)?On(a,n.labelBounds.all):(r.includeMainLabels&&On(a,n.labelBounds.mainRot),r.includeSourceLabels&&On(a,n.labelBounds.sourceRot),r.includeTargetLabels&&On(a,n.labelBounds.targetRot))),a.w=a.x2-a.x1,a.h=a.y2-a.y1}return a},ds={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},vg=Ky(ds),gg=Jt(ds);jn.boundingBox=function(t){var e,r=t===void 0||t.useCache===void 0||t.useCache===!0,n=oi(function(c){var f=c._private;return f.bbCache==null||f.styleDirty||f.bbCachePosKey!==$y(c)},function(c){return c.id()});if(r&&this.length===1&&!n(this[0]))t===void 0?t=ds:t=gg(t),e=hg(this[0],t);else{e=dr(),t=t||ds;var a=gg(t),i=this,s=i.cy(),o=s.styleEnabled();this.edges().forEach(n),this.nodes().forEach(n),o&&this.recalculateRenderedStyle(r),this.updateCompoundBounds(!r);for(var l=0;l<i.length;l++){var u=i[l];n(u)&&u.dirtyBoundingBoxCache(),On(e,hg(u,a))}}return e.x1=Mr(e.x1),e.y1=Mr(e.y1),e.x2=Mr(e.x2),e.y2=Mr(e.y2),e.w=Mr(e.x2-e.x1),e.h=Mr(e.y2-e.y1),e};jn.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};jn.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),a=r.collection();if(n&&(a=e.filter(function(u){return u.isParent()}),e=e.not(a)),tt(t)){var i=t;t=function(){return i}}var s=function(c,f){return c._private.bbAtOldPos=t(c,f)},o=function(c){return c._private.bbAtOldPos};r.startBatch(),e.forEach(s).silentPositions(t),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0));var l=FD(this.boundingBox({useCache:!1}));return e.silentPositions(o),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0)),r.endBatch(),l};ai.boundingbox=ai.bb=ai.boundingBox;ai.renderedBoundingbox=ai.renderedBoundingBox;var nM=jn,Fi,Ls;Fi=Ls={};var Zy=function(e){e.uppercaseName=Mh(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=Mh(e.outerName),Fi[e.name]=function(){var n=this[0],a=n._private,i=a.cy,s=i._private.styleEnabled;if(n)if(s){if(n.isParent())return n.updateCompoundBounds(),a[e.autoName]||0;var o=n.pstyle(e.name);switch(o.strValue){case"label":return n.recalculateRenderedStyle(),a.rstyle[e.labelName]||0;default:return o.pfValue}}else return 1},Fi["outer"+e.uppercaseName]=function(){var n=this[0],a=n._private,i=a.cy,s=i._private.styleEnabled;if(n)if(s){var o=n[e.name](),l=n.pstyle("border-position").value,u;l==="center"?u=n.pstyle("border-width").pfValue:l==="outside"?u=2*n.pstyle("border-width").pfValue:u=0;var c=2*n.padding();return o+u+c}else return 1},Fi["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var a=n[e.name]();return a*this.cy().zoom()}},Fi["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var a=n[e.outerName]();return a*this.cy().zoom()}}};Zy({name:"width"});Zy({name:"height"});Ls.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};Ls.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};Ls.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var aM=Ls,iM=function(e,r){if(e.isEdge()&&e.takesUpSpace())return r(e)},sM=function(e,r){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy();return wl(r(e),n.zoom(),n.pan())}},oM=function(e,r){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy(),a=n.pan(),i=n.zoom();return r(e).map(function(s){return wl(s,i,a)})}},lM=function(e){return e.renderer().getControlPoints(e)},uM=function(e){return e.renderer().getSegmentPoints(e)},cM=function(e){return e.renderer().getSourceEndpoint(e)},fM=function(e){return e.renderer().getTargetEndpoint(e)},dM=function(e){return e.renderer().getEdgeMidpoint(e)},pg={controlPoints:{get:lM,mult:!0},segmentPoints:{get:uM,mult:!0},sourceEndpoint:{get:cM},targetEndpoint:{get:fM},midpoint:{get:dM}},hM=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},vM=Object.keys(pg).reduce(function(t,e){var r=pg[e],n=hM(e);return t[e]=function(){return iM(this,r.get)},r.mult?t[n]=function(){return oM(this,r.get)}:t[n]=function(){return sM(this,r.get)},t},{}),gM=qe({},eM,nM,aM,vM);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var Qy=function(e,r){this.recycle(e,r)};function Li(){return!1}function Ks(){return!0}Qy.prototype={instanceString:function(){return"event"},recycle:function(e,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Li,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?Ks:Li):e!=null&&e.type?r=e:this.type=e,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,a=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:n.x*a+i.x,y:n.y*a+i.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Ks;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Ks;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Ks,this.stopPropagation()},isDefaultPrevented:Li,isPropagationStopped:Li,isImmediatePropagationStopped:Li};var Jy=/^([^.]+)(\.(?:[^.]+))?$/,pM=".*",jy={qualifierCompare:function(e,r){return e===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},mg=Object.keys(jy),mM={};function Dl(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:mM,e=arguments.length>1?arguments[1]:void 0,r=0;r<mg.length;r++){var n=mg[r];this[n]=t[n]||jy[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var Kn=Dl.prototype,e0=function(e,r,n,a,i,s,o){At(a)&&(i=a,a=null),o&&(s==null?s=o:s=qe({},s,o));for(var l=pt(n)?n:n.split(/\s+/),u=0;u<l.length;u++){var c=l[u];if(!Gn(c)){var f=c.match(Jy);if(f){var h=f[1],d=f[2]?f[2]:null,v=r(e,c,h,d,a,i,s);if(v===!1)break}}}},yg=function(e,r){return e.addEventFields(e.context,r),new Qy(r.type,r)},yM=function(e,r,n){if(TA(n)){r(e,n);return}else if(tt(n)){r(e,yg(e,n));return}for(var a=pt(n)?n:n.split(/\s+/),i=0;i<a.length;i++){var s=a[i];if(!Gn(s)){var o=s.match(Jy);if(o){var l=o[1],u=o[2]?o[2]:null,c=yg(e,{type:l,namespace:u,target:e.context});r(e,c)}}}};Kn.on=Kn.addListener=function(t,e,r,n,a){return e0(this,function(i,s,o,l,u,c,f){At(c)&&i.listeners.push({event:s,callback:c,type:o,namespace:l,qualifier:u,conf:f})},t,e,r,n,a),this};Kn.one=function(t,e,r,n){return this.on(t,e,r,n,{one:!0})};Kn.removeListener=Kn.off=function(t,e,r,n){var a=this;this.emitting!==0&&(this.listeners=sD(this.listeners));for(var i=this.listeners,s=function(u){var c=i[u];e0(a,function(f,h,d,v,g,p){if((c.type===d||t==="*")&&(!v&&c.namespace!==".*"||c.namespace===v)&&(!g||f.qualifierCompare(c.qualifier,g))&&(!p||c.callback===p))return i.splice(u,1),!1},t,e,r,n)},o=i.length-1;o>=0;o--)s(o);return this};Kn.removeAllListeners=function(){return this.removeListener("*")};Kn.emit=Kn.trigger=function(t,e,r){var n=this.listeners,a=n.length;return this.emitting++,pt(e)||(e=[e]),yM(this,function(i,s){r!=null&&(n=[{event:s.event,type:s.type,namespace:s.namespace,callback:r}],a=n.length);for(var o=function(){var c=n[l];if(c.type===s.type&&(!c.namespace||c.namespace===s.namespace||c.namespace===pM)&&i.eventMatches(i.context,c,s)){var f=[s];e!=null&&lD(f,e),i.beforeEmit(i.context,c,s),c.conf&&c.conf.one&&(i.listeners=i.listeners.filter(function(v){return v!==c}));var h=i.callbackContext(i.context,c,s),d=c.callback.apply(h,f);i.afterEmit(i.context,c,s),d===!1&&(s.stopPropagation(),s.preventDefault())}},l=0;l<a;l++)o();i.bubble(i.context)&&!s.isPropagationStopped()&&i.parent(i.context).emit(s,e)},t),this.emitting--,this};var bM={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var a=r.qualifier;return a!=null?e!==n.target&&Cs(n.target)&&a.matches(n.target):!0},addEventFields:function(e,r){r.cy=e.cy(),r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e},beforeEmit:function(e,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},$s=function(e){return Ve(e)?new Yn(e):e},t0={createEmitter:function(){for(var e=0;e<this.length;e++){var r=this[e],n=r._private;n.emitter||(n.emitter=new Dl(bM,r))}return this},emitter:function(){return this._private.emitter},on:function(e,r,n){for(var a=$s(r),i=0;i<this.length;i++){var s=this[i];s.emitter().on(e,a,n)}return this},removeListener:function(e,r,n){for(var a=$s(r),i=0;i<this.length;i++){var s=this[i];s.emitter().removeListener(e,a,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var r=this[e];r.emitter().removeAllListeners()}return this},one:function(e,r,n){for(var a=$s(r),i=0;i<this.length;i++){var s=this[i];s.emitter().one(e,a,n)}return this},once:function(e,r,n){for(var a=$s(r),i=0;i<this.length;i++){var s=this[i];s.emitter().on(e,a,n,{once:!0,onceCollection:this})}},emit:function(e,r){for(var n=0;n<this.length;n++){var a=this[n];a.emitter().emit(e,r)}return this},emitAndNotify:function(e,r){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,r),this}};ct.eventAliasesOn(t0);var r0={nodes:function(e){return this.filter(function(r){return r.isNode()}).filter(e)},edges:function(e){return this.filter(function(r){return r.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var a=this[n];a.isNode()?e.push(a):r.push(a)}return{nodes:e,edges:r}},filter:function(e,r){if(e===void 0)return this;if(Ve(e)||Dr(e))return new Yn(e).filter(this);if(At(e)){for(var n=this.spawn(),a=this,i=0;i<a.length;i++){var s=a[i],o=r?e.apply(r,[s,i,a]):e(s,i,a);o&&n.push(s)}return n}return this.spawn()},not:function(e){if(e){Ve(e)&&(e=this.filter(e));for(var r=this.spawn(),n=0;n<this.length;n++){var a=this[n],i=e.has(a);i||r.push(a)}return r}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(Ve(e)){var r=e;return this.filter(r)}for(var n=this.spawn(),a=this,i=e,s=this.length<e.length,o=s?a:i,l=s?i:a,u=0;u<o.length;u++){var c=o[u];l.has(c)&&n.push(c)}return n},xor:function(e){var r=this._private.cy;Ve(e)&&(e=r.$(e));var n=this.spawn(),a=this,i=e,s=function(l,u){for(var c=0;c<l.length;c++){var f=l[c],h=f._private.data.id,d=u.hasElementWithId(h);d||n.push(f)}};return s(a,i),s(i,a),n},diff:function(e){var r=this._private.cy;Ve(e)&&(e=r.$(e));var n=this.spawn(),a=this.spawn(),i=this.spawn(),s=this,o=e,l=function(c,f,h){for(var d=0;d<c.length;d++){var v=c[d],g=v._private.data.id,p=f.hasElementWithId(g);p?i.merge(v):h.push(v)}};return l(s,o,n),l(o,s,a),{left:n,right:a,both:i}},add:function(e){var r=this._private.cy;if(!e)return this;if(Ve(e)){var n=e;e=r.mutableElements().filter(n)}for(var a=this.spawnSelf(),i=0;i<e.length;i++){var s=e[i],o=!this.has(s);o&&a.push(s)}return a},merge:function(e){var r=this._private,n=r.cy;if(!e)return this;if(e&&Ve(e)){var a=e;e=n.mutableElements().filter(a)}for(var i=r.map,s=0;s<e.length;s++){var o=e[s],l=o._private.data.id,u=!i.has(l);if(u){var c=this.length++;this[c]=o,i.set(l,{ele:o,index:c})}}return this},unmergeAt:function(e){var r=this[e],n=r.id(),a=this._private,i=a.map;this[e]=void 0,i.delete(n);var s=e===this.length-1;if(this.length>1&&!s){var o=this.length-1,l=this[o],u=l._private.data.id;this[o]=void 0,this[e]=l,i.set(u,{ele:l,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var r=this._private,n=e._private.data.id,a=r.map,i=a.get(n);if(!i)return this;var s=i.index;return this.unmergeAt(s),this},unmerge:function(e){var r=this._private.cy;if(!e)return this;if(e&&Ve(e)){var n=e;e=r.mutableElements().filter(n)}for(var a=0;a<e.length;a++)this.unmergeOne(e[a]);return this},unmergeBy:function(e){for(var r=this.length-1;r>=0;r--){var n=this[r];e(n)&&this.unmergeAt(r)}return this},map:function(e,r){for(var n=[],a=this,i=0;i<a.length;i++){var s=a[i],o=r?e.apply(r,[s,i,a]):e(s,i,a);n.push(o)}return n},reduce:function(e,r){for(var n=r,a=this,i=0;i<a.length;i++)n=e(n,a[i],i,a);return n},max:function(e,r){for(var n=-1/0,a,i=this,s=0;s<i.length;s++){var o=i[s],l=r?e.apply(r,[o,s,i]):e(o,s,i);l>n&&(n=l,a=o)}return{value:n,ele:a}},min:function(e,r){for(var n=1/0,a,i=this,s=0;s<i.length;s++){var o=i[s],l=r?e.apply(r,[o,s,i]):e(o,s,i);l<n&&(n=l,a=o)}return{value:n,ele:a}}},rt=r0;rt.u=rt["|"]=rt["+"]=rt.union=rt.or=rt.add;rt["\\"]=rt["!"]=rt["-"]=rt.difference=rt.relativeComplement=rt.subtract=rt.not;rt.n=rt["&"]=rt["."]=rt.and=rt.intersection=rt.intersect;rt["^"]=rt["(+)"]=rt["(-)"]=rt.symmetricDifference=rt.symdiff=rt.xor;rt.fnFilter=rt.filterFn=rt.stdFilter=rt.filter;rt.complement=rt.abscomp=rt.absoluteComplement;var wM={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},n0=function(e,r){var n=e.cy(),a=n.hasCompoundNodes();function i(c){var f=c.pstyle("z-compound-depth");return f.value==="auto"?a?c.zDepth():0:f.value==="bottom"?-1:f.value==="top"?Wf:0}var s=i(e)-i(r);if(s!==0)return s;function o(c){var f=c.pstyle("z-index-compare");return f.value==="auto"&&c.isNode()?1:0}var l=o(e)-o(r);if(l!==0)return l;var u=e.pstyle("z-index").value-r.pstyle("z-index").value;return u!==0?u:e.poolIndex()-r.poolIndex()},Uo={forEach:function(e,r){if(At(e))for(var n=this.length,a=0;a<n;a++){var i=this[a],s=r?e.apply(r,[i,a,this]):e(i,a,this);if(s===!1)break}return this},toArray:function(){for(var e=[],r=0;r<this.length;r++)e.push(this[r]);return e},slice:function(e,r){var n=[],a=this.length;r==null&&(r=a),e==null&&(e=0),e<0&&(e=a+e),r<0&&(r=a+r);for(var i=e;i>=0&&i<r&&i<a;i++)n.push(this[i]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!At(e))return this;var r=this.toArray().sort(e);return this.spawn(r)},sortByZIndex:function(){return this.sort(n0)},zDepth:function(){var e=this[0];if(e){var r=e._private,n=r.group;if(n==="nodes"){var a=r.data.parent?e.parents().size():0;return e.isParent()?a:Wf-1}else{var i=r.source,s=r.target,o=i.zDepth(),l=s.zDepth();return Math.max(o,l,0)}}}};Uo.each=Uo.forEach;var EM=function(){var e="undefined",r=(typeof Symbol>"u"?"undefined":Vt(Symbol))!=e&&Vt(Symbol.iterator)!=e;r&&(Uo[Symbol.iterator]=function(){var n=this,a={value:void 0,done:!1},i=0,s=this.length;return ty({next:function(){return i<s?a.value=n[i++]:(a.value=void 0,a.done=!0),a}},Symbol.iterator,function(){return this})})};EM();var xM=Jt({nodeDimensionsIncludeLabels:!1}),ho={layoutDimensions:function(e){e=xM(e);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(e,r,n){var a=this.nodes().filter(function(x){return!x.isParent()}),i=this.cy(),s=r.eles,o=function(D){return D.id()},l=oi(n,o);e.emit({type:"layoutstart",layout:e}),e.animations=[];var u=function(D,C,N){var k={x:C.x1+C.w/2,y:C.y1+C.h/2},O={x:(N.x-k.x)*D,y:(N.y-k.y)*D};return{x:k.x+O.x,y:k.y+O.y}},c=r.spacingFactor&&r.spacingFactor!==1,f=function(){if(!c)return null;for(var D=dr(),C=0;C<a.length;C++){var N=a[C],k=l(N,C);Ey(D,k.x,k.y)}return D},h=f(),d=oi(function(x,D){var C=l(x,D);if(c){var N=Math.abs(r.spacingFactor);C=u(N,h,C)}return r.transform!=null&&(C=r.transform(x,C)),C},o);if(r.animate){for(var v=0;v<a.length;v++){var g=a[v],p=d(g,v),m=r.animateFilter==null||r.animateFilter(g,v);if(m){var b=g.animation({position:p,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(b)}else g.position(p)}if(r.fit){var y=i.animation({fit:{boundingBox:s.boundingBoxAt(d),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});e.animations.push(y)}else if(r.zoom!==void 0&&r.pan!==void 0){var w=i.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(w)}e.animations.forEach(function(x){return x.play()}),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),hi.all(e.animations.map(function(x){return x.promise()})).then(function(){e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e})})}else a.positions(d),r.fit&&i.fit(r.eles,r.padding),r.zoom!=null&&i.zoom(r.zoom),r.pan&&i.pan(r.pan),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var r=this.cy();return r.makeLayout(qe({},e,{eles:this}))}};ho.createLayout=ho.makeLayout=ho.layout;function a0(t,e,r){var n=r._private,a=n.styleCache=n.styleCache||[],i;return(i=a[t])!=null||(i=a[t]=e(r)),i}function Rl(t,e){return t=Ca(t),function(n){return a0(t,e,n)}}function Ll(t,e){t=Ca(t);var r=function(a){return e.call(a)};return function(){var a=this[0];if(a)return a0(t,r,a)}}var Zt={recalculateRenderedStyle:function(e){var r=this.cy(),n=r.renderer(),a=r.styleEnabled();return n&&a&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),r=function(i){return i._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(a){r(a),a.connectedEdges().forEach(r)});return this},updateStyle:function(e){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var a=r.hasCompoundNodes(),i=this;e=!!(e||e===void 0),a&&(i=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var s=i;return e?s.emitAndNotify("style"):s.emit("style"),i.forEach(function(o){return o._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],a=n.cy();if(a.styleEnabled()&&n){n._private.styleDirty&&(n._private.styleDirty=!1,a.style().apply(n));var i=n._private.style[e];return i??(r?a.style().getDefaultProperty(e):null)}},numericStyle:function(e){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(e).units},renderedStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,e)},style:function(e,r){var n=this.cy();if(!n.styleEnabled())return this;var a=!1,i=n.style();if(tt(e)){var s=e;i.applyBypass(this,s,a),this.emitAndNotify("style")}else if(Ve(e))if(r===void 0){var o=this[0];return o?i.getStylePropertyValue(o,e):void 0}else i.applyBypass(this,e,r,a),this.emitAndNotify("style");else if(e===void 0){var l=this[0];return l?i.getRawStyle(l):void 0}return this},removeStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,a=r.style(),i=this;if(e===void 0)for(var s=0;s<i.length;s++){var o=i[s];a.removeAllBypasses(o,n)}else{e=e.split(/\s+/);for(var l=0;l<i.length;l++){var u=i[l];a.removeBypasses(u,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var r=e.hasCompoundNodes(),n=this[0];if(n){var a=n._private,i=n.pstyle("opacity").value;if(!r)return i;var s=a.data.parent?n.parents():null;if(s)for(var o=0;o<s.length;o++){var l=s[o],u=l.pstyle("opacity").value;i=u*i}return i}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function wc(t,e){var r=t._private,n=r.data.parent?t.parents():null;if(n)for(var a=0;a<n.length;a++){var i=n[a];if(!e(i))return!1}return!0}function nd(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var a=this.cy();if(!a.styleEnabled())return!0;var i=this[0],s=a.hasCompoundNodes();if(i){var o=i._private;if(!e(i))return!1;if(i.isNode())return!s||wc(i,n);var l=o.source,u=o.target;return r(l)&&(!s||wc(l,r))&&(l===u||r(u)&&(!s||wc(u,r)))}}}var vi=Rl("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});Zt.takesUpSpace=Ll("takesUpSpace",nd({ok:vi}));var CM=Rl("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&vi(t)}),TM=Rl("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&vi(t)});Zt.interactive=Ll("interactive",nd({ok:CM,parentOk:TM,edgeOkViaNode:vi}));Zt.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var SM=Rl("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&vi(t)}),AM=vi;Zt.visible=Ll("visible",nd({ok:SM,edgeOkViaNode:AM}));Zt.hidden=function(){var t=this[0];if(t)return!t.visible()};Zt.isBundledBezier=Ll("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Zt.bypass=Zt.css=Zt.style;Zt.renderedCss=Zt.renderedStyle;Zt.removeBypass=Zt.removeCss=Zt.removeStyle;Zt.pstyle=Zt.parsedStyle;var Un={};function bg(t){return function(){var e=arguments,r=[];if(e.length===2){var n=e[0],a=e[1];this.on(t.event,n,a)}else if(e.length===1&&At(e[0])){var i=e[0];this.on(t.event,i)}else if(e.length===0||e.length===1&&pt(e[0])){for(var s=e.length===1?e[0]:null,o=0;o<this.length;o++){var l=this[o],u=!t.ableField||l._private[t.ableField],c=l._private[t.field]!=t.value;if(t.overrideAble){var f=t.overrideAble(l);if(f!==void 0&&(u=f,!f))return this}u&&(l._private[t.field]=t.value,c&&r.push(l))}var h=this.spawn(r);h.updateStyle(),h.emit(t.event),s&&h.emit(s)}return this}}function gi(t){Un[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(r!==void 0)return r}return e._private[t.field]}},Un[t.on]=bg({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),Un[t.off]=bg({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}gi({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});gi({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});gi({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});gi({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});Un.deselect=Un.unselect;Un.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};gi({field:"active",on:"activate",off:"unactivate"});gi({field:"pannable",on:"panify",off:"unpanify"});Un.inactive=function(){var t=this[0];if(t)return!t._private.active};var ir={},wg=function(e){return function(n){for(var a=this,i=[],s=0;s<a.length;s++){var o=a[s];if(o.isNode()){for(var l=!1,u=o.connectedEdges(),c=0;c<u.length;c++){var f=u[c],h=f.source(),d=f.target();if(e.noIncomingEdges&&d===o&&h!==o||e.noOutgoingEdges&&h===o&&d!==o){l=!0;break}}l||i.push(o)}}return this.spawn(i,!0).filter(n)}},Eg=function(e){return function(r){for(var n=this,a=[],i=0;i<n.length;i++){var s=n[i];if(s.isNode())for(var o=s.connectedEdges(),l=0;l<o.length;l++){var u=o[l],c=u.source(),f=u.target();e.outgoing&&c===s?(a.push(u),a.push(f)):e.incoming&&f===s&&(a.push(u),a.push(c))}}return this.spawn(a,!0).filter(r)}},xg=function(e){return function(r){for(var n=this,a=[],i={};;){var s=e.outgoing?n.outgoers():n.incomers();if(s.length===0)break;for(var o=!1,l=0;l<s.length;l++){var u=s[l],c=u.id();i[c]||(i[c]=!0,a.push(u),o=!0)}if(!o)break;n=s}return this.spawn(a,!0).filter(r)}};ir.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};qe(ir,{roots:wg({noIncomingEdges:!0}),leaves:wg({noOutgoingEdges:!0}),outgoers:Pr(Eg({outgoing:!0}),"outgoers"),successors:xg({outgoing:!0}),incomers:Pr(Eg({incoming:!0}),"incomers"),predecessors:xg({})});qe(ir,{neighborhood:Pr(function(t){for(var e=[],r=this.nodes(),n=0;n<r.length;n++)for(var a=r[n],i=a.connectedEdges(),s=0;s<i.length;s++){var o=i[s],l=o.source(),u=o.target(),c=a===l?u:l;c.length>0&&e.push(c[0]),e.push(o[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});ir.neighbourhood=ir.neighborhood;ir.closedNeighbourhood=ir.closedNeighborhood;ir.openNeighbourhood=ir.openNeighborhood;qe(ir,{source:Pr(function(e){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&e?n.filter(e):n},"source"),target:Pr(function(e){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&e?n.filter(e):n},"target"),sources:Cg({attr:"source"}),targets:Cg({attr:"target"})});function Cg(t){return function(r){for(var n=[],a=0;a<this.length;a++){var i=this[a],s=i._private[t.attr];s&&n.push(s)}return this.spawn(n,!0).filter(r)}}qe(ir,{edgesWith:Pr(Tg(),"edgesWith"),edgesTo:Pr(Tg({thisIsSrc:!0}),"edgesTo")});function Tg(t){return function(r){var n=[],a=this._private.cy,i=t||{};Ve(r)&&(r=a.$(r));for(var s=0;s<r.length;s++)for(var o=r[s]._private.edges,l=0;l<o.length;l++){var u=o[l],c=u._private.data,f=this.hasElementWithId(c.source)&&r.hasElementWithId(c.target),h=r.hasElementWithId(c.source)&&this.hasElementWithId(c.target),d=f||h;d&&((i.thisIsSrc||i.thisIsTgt)&&(i.thisIsSrc&&!f||i.thisIsTgt&&!h)||n.push(u))}return this.spawn(n,!0)}}qe(ir,{connectedEdges:Pr(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var a=r[n];if(a.isNode())for(var i=a._private.edges,s=0;s<i.length;s++){var o=i[s];e.push(o)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:Pr(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var a=r[n];a.isEdge()&&(e.push(a.source()[0]),e.push(a.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:Pr(Sg(),"parallelEdges"),codirectedEdges:Pr(Sg({codirected:!0}),"codirectedEdges")});function Sg(t){var e={codirected:!1};return t=qe({},e,t),function(n){for(var a=[],i=this.edges(),s=t,o=0;o<i.length;o++)for(var l=i[o],u=l._private,c=u.source,f=c._private.data.id,h=u.data.target,d=c._private.edges,v=0;v<d.length;v++){var g=d[v],p=g._private.data,m=p.target,b=p.source,y=m===h&&b===f,w=f===m&&h===b;(s.codirected&&y||!s.codirected&&(y||w))&&a.push(g)}return this.spawn(a,!0).filter(n)}}qe(ir,{components:function(e){var r=this,n=r.cy(),a=n.collection(),i=e==null?r.nodes():e.nodes(),s=[];e!=null&&i.empty()&&(i=e.sources());var o=function(c,f){a.merge(c),i.unmerge(c),f.merge(c)};if(i.empty())return r.spawn();var l=function(){var c=n.collection();s.push(c);var f=i[0];o(f,c),r.bfs({directed:!1,roots:f,visit:function(d){return o(d,c)}}),c.forEach(function(h){h.connectedEdges().forEach(function(d){r.has(d)&&c.has(d.source())&&c.has(d.target())&&c.merge(d)})})};do l();while(i.length>0);return s},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});ir.componentsOf=ir.components;var Qt=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){xt("A collection must have a reference to the core");return}var i=new gn,s=!1;if(!r)r=[];else if(r.length>0&&tt(r[0])&&!Cs(r[0])){s=!0;for(var o=[],l=new di,u=0,c=r.length;u<c;u++){var f=r[u];f.data==null&&(f.data={});var h=f.data;if(h.id==null)h.id=yy();else if(e.hasElementWithId(h.id)||l.has(h.id))continue;var d=new bl(e,f,!1);o.push(d),l.add(h.id)}r=o}this.length=0;for(var v=0,g=r.length;v<g;v++){var p=r[v][0];if(p!=null){var m=p._private.data.id;(!n||!i.has(m))&&(n&&i.set(m,{index:this.length,ele:p}),this[this.length]=p,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(b){this.lazyMap=b},rebuildMap:function(){for(var y=this.lazyMap=new gn,w=this.eles,x=0;x<w.length;x++){var D=w[x];y.set(D.id(),{index:x,ele:D})}}},n&&(this._private.map=i),s&&!a&&this.restore()},wt=bl.prototype=Qt.prototype=Object.create(Array.prototype);wt.instanceString=function(){return"collection"};wt.spawn=function(t,e){return new Qt(this.cy(),t,e)};wt.spawnSelf=function(){return this.spawn(this)};wt.cy=function(){return this._private.cy};wt.renderer=function(){return this._private.cy.renderer()};wt.element=function(){return this[0]};wt.collection=function(){return ay(this)?this:new Qt(this._private.cy,[this])};wt.unique=function(){return new Qt(this._private.cy,this,!0)};wt.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};wt.getElementById=function(t){t=""+t;var e=this._private.cy,r=this._private.map.get(t);return r?r.ele:new Qt(e)};wt.$id=wt.getElementById;wt.poolIndex=function(){var t=this._private.cy,e=t._private.elements,r=this[0]._private.data.id;return e._private.map.get(r).index};wt.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};wt.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};wt.json=function(t){var e=this.element(),r=this.cy();if(e==null&&t)return this;if(e!=null){var n=e._private;if(tt(t)){if(r.startBatch(),t.data){e.data(t.data);var a=n.data;if(e.isEdge()){var i=!1,s={},o=t.data.source,l=t.data.target;o!=null&&o!=a.source&&(s.source=""+o,i=!0),l!=null&&l!=a.target&&(s.target=""+l,i=!0),i&&(e=e.move(s))}else{var u="parent"in t.data,c=t.data.parent;u&&(c!=null||a.parent!=null)&&c!=a.parent&&(c===void 0&&(c=null),c!=null&&(c=""+c),e=e.move({parent:c}))}}t.position&&e.position(t.position);var f=function(g,p,m){var b=t[g];b!=null&&b!==n[g]&&(b?e[p]():e[m]())};return f("removed","remove","restore"),f("selected","select","unselect"),f("selectable","selectify","unselectify"),f("locked","lock","unlock"),f("grabbable","grabify","ungrabify"),f("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),r.endBatch(),this}else if(t===void 0){var h={data:jr(n.data),position:jr(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};h.classes="";var d=0;return n.classes.forEach(function(v){return h.classes+=d++===0?v:" "+v}),h}}};wt.jsons=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e],n=r.json();t.push(n)}return t};wt.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var n=this[r],a=n.json(),i=new bl(t,a,!1);e.push(i)}return new Qt(t,e)};wt.copy=wt.clone;wt.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),a=n._private,i=[],s=[],o,l=0,u=r.length;l<u;l++){var c=r[l];e&&!c.removed()||(c.isNode()?i.push(c):s.push(c))}o=i.concat(s);var f,h=function(){o.splice(f,1),f--};for(f=0;f<o.length;f++){var d=o[f],v=d._private,g=v.data;if(d.clearTraversalCache(),!(!e&&!v.removed)){if(g.id===void 0)g.id=yy();else if(Ne(g.id))g.id=""+g.id;else if(Gn(g.id)||!Ve(g.id)){xt("Can not create element with invalid string ID `"+g.id+"`"),h();continue}else if(n.hasElementWithId(g.id)){xt("Can not create second element with ID `"+g.id+"`"),h();continue}}var p=g.id;if(d.isNode()){var m=v.position;m.x==null&&(m.x=0),m.y==null&&(m.y=0)}if(d.isEdge()){for(var b=d,y=["source","target"],w=y.length,x=!1,D=0;D<w;D++){var C=y[D],N=g[C];Ne(N)&&(N=g[C]=""+g[C]),N==null||N===""?(xt("Can not create edge `"+p+"` with unspecified "+C),x=!0):n.hasElementWithId(N)||(xt("Can not create edge `"+p+"` with nonexistant "+C+" `"+N+"`"),x=!0)}if(x){h();continue}var k=n.getElementById(g.source),O=n.getElementById(g.target);k.same(O)?k._private.edges.push(b):(k._private.edges.push(b),O._private.edges.push(b)),b._private.source=k,b._private.target=O}v.map=new gn,v.map.set(p,{ele:d,index:0}),v.removed=!1,e&&n.addToPool(d)}for(var F=0;F<i.length;F++){var S=i[F],P=S._private.data;Ne(P.parent)&&(P.parent=""+P.parent);var E=P.parent,L=E!=null;if(L||S._private.parent){var A=S._private.parent?n.collection().merge(S._private.parent):n.getElementById(E);if(A.empty())P.parent=void 0;else if(A[0].removed())dt("Node added with missing parent, reference to parent removed"),P.parent=void 0,S._private.parent=null;else{for(var T=!1,R=A;!R.empty();){if(S.same(R)){T=!0,P.parent=void 0;break}R=R.parent()}T||(A[0]._private.children.push(S),S._private.parent=A[0],a.hasCompoundNodes=!0)}}}if(o.length>0){for(var W=o.length===r.length?r:new Qt(n,o),q=0;q<W.length;q++){var G=W[q];G.isNode()||(G.parallelEdges().clearTraversalCache(),G.source().clearTraversalCache(),G.target().clearTraversalCache())}var $;a.hasCompoundNodes?$=n.collection().merge(W).merge(W.connectedNodes()).merge(W.parent()):$=W,$.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?W.emitAndNotify("add"):e&&W.emit("add")}return r};wt.removed=function(){var t=this[0];return t&&t._private.removed};wt.inside=function(){var t=this[0];return t&&!t._private.removed};wt.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],a={},i=r._private.cy;function s(E){for(var L=E._private.edges,A=0;A<L.length;A++)l(L[A])}function o(E){for(var L=E._private.children,A=0;A<L.length;A++)l(L[A])}function l(E){var L=a[E.id()];e&&E.removed()||L||(a[E.id()]=!0,E.isNode()?(n.push(E),s(E),o(E)):n.unshift(E))}for(var u=0,c=r.length;u<c;u++){var f=r[u];l(f)}function h(E,L){var A=E._private.edges;qn(A,L),E.clearTraversalCache()}function d(E){E.clearTraversalCache()}var v=[];v.ids={};function g(E,L){L=L[0],E=E[0];var A=E._private.children,T=E.id();qn(A,L),L._private.parent=null,v.ids[T]||(v.ids[T]=!0,v.push(E))}r.dirtyCompoundBoundsCache(),e&&i.removeFromPool(n);for(var p=0;p<n.length;p++){var m=n[p];if(m.isEdge()){var b=m.source()[0],y=m.target()[0];h(b,m),h(y,m);for(var w=m.parallelEdges(),x=0;x<w.length;x++){var D=w[x];d(D),D.isBundledBezier()&&D.dirtyBoundingBoxCache()}}else{var C=m.parent();C.length!==0&&g(C,m)}e&&(m._private.removed=!0)}var N=i._private.elements;i._private.hasCompoundNodes=!1;for(var k=0;k<N.length;k++){var O=N[k];if(O.isParent()){i._private.hasCompoundNodes=!0;break}}var F=new Qt(this.cy(),n);F.size()>0&&(t?F.emitAndNotify("remove"):e&&F.emit("remove"));for(var S=0;S<v.length;S++){var P=v[S];(!e||!P.removed())&&P.updateStyle()}return F};wt.move=function(t){var e=this._private.cy,r=this,n=!1,a=!1,i=function(v){return v==null?v:""+v};if(t.source!==void 0||t.target!==void 0){var s=i(t.source),o=i(t.target),l=s!=null&&e.hasElementWithId(s),u=o!=null&&e.hasElementWithId(o);(l||u)&&(e.batch(function(){r.remove(n,a),r.emitAndNotify("moveout");for(var d=0;d<r.length;d++){var v=r[d],g=v._private.data;v.isEdge()&&(l&&(g.source=s),u&&(g.target=o))}r.restore(n,a)}),r.emitAndNotify("move"))}else if(t.parent!==void 0){var c=i(t.parent),f=c===null||e.hasElementWithId(c);if(f){var h=c===null?void 0:c;e.batch(function(){var d=r.remove(n,a);d.emitAndNotify("moveout");for(var v=0;v<r.length;v++){var g=r[v],p=g._private.data;g.isNode()&&(p.parent=h)}d.restore(n,a)}),r.emitAndNotify("move")}}return this};[My,BL,fo,zn,ui,jL,Al,gM,t0,r0,wM,Uo,ho,Zt,Un,ir].forEach(function(t){qe(wt,t)});var DM={add:function(e){var r,n=this;if(Dr(e)){var a=e;if(a._private.cy===n)r=a.restore();else{for(var i=[],s=0;s<a.length;s++){var o=a[s];i.push(o.json())}r=new Qt(n,i)}}else if(pt(e)){var l=e;r=new Qt(n,l)}else if(tt(e)&&(pt(e.nodes)||pt(e.edges))){for(var u=e,c=[],f=["nodes","edges"],h=0,d=f.length;h<d;h++){var v=f[h],g=u[v];if(pt(g))for(var p=0,m=g.length;p<m;p++){var b=qe({group:v},g[p]);c.push(b)}}r=new Qt(n,c)}else{var y=e;r=new bl(n,y).collection()}return r},remove:function(e){if(!Dr(e)){if(Ve(e)){var r=e;e=this.$(r)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function RM(t,e,r,n){var a=4,i=.001,s=1e-7,o=10,l=11,u=1/(l-1),c=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var f=0;f<4;++f)if(typeof arguments[f]!="number"||isNaN(arguments[f])||!isFinite(arguments[f]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var h=c?new Float32Array(l):new Array(l);function d(O,F){return 1-3*F+3*O}function v(O,F){return 3*F-6*O}function g(O){return 3*O}function p(O,F,S){return((d(F,S)*O+v(F,S))*O+g(F))*O}function m(O,F,S){return 3*d(F,S)*O*O+2*v(F,S)*O+g(F)}function b(O,F){for(var S=0;S<a;++S){var P=m(F,t,r);if(P===0)return F;var E=p(F,t,r)-O;F-=E/P}return F}function y(){for(var O=0;O<l;++O)h[O]=p(O*u,t,r)}function w(O,F,S){var P,E,L=0;do E=F+(S-F)/2,P=p(E,t,r)-O,P>0?S=E:F=E;while(Math.abs(P)>s&&++L<o);return E}function x(O){for(var F=0,S=1,P=l-1;S!==P&&h[S]<=O;++S)F+=u;--S;var E=(O-h[S])/(h[S+1]-h[S]),L=F+E*u,A=m(L,t,r);return A>=i?b(O,L):A===0?L:w(O,F,F+u)}var D=!1;function C(){D=!0,(t!==e||r!==n)&&y()}var N=function(F){return D||C(),t===e&&r===n?F:F===0?0:F===1?1:p(x(F),e,n)};N.getControlPoints=function(){return[{x:t,y:e},{x:r,y:n}]};var k="generateBezier("+[t,e,r,n]+")";return N.toString=function(){return k},N}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var LM=function(){function t(n){return-n.tension*n.x-n.friction*n.v}function e(n,a,i){var s={x:n.x+i.dx*a,v:n.v+i.dv*a,tension:n.tension,friction:n.friction};return{dx:s.v,dv:t(s)}}function r(n,a){var i={dx:n.v,dv:t(n)},s=e(n,a*.5,i),o=e(n,a*.5,s),l=e(n,a,o),u=1/6*(i.dx+2*(s.dx+o.dx)+l.dx),c=1/6*(i.dv+2*(s.dv+o.dv)+l.dv);return n.x=n.x+u*a,n.v=n.v+c*a,n}return function n(a,i,s){var o={x:-1,v:0,tension:null,friction:null},l=[0],u=0,c=1/1e4,f=16/1e3,h,d,v;for(a=parseFloat(a)||500,i=parseFloat(i)||20,s=s||null,o.tension=a,o.friction=i,h=s!==null,h?(u=n(a,i),d=u/s*f):d=f;v=r(v||o,d),l.push(1+v.x),u+=16,Math.abs(v.x)>c&&Math.abs(v.v)>c;);return h?function(g){return l[g*(l.length-1)|0]}:u}}(),yt=function(e,r,n,a){var i=RM(e,r,n,a);return function(s,o,l){return s+(o-s)*i(l)}},vo={linear:function(e,r,n){return e+(r-e)*n},ease:yt(.25,.1,.25,1),"ease-in":yt(.42,0,1,1),"ease-out":yt(0,0,.58,1),"ease-in-out":yt(.42,0,.58,1),"ease-in-sine":yt(.47,0,.745,.715),"ease-out-sine":yt(.39,.575,.565,1),"ease-in-out-sine":yt(.445,.05,.55,.95),"ease-in-quad":yt(.55,.085,.68,.53),"ease-out-quad":yt(.25,.46,.45,.94),"ease-in-out-quad":yt(.455,.03,.515,.955),"ease-in-cubic":yt(.55,.055,.675,.19),"ease-out-cubic":yt(.215,.61,.355,1),"ease-in-out-cubic":yt(.645,.045,.355,1),"ease-in-quart":yt(.895,.03,.685,.22),"ease-out-quart":yt(.165,.84,.44,1),"ease-in-out-quart":yt(.77,0,.175,1),"ease-in-quint":yt(.755,.05,.855,.06),"ease-out-quint":yt(.23,1,.32,1),"ease-in-out-quint":yt(.86,0,.07,1),"ease-in-expo":yt(.95,.05,.795,.035),"ease-out-expo":yt(.19,1,.22,1),"ease-in-out-expo":yt(1,0,0,1),"ease-in-circ":yt(.6,.04,.98,.335),"ease-out-circ":yt(.075,.82,.165,1),"ease-in-out-circ":yt(.785,.135,.15,.86),spring:function(e,r,n){if(n===0)return vo.linear;var a=LM(e,r,n);return function(i,s,o){return i+(s-i)*a(o)}},"cubic-bezier":yt};function Ag(t,e,r,n,a){if(n===1||e===r)return r;var i=a(e,r,n);return t==null||((t.roundValue||t.color)&&(i=Math.round(i)),t.min!==void 0&&(i=Math.max(i,t.min)),t.max!==void 0&&(i=Math.min(i,t.max))),i}function Dg(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function ka(t,e,r,n,a){var i=a!=null?a.type:null;r<0?r=0:r>1&&(r=1);var s=Dg(t,a),o=Dg(e,a);if(Ne(s)&&Ne(o))return Ag(i,s,o,r,n);if(pt(s)&&pt(o)){for(var l=[],u=0;u<o.length;u++){var c=s[u],f=o[u];if(c!=null&&f!=null){var h=Ag(i,c,f,r,n);l.push(h)}else l.push(f)}return l}}function MM(t,e,r,n){var a=!n,i=t._private,s=e._private,o=s.easing,l=s.startTime,u=n?t:t.cy(),c=u.style();if(!s.easingImpl)if(o==null)s.easingImpl=vo.linear;else{var f;if(Ve(o)){var h=c.parse("transition-timing-function",o);f=h.value}else f=o;var d,v;Ve(f)?(d=f,v=[]):(d=f[1],v=f.slice(2).map(function(W){return+W})),v.length>0?(d==="spring"&&v.push(s.duration),s.easingImpl=vo[d].apply(null,v)):s.easingImpl=vo[d]}var g=s.easingImpl,p;if(s.duration===0?p=1:p=(r-l)/s.duration,s.applying&&(p=s.progress),p<0?p=0:p>1&&(p=1),s.delay==null){var m=s.startPosition,b=s.position;if(b&&a&&!t.locked()){var y={};Mi(m.x,b.x)&&(y.x=ka(m.x,b.x,p,g)),Mi(m.y,b.y)&&(y.y=ka(m.y,b.y,p,g)),t.position(y)}var w=s.startPan,x=s.pan,D=i.pan,C=x!=null&&n;C&&(Mi(w.x,x.x)&&(D.x=ka(w.x,x.x,p,g)),Mi(w.y,x.y)&&(D.y=ka(w.y,x.y,p,g)),t.emit("pan"));var N=s.startZoom,k=s.zoom,O=k!=null&&n;O&&(Mi(N,k)&&(i.zoom=us(i.minZoom,ka(N,k,p,g),i.maxZoom)),t.emit("zoom")),(C||O)&&t.emit("viewport");var F=s.style;if(F&&F.length>0&&a){for(var S=0;S<F.length;S++){var P=F[S],E=P.name,L=P,A=s.startStyle[E],T=c.properties[A.name],R=ka(A,L,p,g,T);c.overrideBypass(t,E,R)}t.emit("style")}}return s.progress=p,p}function Mi(t,e){return t==null||e==null?!1:Ne(t)&&Ne(e)?!0:!!(t&&e)}function PM(t,e,r,n){var a=e._private;a.started=!0,a.startTime=r-a.progress*a.duration}function Rg(t,e){var r=e._private.aniEles,n=[];function a(c,f){var h=c._private,d=h.animation.current,v=h.animation.queue,g=!1;if(d.length===0){var p=v.shift();p&&d.push(p)}for(var m=function(D){for(var C=D.length-1;C>=0;C--){var N=D[C];N()}D.splice(0,D.length)},b=d.length-1;b>=0;b--){var y=d[b],w=y._private;if(w.stopped){d.splice(b,1),w.hooked=!1,w.playing=!1,w.started=!1,m(w.frames);continue}!w.playing&&!w.applying||(w.playing&&w.applying&&(w.applying=!1),w.started||PM(c,y,t),MM(c,y,t,f),w.applying&&(w.applying=!1),m(w.frames),w.step!=null&&w.step(t),y.completed()&&(d.splice(b,1),w.hooked=!1,w.playing=!1,w.started=!1,m(w.completes)),g=!0)}return!f&&d.length===0&&v.length===0&&n.push(c),g}for(var i=!1,s=0;s<r.length;s++){var o=r[s],l=a(o);i=i||l}var u=a(e,!0);(i||u)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(n),e.emit("step")}var NM={animate:ct.animate(),animation:ct.animation(),animated:ct.animated(),clearQueue:ct.clearQueue(),delay:ct.delay(),delayAnimation:ct.delayAnimation(),stop:ct.stop(),addToAnimationPool:function(e){var r=this;r.styleEnabled()&&r._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function r(){e._private.animationsRunning&&Io(function(i){Rg(i,e),r()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(i,s){Rg(s,e)},n.beforeRenderPriorities.animations):r()}},OM={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var a=r.qualifier;return a!=null?e!==n.target&&Cs(n.target)&&a.matches(n.target):!0},addEventFields:function(e,r){r.cy=e,r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e}},Zs=function(e){return Ve(e)?new Yn(e):e},i0={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new Dl(OM,this)),this},emitter:function(){return this._private.emitter},on:function(e,r,n){return this.emitter().on(e,Zs(r),n),this},removeListener:function(e,r,n){return this.emitter().removeListener(e,Zs(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,r,n){return this.emitter().one(e,Zs(r),n),this},once:function(e,r,n){return this.emitter().one(e,Zs(r),n),this},emit:function(e,r){return this.emitter().emit(e,r),this},emitAndNotify:function(e,r){return this.emit(e),this.notify(e,r),this}};ct.eventAliasesOn(i0);var uf={png:function(e){var r=this._private.renderer;return e=e||{},r.png(e)},jpg:function(e){var r=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",r.jpg(e)}};uf.jpeg=uf.jpg;var go={layout:function(e){var r=this;if(e==null){xt("Layout options must be specified to make a layout");return}if(e.name==null){xt("A `name` must be specified to make a layout");return}var n=e.name,a=r.extension("layout",n);if(a==null){xt("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var i;Ve(e.eles)?i=r.$(e.eles):i=e.eles!=null?e.eles:r.$();var s=new a(qe({},e,{cy:r,eles:i}));return s}};go.createLayout=go.makeLayout=go.layout;var kM={notify:function(e,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var a=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();r!=null&&a.merge(r);return}if(n.notificationsEnabled){var i=this.renderer();this.destroyed()||!i||i.notify(e,r)}},notifications:function(e){var r=this._private;return e===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var a=e.batchNotifications[n];a.empty()?r.notify(n):r.notify(n,a)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var r=this;return this.batch(function(){for(var n=Object.keys(e),a=0;a<n.length;a++){var i=n[a],s=e[i],o=r.getElementById(i);o.data(s)}})}},IM=Jt({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),cf={renderTo:function(e,r,n,a){var i=this._private.renderer;return i.renderTo(e,r,n,a),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var r=this,n=r.extension("renderer",e.name);if(n==null){xt("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&dt("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var a=IM(e);a.cy=r,r._private.renderer=new n(a),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var r=e.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var a=n._private;a.rscratch={},a.rstyle={},a.animation.current=[],a.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};cf.invalidateDimensions=cf.resize;var po={collection:function(e,r){return Ve(e)?this.$(e):Dr(e)?e.collection():pt(e)?(r||(r={}),new Qt(this,e,r.unique,r.removed)):new Qt(this)},nodes:function(e){var r=this.$(function(n){return n.isNode()});return e?r.filter(e):r},edges:function(e){var r=this.$(function(n){return n.isEdge()});return e?r.filter(e):r},$:function(e){var r=this._private.elements;return e?r.filter(e):r.spawnSelf()},mutableElements:function(){return this._private.elements}};po.elements=po.filter=po.$;var Xt={},Wi="t",FM="f";Xt.apply=function(t){for(var e=this,r=e._private,n=r.cy,a=n.collection(),i=0;i<t.length;i++){var s=t[i],o=e.getContextMeta(s);if(!o.empty){var l=e.getContextStyle(o),u=e.applyContextStyle(o,l,s);s._private.appliedInitStyle?e.updateTransitions(s,u.diffProps):s._private.appliedInitStyle=!0;var c=e.updateStyleHints(s);c&&a.push(s)}}return a};Xt.getPropertiesDiff=function(t,e){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},a=t+"-"+e,i=n[a];if(i)return i;for(var s=[],o={},l=0;l<r.length;l++){var u=r[l],c=t[l]===Wi,f=e[l]===Wi,h=c!==f,d=u.mappedProperties.length>0;if(h||f&&d){var v=void 0;h&&d||h?v=u.properties:d&&(v=u.mappedProperties);for(var g=0;g<v.length;g++){for(var p=v[g],m=p.name,b=!1,y=l+1;y<r.length;y++){var w=r[y],x=e[y]===Wi;if(x&&(b=w.properties[p.name]!=null,b))break}!o[m]&&!b&&(o[m]=!0,s.push(m))}}}return n[a]=s,s};Xt.getContextMeta=function(t){for(var e=this,r="",n,a=t._private.styleCxtKey||"",i=0;i<e.length;i++){var s=e[i],o=s.selector&&s.selector.matches(t);o?r+=Wi:r+=FM}return n=e.getPropertiesDiff(a,r),t._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};Xt.getContextStyle=function(t){var e=t.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var a={_private:{key:e}},i=0;i<r.length;i++){var s=r[i],o=e[i]===Wi;if(o)for(var l=0;l<s.properties.length;l++){var u=s.properties[l];a[u.name]=u}}return n[e]=a,a};Xt.applyContextStyle=function(t,e,r){for(var n=this,a=t.diffPropNames,i={},s=n.types,o=0;o<a.length;o++){var l=a[o],u=e[l],c=r.pstyle(l);if(!u)if(c)c.bypass?u={name:l,deleteBypassed:!0}:u={name:l,delete:!0};else continue;if(c!==u){if(u.mapped===s.fn&&c!=null&&c.mapping!=null&&c.mapping.value===u.value){var f=c.mapping,h=f.fnValue=u.value(r);if(h===f.prevFnValue)continue}var d=i[l]={prev:c};n.applyParsedProperty(r,u),d.next=r.pstyle(l),d.next&&d.next.bypass&&(d.next=d.next.bypassed)}}return{diffProps:i}};Xt.updateStyleHints=function(t){var e=t._private,r=this,n=r.propertyGroupNames,a=r.propertyGroupKeys,i=function(M,B,z){return r.getPropertiesHash(M,B,z)},s=e.styleKey;if(t.removed())return!1;var o=e.group==="nodes",l=t._private.style;n=Object.keys(l);for(var u=0;u<a.length;u++){var c=a[u];e.styleKeys[c]=[ga,Ha]}for(var f=function(M,B){return e.styleKeys[B][0]=ss(M,e.styleKeys[B][0])},h=function(M,B){return e.styleKeys[B][1]=os(M,e.styleKeys[B][1])},d=function(M,B){f(M,B),h(M,B)},v=function(M,B){for(var z=0;z<M.length;z++){var K=M.charCodeAt(z);f(K,B),h(K,B)}},g=2e9,p=function(M){return-128<M&&M<128&&Math.floor(M)!==M?g-(M*1024|0):M},m=0;m<n.length;m++){var b=n[m],y=l[b];if(y!=null){var w=this.properties[b],x=w.type,D=w.groupKey,C=void 0;w.hashOverride!=null?C=w.hashOverride(t,y):y.pfValue!=null&&(C=y.pfValue);var N=w.enums==null?y.value:null,k=C!=null,O=N!=null,F=k||O,S=y.units;if(x.number&&F&&!x.multiple){var P=k?C:N;d(p(P),D),!k&&S!=null&&v(S,D)}else v(y.strValue,D)}}for(var E=[ga,Ha],L=0;L<a.length;L++){var A=a[L],T=e.styleKeys[A];E[0]=ss(T[0],E[0]),E[1]=os(T[1],E[1])}e.styleKey=JA(E[0],E[1]);var R=e.styleKeys;e.labelDimsKey=Dn(R.labelDimensions);var W=i(t,["label"],R.labelDimensions);if(e.labelKey=Dn(W),e.labelStyleKey=Dn(Hs(R.commonLabel,W)),!o){var q=i(t,["source-label"],R.labelDimensions);e.sourceLabelKey=Dn(q),e.sourceLabelStyleKey=Dn(Hs(R.commonLabel,q));var G=i(t,["target-label"],R.labelDimensions);e.targetLabelKey=Dn(G),e.targetLabelStyleKey=Dn(Hs(R.commonLabel,G))}if(o){var $=e.styleKeys,Q=$.nodeBody,oe=$.nodeBorder,ie=$.nodeOutline,ae=$.backgroundImage,Y=$.compound,re=$.pie,U=$.stripe,V=[Q,oe,ie,ae,Y,re,U].filter(function(X){return X!=null}).reduce(Hs,[ga,Ha]);e.nodeKey=Dn(V),e.hasPie=re!=null&&re[0]!==ga&&re[1]!==Ha,e.hasStripe=U!=null&&U[0]!==ga&&U[1]!==Ha}return s!==e.styleKey};Xt.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null,e.hasStripe=null};Xt.applyParsedProperty=function(t,e){var r=this,n=e,a=t._private.style,i,s=r.types,o=r.properties[n.name].type,l=n.bypass,u=a[n.name],c=u&&u.bypass,f=t._private,h="mapping",d=function(Q){return Q==null?null:Q.pfValue!=null?Q.pfValue:Q.value},v=function(){var Q=d(u),oe=d(n);r.checkTriggers(t,n.name,Q,oe)};if(e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(n=e=this.parse(e.name,"bezier",l)),n.delete)return a[n.name]=void 0,v(),!0;if(n.deleteBypassed)return u?u.bypass?(u.bypassed=void 0,v(),!0):!1:(v(),!0);if(n.deleteBypass)return u?u.bypass?(a[n.name]=u.bypassed,v(),!0):!1:(v(),!0);var g=function(){dt("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case s.mapData:{for(var p=n.field.split("."),m=f.data,b=0;b<p.length&&m;b++){var y=p[b];m=m[y]}if(m==null)return g(),!1;var w;if(Ne(m)){var x=n.fieldMax-n.fieldMin;x===0?w=0:w=(m-n.fieldMin)/x}else return dt("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+m+"` for `"+t.id()+"` is non-numeric)"),!1;if(w<0?w=0:w>1&&(w=1),o.color){var D=n.valueMin[0],C=n.valueMax[0],N=n.valueMin[1],k=n.valueMax[1],O=n.valueMin[2],F=n.valueMax[2],S=n.valueMin[3]==null?1:n.valueMin[3],P=n.valueMax[3]==null?1:n.valueMax[3],E=[Math.round(D+(C-D)*w),Math.round(N+(k-N)*w),Math.round(O+(F-O)*w),Math.round(S+(P-S)*w)];i={bypass:n.bypass,name:n.name,value:E,strValue:"rgb("+E[0]+", "+E[1]+", "+E[2]+")"}}else if(o.number){var L=n.valueMin+(n.valueMax-n.valueMin)*w;i=this.parse(n.name,L,n.bypass,h)}else return!1;if(!i)return g(),!1;i.mapping=n,n=i;break}case s.data:{for(var A=n.field.split("."),T=f.data,R=0;R<A.length&&T;R++){var W=A[R];T=T[W]}if(T!=null&&(i=this.parse(n.name,T,n.bypass,h)),!i)return g(),!1;i.mapping=n,n=i;break}case s.fn:{var q=n.value,G=n.fnValue!=null?n.fnValue:q(t);if(n.prevFnValue=G,G==null)return dt("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+t.id()+"` is null)"),!1;if(i=this.parse(n.name,G,n.bypass,h),!i)return dt("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+t.id()+"` is invalid)"),!1;i.mapping=jr(n),n=i;break}case void 0:break;default:return!1}return l?(c?n.bypassed=u.bypassed:n.bypassed=u,a[n.name]=n):c?u.bypassed=n:a[n.name]=n,v(),!0};Xt.cleanElements=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var a=n._private.style,i=Object.keys(a),s=0;s<i.length;s++){var o=i[s],l=a[o];l!=null&&(l.bypass?l.bypassed=null:a[o]=null)}}};Xt.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};Xt.updateTransitions=function(t,e){var r=this,n=t._private,a=t.pstyle("transition-property").value,i=t.pstyle("transition-duration").pfValue,s=t.pstyle("transition-delay").pfValue;if(a.length>0&&i>0){for(var o={},l=!1,u=0;u<a.length;u++){var c=a[u],f=t.pstyle(c),h=e[c];if(h){var d=h.prev,v=d,g=h.next!=null?h.next:f,p=!1,m=void 0,b=1e-6;v&&(Ne(v.pfValue)&&Ne(g.pfValue)?(p=g.pfValue-v.pfValue,m=v.pfValue+b*p):Ne(v.value)&&Ne(g.value)?(p=g.value-v.value,m=v.value+b*p):pt(v.value)&&pt(g.value)&&(p=v.value[0]!==g.value[0]||v.value[1]!==g.value[1]||v.value[2]!==g.value[2],m=v.strValue),p&&(o[c]=g.strValue,this.applyBypass(t,c,m),l=!0))}}if(!l)return;n.transitioning=!0,new hi(function(y){s>0?t.delayAnimation(s).play().promise().then(y):y()}).then(function(){return t.animation({style:o,duration:i,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,a),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,a),t.emitAndNotify("style"),n.transitioning=!1)};Xt.checkTrigger=function(t,e,r,n,a,i){var s=this.properties[e],o=a(s);t.removed()||o!=null&&o(r,n,t)&&i(s)};Xt.checkZOrderTrigger=function(t,e,r,n){var a=this;this.checkTrigger(t,e,r,n,function(i){return i.triggersZOrder},function(){a._private.cy.notify("zorder",t)})};Xt.checkBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(a){return a.triggersBounds},function(a){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache()})};Xt.checkConnectedEdgesBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(a){return a.triggersBoundsOfConnectedEdges},function(a){t.connectedEdges().forEach(function(i){i.dirtyBoundingBoxCache()})})};Xt.checkParallelEdgesBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(a){return a.triggersBoundsOfParallelEdges},function(a){t.parallelEdges().forEach(function(i){i.dirtyBoundingBoxCache()})})};Xt.checkTriggers=function(t,e,r,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,n),this.checkBoundsTrigger(t,e,r,n),this.checkConnectedEdgesBoundsTrigger(t,e,r,n),this.checkParallelEdgesBoundsTrigger(t,e,r,n)};var Ms={};Ms.applyBypass=function(t,e,r,n){var a=this,i=[],s=!0;if(e==="*"||e==="**"){if(r!==void 0)for(var o=0;o<a.properties.length;o++){var l=a.properties[o],u=l.name,c=this.parse(u,r,!0);c&&i.push(c)}}else if(Ve(e)){var f=this.parse(e,r,!0);f&&i.push(f)}else if(tt(e)){var h=e;n=r;for(var d=Object.keys(h),v=0;v<d.length;v++){var g=d[v],p=h[g];if(p===void 0&&(p=h[ml(g)]),p!==void 0){var m=this.parse(g,p,!0);m&&i.push(m)}}}else return!1;if(i.length===0)return!1;for(var b=!1,y=0;y<t.length;y++){for(var w=t[y],x={},D=void 0,C=0;C<i.length;C++){var N=i[C];if(n){var k=w.pstyle(N.name);D=x[N.name]={prev:k}}b=this.applyParsedProperty(w,jr(N))||b,n&&(D.next=w.pstyle(N.name))}b&&this.updateStyleHints(w),n&&this.updateTransitions(w,x,s)}return b};Ms.overrideBypass=function(t,e,r){e=Gf(e);for(var n=0;n<t.length;n++){var a=t[n],i=a._private.style[e],s=this.properties[e].type,o=s.color,l=s.mutiple,u=i?i.pfValue!=null?i.pfValue:i.value:null;!i||!i.bypass?this.applyBypass(a,e,r):(i.value=r,i.pfValue!=null&&(i.pfValue=r),o?i.strValue="rgb("+r.join(",")+")":l?i.strValue=r.join(" "):i.strValue=""+r,this.updateStyleHints(a)),this.checkTriggers(a,e,u,r)}};Ms.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};Ms.removeBypasses=function(t,e,r){for(var n=!0,a=0;a<t.length;a++){for(var i=t[a],s={},o=0;o<e.length;o++){var l=e[o],u=this.properties[l],c=i.pstyle(u.name);if(!(!c||!c.bypass)){var f="",h=this.parse(l,f,!0),d=s[u.name]={prev:c};this.applyParsedProperty(i,h),d.next=i.pstyle(u.name)}}this.updateStyleHints(i),r&&this.updateTransitions(i,s,n)}};var ad={};ad.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};ad.containerCss=function(t){var e=this._private.cy,r=e.container(),n=e.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(t)};var tn={};tn.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};tn.getRawStyle=function(t,e){var r=this;if(t=t[0],t){for(var n={},a=0;a<r.properties.length;a++){var i=r.properties[a],s=r.getStylePropertyValue(t,i.name,e);s!=null&&(n[i.name]=s,n[ml(i.name)]=s)}return n}};tn.getIndexedStyle=function(t,e,r,n){var a=t.pstyle(e)[r][n];return a??t.cy().style().getDefaultProperty(e)[r][0]};tn.getStylePropertyValue=function(t,e,r){var n=this;if(t=t[0],t){var a=n.properties[e];a.alias&&(a=a.pointsTo);var i=a.type,s=t.pstyle(a.name);if(s){var o=s.value,l=s.units,u=s.strValue;if(r&&i.number&&o!=null&&Ne(o)){var c=t.cy().zoom(),f=function(p){return p*c},h=function(p,m){return f(p)+m},d=pt(o),v=d?l.every(function(g){return g!=null}):l!=null;return v?d?o.map(function(g,p){return h(g,l[p])}).join(" "):h(o,l):d?o.map(function(g){return Ve(g)?g:""+f(g)}).join(" "):""+f(o)}else if(u!=null)return u}return null}};tn.getAnimationStartStyle=function(t,e){for(var r={},n=0;n<e.length;n++){var a=e[n],i=a.name,s=t.pstyle(i);s!==void 0&&(tt(s)?s=this.parse(i,s.strValue):s=this.parse(i,s)),s&&(r[i]=s)}return r};tn.getPropsList=function(t){var e=this,r=[],n=t,a=e.properties;if(n)for(var i=Object.keys(n),s=0;s<i.length;s++){var o=i[s],l=n[o],u=a[o]||a[Gf(o)],c=this.parse(u.name,l);c&&r.push(c)}return r};tn.getNonDefaultPropertiesHash=function(t,e,r){var n=r.slice(),a,i,s,o,l,u;for(l=0;l<e.length;l++)if(a=e[l],i=t.pstyle(a,!1),i!=null)if(i.pfValue!=null)n[0]=ss(o,n[0]),n[1]=os(o,n[1]);else for(s=i.strValue,u=0;u<s.length;u++)o=s.charCodeAt(u),n[0]=ss(o,n[0]),n[1]=os(o,n[1]);return n};tn.getPropertiesHash=tn.getNonDefaultPropertiesHash;var Ml={};Ml.appendFromJson=function(t){for(var e=this,r=0;r<t.length;r++){var n=t[r],a=n.selector,i=n.style||n.css,s=Object.keys(i);e.selector(a);for(var o=0;o<s.length;o++){var l=s[o],u=i[l];e.css(l,u)}}return e};Ml.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};Ml.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],n=r.selector,a=r.properties,i={},s=0;s<a.length;s++){var o=a[s];i[o.name]=o.strValue}t.push({selector:n?n.toString():"core",style:i})}return t};var id={};id.appendFromString=function(t){var e=this,r=this,n=""+t,a,i,s;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function o(){n.length>a.length?n=n.substr(a.length):n=""}function l(){i.length>s.length?i=i.substr(s.length):i=""}for(;;){var u=n.match(/^\s*$/);if(u)break;var c=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!c){dt("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}a=c[0];var f=c[1];if(f!=="core"){var h=new Yn(f);if(h.invalid){dt("Skipping parsing of block: Invalid selector found in string stylesheet: "+f),o();continue}}var d=c[2],v=!1;i=d;for(var g=[];;){var p=i.match(/^\s*$/);if(p)break;var m=i.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!m){dt("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+d),v=!0;break}s=m[0];var b=m[1],y=m[2],w=e.properties[b];if(!w){dt("Skipping property: Invalid property name in: "+s),l();continue}var x=r.parse(b,y);if(!x){dt("Skipping property: Invalid property definition in: "+s),l();continue}g.push({name:b,val:y}),l()}if(v){o();break}r.selector(f);for(var D=0;D<g.length;D++){var C=g[D];r.css(C.name,C.val)}o()}return r};id.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var It={};(function(){var t=Ut,e=MA,r=NA,n=OA,a=kA,i=function(X){return"^"+X+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},s=function(X){var M=t+"|\\w+|"+e+"|"+r+"|"+n+"|"+a;return"^"+X+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+M+")\\s*\\,\\s*("+M+")\\)$"},o=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];It.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},boxSelection:{enums:["contain","overlap","none"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle","circle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:i("data")},layoutData:{mapping:!0,regex:i("layoutData")},scratch:{mapping:!0,regex:i("scratch")},mapData:{mapping:!0,regex:s("mapData")},mapLayoutData:{mapping:!0,regex:s("mapLayoutData")},mapScratch:{mapping:!0,regex:s("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:o,singleRegexMatchValue:!0},urls:{regexes:o,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(X,M){switch(X.length){case 2:return M[0]!=="deg"&&M[0]!=="rad"&&M[1]!=="deg"&&M[1]!=="rad";case 1:return Ve(X[0])||M[0]==="deg"||M[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(X){var M=X.length;return M===1||M===2||M===4}}};var l={zeroNonZero:function(X,M){return(X==null||M==null)&&X!==M||X==0&&M!=0?!0:X!=0&&M==0},any:function(X,M){return X!=M},emptyNonEmpty:function(X,M){var B=Gn(X),z=Gn(M);return B&&!z||!B&&z}},u=It.types,c=[{name:"label",type:u.text,triggersBounds:l.any,triggersZOrder:l.emptyNonEmpty},{name:"text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any}],f=[{name:"source-label",type:u.text,triggersBounds:l.any},{name:"source-text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"source-text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"source-text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"source-text-offset",type:u.size,triggersBounds:l.any}],h=[{name:"target-label",type:u.text,triggersBounds:l.any},{name:"target-text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"target-text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"target-text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"target-text-offset",type:u.size,triggersBounds:l.any}],d=[{name:"font-family",type:u.fontFamily,triggersBounds:l.any},{name:"font-style",type:u.fontStyle,triggersBounds:l.any},{name:"font-weight",type:u.fontWeight,triggersBounds:l.any},{name:"font-size",type:u.size,triggersBounds:l.any},{name:"text-transform",type:u.textTransform,triggersBounds:l.any},{name:"text-wrap",type:u.textWrap,triggersBounds:l.any},{name:"text-overflow-wrap",type:u.textOverflowWrap,triggersBounds:l.any},{name:"text-max-width",type:u.size,triggersBounds:l.any},{name:"text-outline-width",type:u.size,triggersBounds:l.any},{name:"line-height",type:u.positiveNumber,triggersBounds:l.any}],v=[{name:"text-valign",type:u.valign,triggersBounds:l.any},{name:"text-halign",type:u.halign,triggersBounds:l.any},{name:"color",type:u.color},{name:"text-outline-color",type:u.color},{name:"text-outline-opacity",type:u.zeroOneNumber},{name:"text-background-color",type:u.color},{name:"text-background-opacity",type:u.zeroOneNumber},{name:"text-background-padding",type:u.size,triggersBounds:l.any},{name:"text-border-opacity",type:u.zeroOneNumber},{name:"text-border-color",type:u.color},{name:"text-border-width",type:u.size,triggersBounds:l.any},{name:"text-border-style",type:u.borderStyle,triggersBounds:l.any},{name:"text-background-shape",type:u.textBackgroundShape,triggersBounds:l.any},{name:"text-justification",type:u.justification},{name:"box-select-labels",type:u.bool,triggersBounds:l.any}],g=[{name:"events",type:u.bool,triggersZOrder:l.any},{name:"text-events",type:u.bool,triggersZOrder:l.any},{name:"box-selection",type:u.boxSelection,triggersZOrder:l.any}],p=[{name:"display",type:u.display,triggersZOrder:l.any,triggersBounds:l.any,triggersBoundsOfConnectedEdges:l.any,triggersBoundsOfParallelEdges:function(X,M,B){return X===M?!1:B.pstyle("curve-style").value==="bezier"}},{name:"visibility",type:u.visibility,triggersZOrder:l.any},{name:"opacity",type:u.zeroOneNumber,triggersZOrder:l.zeroNonZero},{name:"text-opacity",type:u.zeroOneNumber},{name:"min-zoomed-font-size",type:u.size},{name:"z-compound-depth",type:u.zCompoundDepth,triggersZOrder:l.any},{name:"z-index-compare",type:u.zIndexCompare,triggersZOrder:l.any},{name:"z-index",type:u.number,triggersZOrder:l.any}],m=[{name:"overlay-padding",type:u.size,triggersBounds:l.any},{name:"overlay-color",type:u.color},{name:"overlay-opacity",type:u.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"overlay-shape",type:u.overlayShape,triggersBounds:l.any},{name:"overlay-corner-radius",type:u.cornerRadius}],b=[{name:"underlay-padding",type:u.size,triggersBounds:l.any},{name:"underlay-color",type:u.color},{name:"underlay-opacity",type:u.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"underlay-shape",type:u.overlayShape,triggersBounds:l.any},{name:"underlay-corner-radius",type:u.cornerRadius}],y=[{name:"transition-property",type:u.propList},{name:"transition-duration",type:u.time},{name:"transition-delay",type:u.time},{name:"transition-timing-function",type:u.easing}],w=function(X,M){return M.value==="label"?-X.poolIndex():M.pfValue},x=[{name:"height",type:u.nodeSize,triggersBounds:l.any,hashOverride:w},{name:"width",type:u.nodeSize,triggersBounds:l.any,hashOverride:w},{name:"shape",type:u.nodeShape,triggersBounds:l.any},{name:"shape-polygon-points",type:u.polygonPointList,triggersBounds:l.any},{name:"corner-radius",type:u.cornerRadius},{name:"background-color",type:u.color},{name:"background-fill",type:u.fill},{name:"background-opacity",type:u.zeroOneNumber},{name:"background-blacken",type:u.nOneOneNumber},{name:"background-gradient-stop-colors",type:u.colors},{name:"background-gradient-stop-positions",type:u.percentages},{name:"background-gradient-direction",type:u.gradientDirection},{name:"padding",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"padding-relative-to",type:u.paddingRelativeTo,triggersBounds:l.any},{name:"bounds-expansion",type:u.boundsExpansion,triggersBounds:l.any}],D=[{name:"border-color",type:u.color},{name:"border-opacity",type:u.zeroOneNumber},{name:"border-width",type:u.size,triggersBounds:l.any},{name:"border-style",type:u.borderStyle},{name:"border-cap",type:u.lineCap},{name:"border-join",type:u.lineJoin},{name:"border-dash-pattern",type:u.numbers},{name:"border-dash-offset",type:u.number},{name:"border-position",type:u.linePosition}],C=[{name:"outline-color",type:u.color},{name:"outline-opacity",type:u.zeroOneNumber},{name:"outline-width",type:u.size,triggersBounds:l.any},{name:"outline-style",type:u.borderStyle},{name:"outline-offset",type:u.size,triggersBounds:l.any}],N=[{name:"background-image",type:u.urls},{name:"background-image-crossorigin",type:u.bgCrossOrigin},{name:"background-image-opacity",type:u.zeroOneNumbers},{name:"background-image-containment",type:u.bgContainment},{name:"background-image-smoothing",type:u.bools},{name:"background-position-x",type:u.bgPos},{name:"background-position-y",type:u.bgPos},{name:"background-width-relative-to",type:u.bgRelativeTo},{name:"background-height-relative-to",type:u.bgRelativeTo},{name:"background-repeat",type:u.bgRepeat},{name:"background-fit",type:u.bgFit},{name:"background-clip",type:u.bgClip},{name:"background-width",type:u.bgWH},{name:"background-height",type:u.bgWH},{name:"background-offset-x",type:u.bgPos},{name:"background-offset-y",type:u.bgPos}],k=[{name:"position",type:u.position,triggersBounds:l.any},{name:"compound-sizing-wrt-labels",type:u.compoundIncludeLabels,triggersBounds:l.any},{name:"min-width",type:u.size,triggersBounds:l.any},{name:"min-width-bias-left",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-width-bias-right",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-height",type:u.size,triggersBounds:l.any},{name:"min-height-bias-top",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-height-bias-bottom",type:u.sizeMaybePercent,triggersBounds:l.any}],O=[{name:"line-style",type:u.lineStyle},{name:"line-color",type:u.color},{name:"line-fill",type:u.fill},{name:"line-cap",type:u.lineCap},{name:"line-opacity",type:u.zeroOneNumber},{name:"line-dash-pattern",type:u.numbers},{name:"line-dash-offset",type:u.number},{name:"line-outline-width",type:u.size},{name:"line-outline-color",type:u.color},{name:"line-gradient-stop-colors",type:u.colors},{name:"line-gradient-stop-positions",type:u.percentages},{name:"curve-style",type:u.curveStyle,triggersBounds:l.any,triggersBoundsOfParallelEdges:function(X,M){return X===M?!1:X==="bezier"||M==="bezier"}},{name:"haystack-radius",type:u.zeroOneNumber,triggersBounds:l.any},{name:"source-endpoint",type:u.edgeEndpoint,triggersBounds:l.any},{name:"target-endpoint",type:u.edgeEndpoint,triggersBounds:l.any},{name:"control-point-step-size",type:u.size,triggersBounds:l.any},{name:"control-point-distances",type:u.bidirectionalSizes,triggersBounds:l.any},{name:"control-point-weights",type:u.numbers,triggersBounds:l.any},{name:"segment-distances",type:u.bidirectionalSizes,triggersBounds:l.any},{name:"segment-weights",type:u.numbers,triggersBounds:l.any},{name:"segment-radii",type:u.numbers,triggersBounds:l.any},{name:"radius-type",type:u.radiusType,triggersBounds:l.any},{name:"taxi-turn",type:u.bidirectionalSizeMaybePercent,triggersBounds:l.any},{name:"taxi-turn-min-distance",type:u.size,triggersBounds:l.any},{name:"taxi-direction",type:u.axisDirection,triggersBounds:l.any},{name:"taxi-radius",type:u.number,triggersBounds:l.any},{name:"edge-distances",type:u.edgeDistances,triggersBounds:l.any},{name:"arrow-scale",type:u.positiveNumber,triggersBounds:l.any},{name:"loop-direction",type:u.angle,triggersBounds:l.any},{name:"loop-sweep",type:u.angle,triggersBounds:l.any},{name:"source-distance-from-node",type:u.size,triggersBounds:l.any},{name:"target-distance-from-node",type:u.size,triggersBounds:l.any}],F=[{name:"ghost",type:u.bool,triggersBounds:l.any},{name:"ghost-offset-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"ghost-offset-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"ghost-opacity",type:u.zeroOneNumber}],S=[{name:"selection-box-color",type:u.color},{name:"selection-box-opacity",type:u.zeroOneNumber},{name:"selection-box-border-color",type:u.color},{name:"selection-box-border-width",type:u.size},{name:"active-bg-color",type:u.color},{name:"active-bg-opacity",type:u.zeroOneNumber},{name:"active-bg-size",type:u.size},{name:"outside-texture-bg-color",type:u.color},{name:"outside-texture-bg-opacity",type:u.zeroOneNumber}],P=[];It.pieBackgroundN=16,P.push({name:"pie-size",type:u.sizeMaybePercent}),P.push({name:"pie-hole",type:u.sizeMaybePercent}),P.push({name:"pie-start-angle",type:u.angle});for(var E=1;E<=It.pieBackgroundN;E++)P.push({name:"pie-"+E+"-background-color",type:u.color}),P.push({name:"pie-"+E+"-background-size",type:u.percent}),P.push({name:"pie-"+E+"-background-opacity",type:u.zeroOneNumber});var L=[];It.stripeBackgroundN=16,L.push({name:"stripe-size",type:u.sizeMaybePercent}),L.push({name:"stripe-direction",type:u.axisDirectionPrimary});for(var A=1;A<=It.stripeBackgroundN;A++)L.push({name:"stripe-"+A+"-background-color",type:u.color}),L.push({name:"stripe-"+A+"-background-size",type:u.percent}),L.push({name:"stripe-"+A+"-background-opacity",type:u.zeroOneNumber});var T=[],R=It.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:u.arrowShape,triggersBounds:l.any},{name:"arrow-color",type:u.color},{name:"arrow-fill",type:u.arrowFill},{name:"arrow-width",type:u.arrowWidth}].forEach(function(V){R.forEach(function(X){var M=X+"-"+V.name,B=V.type,z=V.triggersBounds;T.push({name:M,type:B,triggersBounds:z})})},{});var W=It.properties=[].concat(g,y,p,m,b,F,v,d,c,f,h,x,D,C,N,P,L,k,O,T,S),q=It.propertyGroups={behavior:g,transition:y,visibility:p,overlay:m,underlay:b,ghost:F,commonLabel:v,labelDimensions:d,mainLabel:c,sourceLabel:f,targetLabel:h,nodeBody:x,nodeBorder:D,nodeOutline:C,backgroundImage:N,pie:P,stripe:L,compound:k,edgeLine:O,edgeArrow:T,core:S},G=It.propertyGroupNames={},$=It.propertyGroupKeys=Object.keys(q);$.forEach(function(V){G[V]=q[V].map(function(X){return X.name}),q[V].forEach(function(X){return X.groupKey=V})});var Q=It.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];It.propertyNames=W.map(function(V){return V.name});for(var oe=0;oe<W.length;oe++){var ie=W[oe];W[ie.name]=ie}for(var ae=0;ae<Q.length;ae++){var Y=Q[ae],re=W[Y.pointsTo],U={name:Y.name,alias:!0,pointsTo:re};W.push(U),W[Y.name]=U}})();It.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};It.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=qe({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","box-selection":"contain","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(l,u){for(var c=1;c<=It.pieBackgroundN;c++){var f=u.name.replace("{{i}}",c),h=u.value;l[f]=h}return l},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(l,u){for(var c=1;c<=It.stripeBackgroundN;c++){var f=u.name.replace("{{i}}",c),h=u.value;l[f]=h}return l},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(l,u){return It.arrowPrefixes.forEach(function(c){var f=c+"-"+u.name,h=u.value;l[f]=h}),l},{})),r={},n=0;n<this.properties.length;n++){var a=this.properties[n];if(!a.pointsTo){var i=a.name,s=e[i],o=this.parse(i,s);r[i]=o}}return t.defaultProperties=r,t.defaultProperties};It.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Pl={};Pl.parse=function(t,e,r,n){var a=this;if(At(e))return a.parseImplWarn(t,e,r,n);var i=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,s=r?"t":"f",o=""+e,l=gy(t,o,s,i),u=a.propCache=a.propCache||[],c;return(c=u[l])||(c=u[l]=a.parseImplWarn(t,e,r,n)),(r||n==="mapping")&&(c=jr(c),c&&(c.value=jr(c.value))),c};Pl.parseImplWarn=function(t,e,r,n){var a=this.parseImpl(t,e,r,n);return!a&&e!=null&&dt("The style property `".concat(t,": ").concat(e,"` is invalid")),a&&(a.name==="width"||a.name==="height")&&e==="label"&&dt("The style value of `label` is deprecated for `"+a.name+"`"),a};Pl.parseImpl=function(t,e,r,n){var a=this;t=Gf(t);var i=a.properties[t],s=e,o=a.types;if(!i||e===void 0)return null;i.alias&&(i=i.pointsTo,t=i.name);var l=Ve(e);l&&(e=e.trim());var u=i.type;if(!u)return null;if(r&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(At(e))return{name:t,value:e,strValue:"fn",mapped:o.fn,bypass:r};var c,f;if(!(!l||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(c=new RegExp(o.data.regex).exec(e))){if(r)return!1;var h=o.data;return{name:t,value:c,strValue:""+e,mapped:h,field:c[1],bypass:r}}else if(e.length>=10&&e[0]==="m"&&(f=new RegExp(o.mapData.regex).exec(e))){if(r||u.multiple)return!1;var d=o.mapData;if(!(u.color||u.number))return!1;var v=this.parse(t,f[4]);if(!v||v.mapped)return!1;var g=this.parse(t,f[5]);if(!g||g.mapped)return!1;if(v.pfValue===g.pfValue||v.strValue===g.strValue)return dt("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+v.strValue+"`"),this.parse(t,v.strValue);if(u.color){var p=v.value,m=g.value,b=p[0]===m[0]&&p[1]===m[1]&&p[2]===m[2]&&(p[3]===m[3]||(p[3]==null||p[3]===1)&&(m[3]==null||m[3]===1));if(b)return!1}return{name:t,value:f,strValue:""+e,mapped:d,field:f[1],fieldMin:parseFloat(f[2]),fieldMax:parseFloat(f[3]),valueMin:v.value,valueMax:g.value,bypass:r}}}if(u.multiple&&n!=="multiple"){var y;if(l?y=e.split(/\s+/):pt(e)?y=e:y=[e],u.evenMultiple&&y.length%2!==0)return null;for(var w=[],x=[],D=[],C="",N=!1,k=0;k<y.length;k++){var O=a.parse(t,y[k],r,"multiple");N=N||Ve(O.value),w.push(O.value),D.push(O.pfValue!=null?O.pfValue:O.value),x.push(O.units),C+=(k>0?" ":"")+O.strValue}return u.validate&&!u.validate(w,x)?null:u.singleEnum&&N?w.length===1&&Ve(w[0])?{name:t,value:w[0],strValue:w[0],bypass:r}:null:{name:t,value:w,pfValue:D,strValue:C,bypass:r,units:x}}var F=function(){for(var U=0;U<u.enums.length;U++){var V=u.enums[U];if(V===e)return{name:t,value:e,strValue:""+e,bypass:r}}return null};if(u.number){var S,P="px";if(u.units&&(S=u.units),u.implicitUnits&&(P=u.implicitUnits),!u.unitless)if(l){var E="px|em"+(u.allowPercent?"|\\%":"");S&&(E=S);var L=e.match("^("+Ut+")("+E+")?$");L&&(e=L[1],S=L[2]||P)}else(!S||u.implicitUnits)&&(S=P);if(e=parseFloat(e),isNaN(e)&&u.enums===void 0)return null;if(isNaN(e)&&u.enums!==void 0)return e=s,F();if(u.integer&&!CA(e)||u.min!==void 0&&(e<u.min||u.strictMin&&e===u.min)||u.max!==void 0&&(e>u.max||u.strictMax&&e===u.max))return null;var A={name:t,value:e,strValue:""+e+(S||""),units:S,bypass:r};return u.unitless||S!=="px"&&S!=="em"?A.pfValue=e:A.pfValue=S==="px"||!S?e:this.getEmSizeInPixels()*e,(S==="ms"||S==="s")&&(A.pfValue=S==="ms"?e:1e3*e),(S==="deg"||S==="rad")&&(A.pfValue=S==="rad"?e:OD(e)),S==="%"&&(A.pfValue=e/100),A}else if(u.propList){var T=[],R=""+e;if(R!=="none"){for(var W=R.split(/\s*,\s*|\s+/),q=0;q<W.length;q++){var G=W[q].trim();a.properties[G]?T.push(G):dt("`"+G+"` is not a valid property name")}if(T.length===0)return null}return{name:t,value:T,strValue:T.length===0?"none":T.join(" "),bypass:r}}else if(u.color){var $=ly(e);return $?{name:t,value:$,pfValue:$,strValue:"rgb("+$[0]+","+$[1]+","+$[2]+")",bypass:r}:null}else if(u.regex||u.regexes){if(u.enums){var Q=F();if(Q)return Q}for(var oe=u.regexes?u.regexes:[u.regex],ie=0;ie<oe.length;ie++){var ae=new RegExp(oe[ie]),Y=ae.exec(e);if(Y)return{name:t,value:u.singleRegexMatchValue?Y[1]:Y,strValue:""+e,bypass:r}}return null}else return u.string?{name:t,value:""+e,strValue:""+e,bypass:r}:u.enums?F():null};var Wt=function(e){if(!(this instanceof Wt))return new Wt(e);if(!Hf(e)){xt("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},sr=Wt.prototype;sr.instanceString=function(){return"style"};sr.clear=function(){for(var t=this._private,e=t.cy,r=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(r,!0),r.forEach(function(a){var i=a[0]._private;i.styleDirty=!0,i.appliedInitStyle=!1}),this};sr.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};sr.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};sr.selector=function(t){var e=t==="core"?null:new Yn(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this};sr.css=function(){var t=this,e=arguments;if(e.length===1)for(var r=e[0],n=0;n<t.properties.length;n++){var a=t.properties[n],i=r[a.name];i===void 0&&(i=r[ml(a.name)]),i!==void 0&&this.cssRule(a.name,i)}else e.length===2&&this.cssRule(e[0],e[1]);return this};sr.style=sr.css;sr.cssRule=function(t,e){var r=this.parse(t,e);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.name.match(/stripe-(\d+)-background-size/)&&r.value&&(this._private.hasStripe=!0),r.mapped&&this[n].mappedProperties.push(r);var a=!this[n].selector;a&&(this._private.coreStyle[r.name]=r)}return this};sr.append=function(t){return iy(t)?t.appendToStyle(this):pt(t)?this.appendFromJson(t):Ve(t)&&this.appendFromString(t),this};Wt.fromJson=function(t,e){var r=new Wt(t);return r.fromJson(e),r};Wt.fromString=function(t,e){return new Wt(t).fromString(e)};[Xt,Ms,ad,tn,Ml,id,It,Pl].forEach(function(t){qe(sr,t)});Wt.types=sr.types;Wt.properties=sr.properties;Wt.propertyGroups=sr.propertyGroups;Wt.propertyGroupNames=sr.propertyGroupNames;Wt.propertyGroupKeys=sr.propertyGroupKeys;var BM={style:function(e){if(e){var r=this.setStyle(e);r.update()}return this._private.style},setStyle:function(e){var r=this._private;return iy(e)?r.style=e.generateStyle(this):pt(e)?r.style=Wt.fromJson(this,e):Ve(e)?r.style=Wt.fromString(this,e):r.style=Wt(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},_M="single",Aa={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var r=this._private;if(r.selectionType==null&&(r.selectionType=_M),e!==void 0)(e==="additive"||e==="single")&&(r.selectionType=e);else return r.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,r=this._private.pan,n,a,i,s,o;switch(e.length){case 0:return r;case 1:if(Ve(e[0]))return n=e[0],r[n];if(tt(e[0])){if(!this._private.panningEnabled)return this;i=e[0],s=i.x,o=i.y,Ne(s)&&(r.x=s),Ne(o)&&(r.y=o),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],a=e[1],(n==="x"||n==="y")&&Ne(a)&&(r[n]=a),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,r){var n=arguments,a=this._private.pan,i,s,o,l,u;if(!this._private.panningEnabled)return this;switch(n.length){case 1:tt(e)&&(o=n[0],l=o.x,u=o.y,Ne(l)&&(a.x+=l),Ne(u)&&(a.y+=u),this.emit("pan viewport"));break;case 2:i=e,s=r,(i==="x"||i==="y")&&Ne(s)&&(a[i]+=s),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(e,r){var n=this.getFitViewport(e,r);if(n){var a=this._private;a.zoom=n.zoom,a.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,r){if(Ne(e)&&r===void 0&&(r=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(Ve(e)){var a=e;e=this.$(a)}else if(AA(e)){var i=e;n={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else Dr(e)||(e=this.mutableElements());if(!(Dr(e)&&e.empty())){n=n||e.boundingBox();var s=this.width(),o=this.height(),l;if(r=Ne(r)?r:0,!isNaN(s)&&!isNaN(o)&&s>0&&o>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){l=Math.min((s-2*r)/n.w,(o-2*r)/n.h),l=l>this._private.maxZoom?this._private.maxZoom:l,l=l<this._private.minZoom?this._private.minZoom:l;var u={x:(s-l*(n.x1+n.x2))/2,y:(o-l*(n.y1+n.y2))/2};return{zoom:l,pan:u}}}}},zoomRange:function(e,r){var n=this._private;if(r==null){var a=e;e=a.min,r=a.max}return Ne(e)&&Ne(r)&&e<=r?(n.minZoom=e,n.maxZoom=r):Ne(e)&&r===void 0&&e<=n.maxZoom?n.minZoom=e:Ne(r)&&e===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var r=this._private,n=r.pan,a=r.zoom,i,s,o=!1;if(r.zoomingEnabled||(o=!0),Ne(e)?s=e:tt(e)&&(s=e.level,e.position!=null?i=wl(e.position,a,n):e.renderedPosition!=null&&(i=e.renderedPosition),i!=null&&!r.panningEnabled&&(o=!0)),s=s>r.maxZoom?r.maxZoom:s,s=s<r.minZoom?r.minZoom:s,o||!Ne(s)||s===a||i!=null&&(!Ne(i.x)||!Ne(i.y)))return null;if(i!=null){var l=n,u=a,c=s,f={x:-c/u*(i.x-l.x)+i.x,y:-c/u*(i.y-l.y)+i.y};return{zoomed:!0,panned:!0,zoom:c,pan:f}}else return{zoomed:!0,panned:!1,zoom:s,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var r=this.getZoomedViewport(e),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var r=this._private,n=!0,a=!0,i=[],s=!1,o=!1;if(!e)return this;if(Ne(e.zoom)||(n=!1),tt(e.pan)||(a=!1),!n&&!a)return this;if(n){var l=e.zoom;l<r.minZoom||l>r.maxZoom||!r.zoomingEnabled?s=!0:(r.zoom=l,i.push("zoom"))}if(a&&(!s||!e.cancelOnFailedZoom)&&r.panningEnabled){var u=e.pan;Ne(u.x)&&(r.pan.x=u.x,o=!1),Ne(u.y)&&(r.pan.y=u.y,o=!1),o||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},center:function(e){var r=this.getCenterPan(e);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,r){if(this._private.panningEnabled){if(Ve(e)){var n=e;e=this.mutableElements().filter(n)}else Dr(e)||(e=this.mutableElements());if(e.length!==0){var a=e.boundingBox(),i=this.width(),s=this.height();r=r===void 0?this._private.zoom:r;var o={x:(i-r*(a.x1+a.x2))/2,y:(s-r*(a.y1+a.y2))/2};return o}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,r=e.container,n=this;return e.sizeCache=e.sizeCache||(r?function(){var a=n.window().getComputedStyle(r),i=function(o){return parseFloat(a.getPropertyValue(o))};return{width:r.clientWidth-i("padding-left")-i("padding-right"),height:r.clientHeight-i("padding-top")-i("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),a={x1:(n.x1-e.x)/r,x2:(n.x2-e.x)/r,y1:(n.y1-e.y)/r,y2:(n.y2-e.y)/r};return a.w=a.x2-a.x1,a.h=a.y2-a.y1,a},renderedExtent:function(){var e=this.width(),r=this.height();return{x1:0,y1:0,x2:e,y2:r,w:e,h:r}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};Aa.centre=Aa.center;Aa.autolockNodes=Aa.autolock;Aa.autoungrabifyNodes=Aa.autoungrabify;var hs={data:ct.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:ct.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:ct.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ct.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};hs.attr=hs.data;hs.removeAttr=hs.removeData;var vs=function(e){var r=this;e=qe({},e);var n=e.container;n&&!ko(n)&&ko(n[0])&&(n=n[0]);var a=n?n._cyreg:null;a=a||{},a&&a.cy&&(a.cy.destroy(),a={});var i=a.readies=a.readies||[];n&&(n._cyreg=a),a.cy=r;var s=zt!==void 0&&n!==void 0&&!e.headless,o=e;o.layout=qe({name:s?"grid":"null"},o.layout),o.renderer=qe({name:s?"canvas":"null"},o.renderer);var l=function(v,g,p){return g!==void 0?g:p!==void 0?p:v},u=this._private={container:n,ready:!1,options:o,elements:new Qt(this),listeners:[],aniEles:new Qt(this),data:o.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:l(!0,o.zoomingEnabled),userZoomingEnabled:l(!0,o.userZoomingEnabled),panningEnabled:l(!0,o.panningEnabled),userPanningEnabled:l(!0,o.userPanningEnabled),boxSelectionEnabled:l(!0,o.boxSelectionEnabled),autolock:l(!1,o.autolock,o.autolockNodes),autoungrabify:l(!1,o.autoungrabify,o.autoungrabifyNodes),autounselectify:l(!1,o.autounselectify),styleEnabled:o.styleEnabled===void 0?s:o.styleEnabled,zoom:Ne(o.zoom)?o.zoom:1,pan:{x:tt(o.pan)&&Ne(o.pan.x)?o.pan.x:0,y:tt(o.pan)&&Ne(o.pan.y)?o.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:l(250,o.multiClickDebounceTime)};this.createEmitter(),this.selectionType(o.selectionType),this.zoomRange({min:o.minZoom,max:o.maxZoom});var c=function(v,g){var p=v.some(DA);if(p)return hi.all(v).then(g);g(v)};u.styleEnabled&&r.setStyle([]);var f=qe({},o,o.renderer);r.initRenderer(f);var h=function(v,g,p){r.notifications(!1);var m=r.mutableElements();m.length>0&&m.remove(),v!=null&&(tt(v)||pt(v))&&r.add(v),r.one("layoutready",function(y){r.notifications(!0),r.emit(y),r.one("load",g),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",p),r.emit("done")});var b=qe({},r._private.options.layout);b.eles=r.elements(),r.layout(b).run()};c([o.style,o.elements],function(d){var v=d[0],g=d[1];u.styleEnabled&&r.style().append(v),h(g,function(){r.startAnimationLoop(),u.ready=!0,At(o.ready)&&r.on("ready",o.ready);for(var p=0;p<i.length;p++){var m=i[p];r.on("ready",m)}a&&(a.readies=[]),r.emit("ready")},o.done)})},Vo=vs.prototype;qe(Vo,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return zt;var r=this._private.container.ownerDocument;return r===void 0||r==null?zt:r.defaultView||zt},mount:function(e){if(e!=null){var r=this,n=r._private,a=n.options;return!ko(e)&&ko(e[0])&&(e=e[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=e,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(qe({},a,a.renderer,{name:a.renderer.name==="null"?"canvas":a.renderer.name})),r.startAnimationLoop(),r.style(a.style),r.emit("mount"),r}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return jr(this._private.options)},json:function(e){var r=this,n=r._private,a=r.mutableElements(),i=function(w){return r.getElementById(w.id())};if(tt(e)){if(r.startBatch(),e.elements){var s={},o=function(w,x){for(var D=[],C=[],N=0;N<w.length;N++){var k=w[N];if(!k.data.id){dt("cy.json() cannot handle elements without an ID attribute");continue}var O=""+k.data.id,F=r.getElementById(O);s[O]=!0,F.length!==0?C.push({ele:F,json:k}):(x&&(k.group=x),D.push(k))}r.add(D);for(var S=0;S<C.length;S++){var P=C[S],E=P.ele,L=P.json;E.json(L)}};if(pt(e.elements))o(e.elements);else for(var l=["nodes","edges"],u=0;u<l.length;u++){var c=l[u],f=e.elements[c];pt(f)&&o(f,c)}var h=r.collection();a.filter(function(y){return!s[y.id()]}).forEach(function(y){y.isParent()?h.merge(y):y.remove()}),h.forEach(function(y){return y.children().move({parent:null})}),h.forEach(function(y){return i(y).remove()})}e.style&&r.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&r.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&r.pan(e.pan),e.data&&r.data(e.data);for(var d=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],v=0;v<d.length;v++){var g=d[v];e[g]!=null&&r[g](e[g])}return r.endBatch(),this}else{var p=!!e,m={};p?m.elements=this.elements().map(function(y){return y.json()}):(m.elements={},a.forEach(function(y){var w=y.group();m.elements[w]||(m.elements[w]=[]),m.elements[w].push(y.json())})),this._private.styleEnabled&&(m.style=r.style().json()),m.data=jr(r.data());var b=n.options;return m.zoomingEnabled=n.zoomingEnabled,m.userZoomingEnabled=n.userZoomingEnabled,m.zoom=n.zoom,m.minZoom=n.minZoom,m.maxZoom=n.maxZoom,m.panningEnabled=n.panningEnabled,m.userPanningEnabled=n.userPanningEnabled,m.pan=jr(n.pan),m.boxSelectionEnabled=n.boxSelectionEnabled,m.renderer=jr(b.renderer),m.hideEdgesOnViewport=b.hideEdgesOnViewport,m.textureOnViewport=b.textureOnViewport,m.wheelSensitivity=b.wheelSensitivity,m.motionBlur=b.motionBlur,m.multiClickDebounceTime=b.multiClickDebounceTime,m}}});Vo.$id=Vo.getElementById;[DM,NM,i0,uf,go,kM,cf,po,BM,Aa,hs].forEach(function(t){qe(Vo,t)});var zM={fit:!0,directed:!1,direction:"downward",padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}},UM={maximal:!1,acyclic:!1},Ia=function(e){return e.scratch("breadthfirst")},Lg=function(e,r){return e.scratch("breadthfirst",r)};function s0(t){this.options=qe({},zM,UM,t)}s0.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=r.nodes().filter(function(ue){return ue.isChildless()}),a=r,i=t.directed,s=t.acyclic||t.maximal||t.maximalAdjustments>0,o=!!t.boundingBox,l=dr(o?t.boundingBox:structuredClone(e.extent())),u;if(Dr(t.roots))u=t.roots;else if(pt(t.roots)){for(var c=[],f=0;f<t.roots.length;f++){var h=t.roots[f],d=e.getElementById(h);c.push(d)}u=e.collection(c)}else if(Ve(t.roots))u=e.$(t.roots);else if(i)u=n.roots();else{var v=r.components();u=e.collection();for(var g=function(){var le=v[p],ce=le.maxDegree(!1),pe=le.filter(function(de){return de.degree(!1)===ce});u=u.add(pe)},p=0;p<v.length;p++)g()}var m=[],b={},y=function(le,ce){m[ce]==null&&(m[ce]=[]);var pe=m[ce].length;m[ce].push(le),Lg(le,{index:pe,depth:ce})},w=function(le,ce){var pe=Ia(le),de=pe.depth,me=pe.index;m[de][me]=null,le.isChildless()&&y(le,ce)};a.bfs({roots:u,directed:t.directed,visit:function(le,ce,pe,de,me){var Ee=le[0],Ae=Ee.id();Ee.isChildless()&&y(Ee,me),b[Ae]=!0}});for(var x=[],D=0;D<n.length;D++){var C=n[D];b[C.id()]||x.push(C)}var N=function(le){for(var ce=m[le],pe=0;pe<ce.length;pe++){var de=ce[pe];if(de==null){ce.splice(pe,1),pe--;continue}Lg(de,{depth:le,index:pe})}},k=function(le,ce){for(var pe=Ia(le),de=le.incomers().filter(function(Me){return Me.isNode()&&r.has(Me)}),me=-1,Ee=le.id(),Ae=0;Ae<de.length;Ae++){var ke=de[Ae],Pe=Ia(ke);me=Math.max(me,Pe.depth)}if(pe.depth<=me){if(!t.acyclic&&ce[Ee])return null;var Ie=me+1;return w(le,Ie),ce[Ee]=Ie,!0}return!1};if(i&&s){var O=[],F={},S=function(le){return O.push(le)},P=function(){return O.shift()};for(n.forEach(function(ue){return O.push(ue)});O.length>0;){var E=P(),L=k(E,F);if(L)E.outgoers().filter(function(ue){return ue.isNode()&&r.has(ue)}).forEach(S);else if(L===null){dt("Detected double maximal shift for node `"+E.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var A=0;if(t.avoidOverlap)for(var T=0;T<n.length;T++){var R=n[T],W=R.layoutDimensions(t),q=W.w,G=W.h;A=Math.max(A,q,G)}var $={},Q=function(le){if($[le.id()])return $[le.id()];for(var ce=Ia(le).depth,pe=le.neighborhood(),de=0,me=0,Ee=0;Ee<pe.length;Ee++){var Ae=pe[Ee];if(!(Ae.isEdge()||Ae.isParent()||!n.has(Ae))){var ke=Ia(Ae);if(ke!=null){var Pe=ke.index,Ie=ke.depth;if(!(Pe==null||Ie==null)){var Me=m[Ie].length;Ie<ce&&(de+=Pe/Me,me++)}}}}return me=Math.max(1,me),de=de/me,me===0&&(de=0),$[le.id()]=de,de},oe=function(le,ce){var pe=Q(le),de=Q(ce),me=pe-de;return me===0?oy(le.id(),ce.id()):me};t.depthSort!==void 0&&(oe=t.depthSort);for(var ie=m.length,ae=0;ae<ie;ae++)m[ae].sort(oe),N(ae);for(var Y=[],re=0;re<x.length;re++)Y.push(x[re]);var U=function(){for(var le=0;le<ie;le++)N(le)};Y.length&&(m.unshift(Y),ie=m.length,U());for(var V=0,X=0;X<ie;X++)V=Math.max(m[X].length,V);var M={x:l.x1+l.w/2,y:l.y1+l.h/2},B=n.reduce(function(ue,le){return function(ce){return{w:ue.w===-1?ce.w:(ue.w+ce.w)/2,h:ue.h===-1?ce.h:(ue.h+ce.h)/2}}(le.boundingBox({includeLabels:t.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),z=Math.max(ie===1?0:o?(l.h-t.padding*2-B.h)/(ie-1):(l.h-t.padding*2-B.h)/(ie+1),A),K=m.reduce(function(ue,le){return Math.max(ue,le.length)},0),ee=function(le){var ce=Ia(le),pe=ce.depth,de=ce.index;if(t.circle){var me=Math.min(l.w/2/ie,l.h/2/ie);me=Math.max(me,A);var Ee=me*pe+me-(ie>0&&m[0].length<=3?me/2:0),Ae=2*Math.PI/m[pe].length*de;return pe===0&&m[0].length===1&&(Ee=1),{x:M.x+Ee*Math.cos(Ae),y:M.y+Ee*Math.sin(Ae)}}else{var ke=m[pe].length,Pe=Math.max(ke===1?0:o?(l.w-t.padding*2-B.w)/((t.grid?K:ke)-1):(l.w-t.padding*2-B.w)/((t.grid?K:ke)+1),A),Ie={x:M.x+(de+1-(ke+1)/2)*Pe,y:M.y+(pe+1-(ie+1)/2)*z};return Ie}},ne={downward:0,leftward:90,upward:180,rightward:-90};Object.keys(ne).indexOf(t.direction)===-1&&xt("Invalid direction '".concat(t.direction,"' specified for breadthfirst layout. Valid values are: ").concat(Object.keys(ne).join(", ")));var se=function(le){return rD(ee(le),l,ne[t.direction])};return r.nodes().layoutPositions(this,t,se),this};var VM={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function o0(t){this.options=qe({},VM,t)}o0.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,i=n.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));for(var s=dr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),o={x:s.x1+s.w/2,y:s.y1+s.h/2},l=e.sweep===void 0?2*Math.PI-2*Math.PI/i.length:e.sweep,u=l/Math.max(1,i.length-1),c,f=0,h=0;h<i.length;h++){var d=i[h],v=d.layoutDimensions(e),g=v.w,p=v.h;f=Math.max(f,g,p)}if(Ne(e.radius)?c=e.radius:i.length<=1?c=0:c=Math.min(s.h,s.w)/2-f,i.length>1&&e.avoidOverlap){f*=1.75;var m=Math.cos(u)-Math.cos(0),b=Math.sin(u)-Math.sin(0),y=Math.sqrt(f*f/(m*m+b*b));c=Math.max(y,c)}var w=function(D,C){var N=e.startAngle+C*u*(a?1:-1),k=c*Math.cos(N),O=c*Math.sin(N),F={x:o.x+k,y:o.y+O};return F};return n.nodes().layoutPositions(this,e,w),this};var HM={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function l0(t){this.options=qe({},HM,t)}l0.prototype.run=function(){for(var t=this.options,e=t,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=t.cy,a=e.eles,i=a.nodes().not(":parent"),s=dr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),o={x:s.x1+s.w/2,y:s.y1+s.h/2},l=[],u=0,c=0;c<i.length;c++){var f=i[c],h=void 0;h=e.concentric(f),l.push({value:h,node:f}),f._private.scratch.concentric=h}i.updateStyle();for(var d=0;d<i.length;d++){var v=i[d],g=v.layoutDimensions(e);u=Math.max(u,g.w,g.h)}l.sort(function(z,K){return K.value-z.value});for(var p=e.levelWidth(i),m=[[]],b=m[0],y=0;y<l.length;y++){var w=l[y];if(b.length>0){var x=Math.abs(b[0].value-w.value);x>=p&&(b=[],m.push(b))}b.push(w)}var D=u+e.minNodeSpacing;if(!e.avoidOverlap){var C=m.length>0&&m[0].length>1,N=Math.min(s.w,s.h)/2-D,k=N/(m.length+C?1:0);D=Math.min(D,k)}for(var O=0,F=0;F<m.length;F++){var S=m[F],P=e.sweep===void 0?2*Math.PI-2*Math.PI/S.length:e.sweep,E=S.dTheta=P/Math.max(1,S.length-1);if(S.length>1&&e.avoidOverlap){var L=Math.cos(E)-Math.cos(0),A=Math.sin(E)-Math.sin(0),T=Math.sqrt(D*D/(L*L+A*A));O=Math.max(T,O)}S.r=O,O+=D}if(e.equidistant){for(var R=0,W=0,q=0;q<m.length;q++){var G=m[q],$=G.r-W;R=Math.max(R,$)}W=0;for(var Q=0;Q<m.length;Q++){var oe=m[Q];Q===0&&(W=oe.r),oe.r=W,W+=R}}for(var ie={},ae=0;ae<m.length;ae++)for(var Y=m[ae],re=Y.dTheta,U=Y.r,V=0;V<Y.length;V++){var X=Y[V],M=e.startAngle+(r?1:-1)*re*V,B={x:o.x+U*Math.cos(M),y:o.y+U*Math.sin(M)};ie[X.node.id()]=B}return a.nodes().layoutPositions(this,e,function(z){var K=z.id();return ie[K]}),this};var Ec,GM={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Nl(t){this.options=qe({},GM,t),this.options.layout=this;var e=this.options.eles.nodes(),r=this.options.eles.edges(),n=r.filter(function(a){var i=a.source().data("id"),s=a.target().data("id"),o=e.some(function(u){return u.data("id")===i}),l=e.some(function(u){return u.data("id")===s});return!o||!l});this.options.eles=this.options.eles.not(n)}Nl.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,(t.animate===!0||t.animate===!1)&&r.emit({type:"layoutstart",layout:r}),t.debug===!0?Ec=!0:Ec=!1;var n=qM(e,r,t);Ec&&YM(n),t.randomize&&XM(n);var a=yn(),i=function(){KM(n,e,t),t.fit===!0&&e.fit(t.padding)},s=function(h){return!(r.stopped||h>=t.numIter||($M(n,t),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},o=function(){if(t.animate===!0||t.animate===!1)i(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var h=t.eles.nodes(),d=c0(n,t,h);h.layoutPositions(r,t,d)}},l=0,u=!0;if(t.animate===!0){var c=function(){for(var h=0;u&&h<t.refresh;)u=s(l),l++,h++;if(!u)Pg(n,t),o();else{var d=yn();d-a>=t.animationThreshold&&i(),Io(c)}};c()}else{for(;u;)u=s(l),l++;Pg(n,t),o()}return this};Nl.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};Nl.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var qM=function(e,r,n){for(var a=n.eles.edges(),i=n.eles.nodes(),s=dr(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),o={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:a.size(),temperature:n.initialTemp,clientWidth:s.w,clientHeight:s.h,boundingBox:s},l=n.eles.components(),u={},c=0;c<l.length;c++)for(var f=l[c],h=0;h<f.length;h++){var d=f[h];u[d.id()]=c}for(var c=0;c<o.nodeSize;c++){var v=i[c],g=v.layoutDimensions(n),p={};p.isLocked=v.locked(),p.id=v.data("id"),p.parentId=v.data("parent"),p.cmptId=u[v.id()],p.children=[],p.positionX=v.position("x"),p.positionY=v.position("y"),p.offsetX=0,p.offsetY=0,p.height=g.w,p.width=g.h,p.maxX=p.positionX+p.width/2,p.minX=p.positionX-p.width/2,p.maxY=p.positionY+p.height/2,p.minY=p.positionY-p.height/2,p.padLeft=parseFloat(v.style("padding")),p.padRight=parseFloat(v.style("padding")),p.padTop=parseFloat(v.style("padding")),p.padBottom=parseFloat(v.style("padding")),p.nodeRepulsion=At(n.nodeRepulsion)?n.nodeRepulsion(v):n.nodeRepulsion,o.layoutNodes.push(p),o.idToIndex[p.id]=c}for(var m=[],b=0,y=-1,w=[],c=0;c<o.nodeSize;c++){var v=o.layoutNodes[c],x=v.parentId;x!=null?o.layoutNodes[o.idToIndex[x]].children.push(v.id):(m[++y]=v.id,w.push(v.id))}for(o.graphSet.push(w);b<=y;){var D=m[b++],C=o.idToIndex[D],d=o.layoutNodes[C],N=d.children;if(N.length>0){o.graphSet.push(N);for(var c=0;c<N.length;c++)m[++y]=N[c]}}for(var c=0;c<o.graphSet.length;c++)for(var k=o.graphSet[c],h=0;h<k.length;h++){var O=o.idToIndex[k[h]];o.indexToGraph[O]=c}for(var c=0;c<o.edgeSize;c++){var F=a[c],S={};S.id=F.data("id"),S.sourceId=F.data("source"),S.targetId=F.data("target");var P=At(n.idealEdgeLength)?n.idealEdgeLength(F):n.idealEdgeLength,E=At(n.edgeElasticity)?n.edgeElasticity(F):n.edgeElasticity,L=o.idToIndex[S.sourceId],A=o.idToIndex[S.targetId],T=o.indexToGraph[L],R=o.indexToGraph[A];if(T!=R){for(var W=WM(S.sourceId,S.targetId,o),q=o.graphSet[W],G=0,p=o.layoutNodes[L];q.indexOf(p.id)===-1;)p=o.layoutNodes[o.idToIndex[p.parentId]],G++;for(p=o.layoutNodes[A];q.indexOf(p.id)===-1;)p=o.layoutNodes[o.idToIndex[p.parentId]],G++;P*=G*n.nestingFactor}S.idealLength=P,S.elasticity=E,o.layoutEdges.push(S)}return o},WM=function(e,r,n){var a=u0(e,r,0,n);return 2>a.count?0:a.graph},u0=function(e,r,n,a){var i=a.graphSet[n];if(-1<i.indexOf(e)&&-1<i.indexOf(r))return{count:2,graph:n};for(var s=0,o=0;o<i.length;o++){var l=i[o],u=a.idToIndex[l],c=a.layoutNodes[u].children;if(c.length!==0){var f=a.indexToGraph[a.idToIndex[c[0]]],h=u0(e,r,f,a);if(h.count!==0)if(h.count===1){if(s++,s===2)break}else return h}}return{count:s,graph:n}},YM,XM=function(e,r){for(var n=e.clientWidth,a=e.clientHeight,i=0;i<e.nodeSize;i++){var s=e.layoutNodes[i];s.children.length===0&&!s.isLocked&&(s.positionX=Math.random()*n,s.positionY=Math.random()*a)}},c0=function(e,r,n){var a=e.boundingBox,i={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(s){var o=e.layoutNodes[e.idToIndex[s.data("id")]];i.x1=Math.min(i.x1,o.positionX),i.x2=Math.max(i.x2,o.positionX),i.y1=Math.min(i.y1,o.positionY),i.y2=Math.max(i.y2,o.positionY)}),i.w=i.x2-i.x1,i.h=i.y2-i.y1),function(s,o){var l=e.layoutNodes[e.idToIndex[s.data("id")]];if(r.boundingBox){var u=i.w===0?.5:(l.positionX-i.x1)/i.w,c=i.h===0?.5:(l.positionY-i.y1)/i.h;return{x:a.x1+u*a.w,y:a.y1+c*a.h}}else return{x:l.positionX,y:l.positionY}}},KM=function(e,r,n){var a=n.layout,i=n.eles.nodes(),s=c0(e,n,i);i.positions(s),e.ready!==!0&&(e.ready=!0,a.one("layoutready",n.ready),a.emit({type:"layoutready",layout:this}))},$M=function(e,r,n){ZM(e,r),jM(e),e2(e,r),t2(e),r2(e)},ZM=function(e,r){for(var n=0;n<e.graphSet.length;n++)for(var a=e.graphSet[n],i=a.length,s=0;s<i;s++)for(var o=e.layoutNodes[e.idToIndex[a[s]]],l=s+1;l<i;l++){var u=e.layoutNodes[e.idToIndex[a[l]]];QM(o,u,e,r)}},Mg=function(e){return-1+2*e*Math.random()},QM=function(e,r,n,a){var i=e.cmptId,s=r.cmptId;if(!(i!==s&&!n.isCompound)){var o=r.positionX-e.positionX,l=r.positionY-e.positionY,u=1;o===0&&l===0&&(o=Mg(u),l=Mg(u));var c=JM(e,r,o,l);if(c>0)var f=a.nodeOverlap*c,h=Math.sqrt(o*o+l*l),d=f*o/h,v=f*l/h;else var g=Ho(e,o,l),p=Ho(r,-1*o,-1*l),m=p.x-g.x,b=p.y-g.y,y=m*m+b*b,h=Math.sqrt(y),f=(e.nodeRepulsion+r.nodeRepulsion)/y,d=f*m/h,v=f*b/h;e.isLocked||(e.offsetX-=d,e.offsetY-=v),r.isLocked||(r.offsetX+=d,r.offsetY+=v)}},JM=function(e,r,n,a){if(n>0)var i=e.maxX-r.minX;else var i=r.maxX-e.minX;if(a>0)var s=e.maxY-r.minY;else var s=r.maxY-e.minY;return i>=0&&s>=0?Math.sqrt(i*i+s*s):0},Ho=function(e,r,n){var a=e.positionX,i=e.positionY,s=e.height||1,o=e.width||1,l=n/r,u=s/o,c={};return r===0&&0<n||r===0&&0>n?(c.x=a,c.y=i+s/2,c):0<r&&-1*u<=l&&l<=u?(c.x=a+o/2,c.y=i+o*n/2/r,c):0>r&&-1*u<=l&&l<=u?(c.x=a-o/2,c.y=i-o*n/2/r,c):0<n&&(l<=-1*u||l>=u)?(c.x=a+s*r/2/n,c.y=i+s/2,c):(0>n&&(l<=-1*u||l>=u)&&(c.x=a-s*r/2/n,c.y=i-s/2),c)},jM=function(e,r){for(var n=0;n<e.edgeSize;n++){var a=e.layoutEdges[n],i=e.idToIndex[a.sourceId],s=e.layoutNodes[i],o=e.idToIndex[a.targetId],l=e.layoutNodes[o],u=l.positionX-s.positionX,c=l.positionY-s.positionY;if(!(u===0&&c===0)){var f=Ho(s,u,c),h=Ho(l,-1*u,-1*c),d=h.x-f.x,v=h.y-f.y,g=Math.sqrt(d*d+v*v),p=Math.pow(a.idealLength-g,2)/a.elasticity;if(g!==0)var m=p*d/g,b=p*v/g;else var m=0,b=0;s.isLocked||(s.offsetX+=m,s.offsetY+=b),l.isLocked||(l.offsetX-=m,l.offsetY-=b)}}},e2=function(e,r){if(r.gravity!==0)for(var n=1,a=0;a<e.graphSet.length;a++){var i=e.graphSet[a],s=i.length;if(a===0)var o=e.clientHeight/2,l=e.clientWidth/2;else var u=e.layoutNodes[e.idToIndex[i[0]]],c=e.layoutNodes[e.idToIndex[u.parentId]],o=c.positionX,l=c.positionY;for(var f=0;f<s;f++){var h=e.layoutNodes[e.idToIndex[i[f]]];if(!h.isLocked){var d=o-h.positionX,v=l-h.positionY,g=Math.sqrt(d*d+v*v);if(g>n){var p=r.gravity*d/g,m=r.gravity*v/g;h.offsetX+=p,h.offsetY+=m}}}}},t2=function(e,r){var n=[],a=0,i=-1;for(n.push.apply(n,e.graphSet[0]),i+=e.graphSet[0].length;a<=i;){var s=n[a++],o=e.idToIndex[s],l=e.layoutNodes[o],u=l.children;if(0<u.length&&!l.isLocked){for(var c=l.offsetX,f=l.offsetY,h=0;h<u.length;h++){var d=e.layoutNodes[e.idToIndex[u[h]]];d.offsetX+=c,d.offsetY+=f,n[++i]=u[h]}l.offsetX=0,l.offsetY=0}}},r2=function(e,r){for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];0<a.children.length&&(a.maxX=void 0,a.minX=void 0,a.maxY=void 0,a.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];if(!(0<a.children.length||a.isLocked)){var i=n2(a.offsetX,a.offsetY,e.temperature);a.positionX+=i.x,a.positionY+=i.y,a.offsetX=0,a.offsetY=0,a.minX=a.positionX-a.width,a.maxX=a.positionX+a.width,a.minY=a.positionY-a.height,a.maxY=a.positionY+a.height,f0(a,e)}}for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];0<a.children.length&&!a.isLocked&&(a.positionX=(a.maxX+a.minX)/2,a.positionY=(a.maxY+a.minY)/2,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY)}},n2=function(e,r,n){var a=Math.sqrt(e*e+r*r);if(a>n)var i={x:n*e/a,y:n*r/a};else var i={x:e,y:r};return i},f0=function(e,r){var n=e.parentId;if(n!=null){var a=r.layoutNodes[r.idToIndex[n]],i=!1;if((a.maxX==null||e.maxX+a.padRight>a.maxX)&&(a.maxX=e.maxX+a.padRight,i=!0),(a.minX==null||e.minX-a.padLeft<a.minX)&&(a.minX=e.minX-a.padLeft,i=!0),(a.maxY==null||e.maxY+a.padBottom>a.maxY)&&(a.maxY=e.maxY+a.padBottom,i=!0),(a.minY==null||e.minY-a.padTop<a.minY)&&(a.minY=e.minY-a.padTop,i=!0),i)return f0(a,r)}},Pg=function(e,r){for(var n=e.layoutNodes,a=[],i=0;i<n.length;i++){var s=n[i],o=s.cmptId,l=a[o]=a[o]||[];l.push(s)}for(var u=0,i=0;i<a.length;i++){var c=a[i];if(c){c.x1=1/0,c.x2=-1/0,c.y1=1/0,c.y2=-1/0;for(var f=0;f<c.length;f++){var h=c[f];c.x1=Math.min(c.x1,h.positionX-h.width/2),c.x2=Math.max(c.x2,h.positionX+h.width/2),c.y1=Math.min(c.y1,h.positionY-h.height/2),c.y2=Math.max(c.y2,h.positionY+h.height/2)}c.w=c.x2-c.x1,c.h=c.y2-c.y1,u+=c.w*c.h}}a.sort(function(b,y){return y.w*y.h-b.w*b.h});for(var d=0,v=0,g=0,p=0,m=Math.sqrt(u)*e.clientWidth/e.clientHeight,i=0;i<a.length;i++){var c=a[i];if(c){for(var f=0;f<c.length;f++){var h=c[f];h.isLocked||(h.positionX+=d-c.x1,h.positionY+=v-c.y1)}d+=c.w+r.componentSpacing,g+=c.w+r.componentSpacing,p=Math.max(p,c.h),g>m&&(v+=p+r.componentSpacing,d=0,g=0,p=0)}}},a2={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function d0(t){this.options=qe({},a2,t)}d0.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=n.nodes().not(":parent");e.sort&&(a=a.sort(e.sort));var i=dr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(i.h===0||i.w===0)n.nodes().layoutPositions(this,e,function(Q){return{x:i.x1,y:i.y1}});else{var s=a.size(),o=Math.sqrt(s*i.h/i.w),l=Math.round(o),u=Math.round(i.w/i.h*o),c=function(oe){if(oe==null)return Math.min(l,u);var ie=Math.min(l,u);ie==l?l=oe:u=oe},f=function(oe){if(oe==null)return Math.max(l,u);var ie=Math.max(l,u);ie==l?l=oe:u=oe},h=e.rows,d=e.cols!=null?e.cols:e.columns;if(h!=null&&d!=null)l=h,u=d;else if(h!=null&&d==null)l=h,u=Math.ceil(s/l);else if(h==null&&d!=null)u=d,l=Math.ceil(s/u);else if(u*l>s){var v=c(),g=f();(v-1)*g>=s?c(v-1):(g-1)*v>=s&&f(g-1)}else for(;u*l<s;){var p=c(),m=f();(m+1)*p>=s?f(m+1):c(p+1)}var b=i.w/u,y=i.h/l;if(e.condense&&(b=0,y=0),e.avoidOverlap)for(var w=0;w<a.length;w++){var x=a[w],D=x._private.position;(D.x==null||D.y==null)&&(D.x=0,D.y=0);var C=x.layoutDimensions(e),N=e.avoidOverlapPadding,k=C.w+N,O=C.h+N;b=Math.max(b,k),y=Math.max(y,O)}for(var F={},S=function(oe,ie){return!!F["c-"+oe+"-"+ie]},P=function(oe,ie){F["c-"+oe+"-"+ie]=!0},E=0,L=0,A=function(){L++,L>=u&&(L=0,E++)},T={},R=0;R<a.length;R++){var W=a[R],q=e.position(W);if(q&&(q.row!==void 0||q.col!==void 0)){var G={row:q.row,col:q.col};if(G.col===void 0)for(G.col=0;S(G.row,G.col);)G.col++;else if(G.row===void 0)for(G.row=0;S(G.row,G.col);)G.row++;T[W.id()]=G,P(G.row,G.col)}}var $=function(oe,ie){var ae,Y;if(oe.locked()||oe.isParent())return!1;var re=T[oe.id()];if(re)ae=re.col*b+b/2+i.x1,Y=re.row*y+y/2+i.y1;else{for(;S(E,L);)A();ae=L*b+b/2+i.x1,Y=E*y+y/2+i.y1,P(E,L),A()}return{x:ae,y:Y}};a.layoutPositions(this,e,$)}return this};var i2={ready:function(){},stop:function(){}};function sd(t){this.options=qe({},i2,t)}sd.prototype.run=function(){var t=this.options,e=t.eles,r=this;return t.cy,r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this};sd.prototype.stop=function(){return this};var s2={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function h0(t){this.options=qe({},s2,t)}h0.prototype.run=function(){var t=this.options,e=t.eles,r=e.nodes(),n=At(t.positions);function a(i){if(t.positions==null)return RD(i.position());if(n)return t.positions(i);var s=t.positions[i._private.data.id];return s??null}return r.layoutPositions(this,t,function(i,s){var o=a(i);return i.locked()||o==null?!1:o}),this};var o2={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function v0(t){this.options=qe({},o2,t)}v0.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=dr(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),a=function(s,o){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,t,a),this};var l2=[{name:"breadthfirst",impl:s0},{name:"circle",impl:o0},{name:"concentric",impl:l0},{name:"cose",impl:Nl},{name:"grid",impl:d0},{name:"null",impl:sd},{name:"preset",impl:h0},{name:"random",impl:v0}];function g0(t){this.options=t,this.notifications=0}var Ng=function(){},Og=function(){throw new Error("A headless instance can not render images")};g0.prototype={recalculateRenderedStyle:Ng,notify:function(){this.notifications++},init:Ng,isHeadless:function(){return!0},png:Og,jpg:Og};var od={};od.arrowShapeWidth=.3;od.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,r=function(u,c,f,h,d,v,g){var p=d.x-f/2-g,m=d.x+f/2+g,b=d.y-f/2-g,y=d.y+f/2+g,w=p<=u&&u<=m&&b<=c&&c<=y;return w},n=function(u,c,f,h,d){var v=u*Math.cos(h)-c*Math.sin(h),g=u*Math.sin(h)+c*Math.cos(h),p=v*f,m=g*f,b=p+d.x,y=m+d.y;return{x:b,y}},a=function(u,c,f,h){for(var d=[],v=0;v<u.length;v+=2){var g=u[v],p=u[v+1];d.push(n(g,p,c,f,h))}return d},i=function(u){for(var c=[],f=0;f<u.length;f++){var h=u[f];c.push(h.x,h.y)}return c},s=function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").pfValue*2},o=function(u,c){Ve(c)&&(c=t[c]),t[u]=qe({name:u,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(h,d,v,g,p,m){var b=i(a(this.points,v+2*m,g,p)),y=yr(h,d,b);return y},roughCollide:r,draw:function(h,d,v,g){var p=a(this.points,d,v,g);e.arrowShapeImpl("polygon")(h,p)},spacing:function(h){return 0},gap:s},c)};o("none",{collide:Fo,roughCollide:Fo,draw:Yf,spacing:Xh,gap:Xh}),o("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),o("arrow","triangle"),o("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(u,c,f,h,d){var v=a(this.points,c,f,h),g=this.controlPoint,p=n(g[0],g[1],c,f,h);e.arrowShapeImpl(this.name)(u,v,p)},gap:function(u){return s(u)*.8}}),o("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(u,c,f,h,d,v,g){var p=i(a(this.points,f+2*g,h,d)),m=i(a(this.pointsTee,f+2*g,h,d)),b=yr(u,c,p)||yr(u,c,m);return b},draw:function(u,c,f,h,d){var v=a(this.points,c,f,h),g=a(this.pointsTee,c,f,h);e.arrowShapeImpl(this.name)(u,v,g)}}),o("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(u,c,f,h,d,v,g){var p=d,m=Math.pow(p.x-u,2)+Math.pow(p.y-c,2)<=Math.pow((f+2*g)*this.radius,2),b=i(a(this.points,f+2*g,h,d));return yr(u,c,b)||m},draw:function(u,c,f,h,d){var v=a(this.pointsTr,c,f,h);e.arrowShapeImpl(this.name)(u,v,h.x,h.y,this.radius*c)},spacing:function(u){return e.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius}}),o("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(u,c){var f=this.baseCrossLinePts.slice(),h=c/u,d=3,v=5;return f[d]=f[d]-h,f[v]=f[v]-h,f},collide:function(u,c,f,h,d,v,g){var p=i(a(this.points,f+2*g,h,d)),m=i(a(this.crossLinePts(f,v),f+2*g,h,d)),b=yr(u,c,p)||yr(u,c,m);return b},draw:function(u,c,f,h,d){var v=a(this.points,c,f,h),g=a(this.crossLinePts(c,d),c,f,h);e.arrowShapeImpl(this.name)(u,v,g)}}),o("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(u){return s(u)*.525}}),o("circle",{radius:.15,collide:function(u,c,f,h,d,v,g){var p=d,m=Math.pow(p.x-u,2)+Math.pow(p.y-c,2)<=Math.pow((f+2*g)*this.radius,2);return m},draw:function(u,c,f,h,d){e.arrowShapeImpl(this.name)(u,h.x,h.y,this.radius*c)},spacing:function(u){return e.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius}}),o("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(u){return 1},gap:function(u){return 1}}),o("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),o("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").value}}),o("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(u){return .95*u.pstyle("width").pfValue*u.pstyle("arrow-scale").value}})};var La={};La.projectIntoViewport=function(t,e){var r=this.cy,n=this.findContainerClientCoords(),a=n[0],i=n[1],s=n[4],o=r.pan(),l=r.zoom(),u=((t-a)/s-o.x)/l,c=((e-i)/s-o.y)/l;return[u,c]};La.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=this.cy.window().getComputedStyle(t),n=function(m){return parseFloat(r.getPropertyValue(m))},a={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},i={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},s=t.clientWidth,o=t.clientHeight,l=a.left+a.right,u=a.top+a.bottom,c=i.left+i.right,f=e.width/(s+c),h=s-l,d=o-u,v=e.left+a.left+i.left,g=e.top+a.top+i.top;return this.containerBB=[v,g,h,d,f]};La.invalidateContainerClientCoordsCache=function(){this.containerBB=null};La.findNearestElement=function(t,e,r,n){return this.findNearestElements(t,e,r,n)[0]};La.findNearestElements=function(t,e,r,n){var a=this,i=this,s=i.getCachedZSortedEles(),o=[],l=i.cy.zoom(),u=i.cy.hasCompoundNodes(),c=(n?24:8)/l,f=(n?8:2)/l,h=(n?8:2)/l,d=1/0,v,g;r&&(s=s.interactive);function p(C,N){if(C.isNode()){if(g)return;g=C,o.push(C)}if(C.isEdge()&&(N==null||N<d))if(v){if(v.pstyle("z-compound-depth").value===C.pstyle("z-compound-depth").value&&v.pstyle("z-compound-depth").value===C.pstyle("z-compound-depth").value){for(var k=0;k<o.length;k++)if(o[k].isEdge()){o[k]=C,v=C,d=N??d;break}}}else o.push(C),v=C,d=N??d}function m(C){var N=C.outerWidth()+2*f,k=C.outerHeight()+2*f,O=N/2,F=k/2,S=C.position(),P=C.pstyle("corner-radius").value==="auto"?"auto":C.pstyle("corner-radius").pfValue,E=C._private.rscratch;if(S.x-O<=t&&t<=S.x+O&&S.y-F<=e&&e<=S.y+F){var L=i.nodeShapes[a.getNodeShape(C)];if(L.checkPoint(t,e,0,N,k,S.x,S.y,P,E))return p(C,0),!0}}function b(C){var N=C._private,k=N.rscratch,O=C.pstyle("width").pfValue,F=C.pstyle("arrow-scale").value,S=O/2+c,P=S*S,E=S*2,R=N.source,W=N.target,L;if(k.edgeType==="segments"||k.edgeType==="straight"||k.edgeType==="haystack"){for(var A=k.allpts,T=0;T+3<A.length;T+=2)if(HD(t,e,A[T],A[T+1],A[T+2],A[T+3],E)&&P>(L=XD(t,e,A[T],A[T+1],A[T+2],A[T+3])))return p(C,L),!0}else if(k.edgeType==="bezier"||k.edgeType==="multibezier"||k.edgeType==="self"||k.edgeType==="compound"){for(var A=k.allpts,T=0;T+5<k.allpts.length;T+=4)if(GD(t,e,A[T],A[T+1],A[T+2],A[T+3],A[T+4],A[T+5],E)&&P>(L=YD(t,e,A[T],A[T+1],A[T+2],A[T+3],A[T+4],A[T+5])))return p(C,L),!0}for(var R=R||N.source,W=W||N.target,q=a.getArrowWidth(O,F),G=[{name:"source",x:k.arrowStartX,y:k.arrowStartY,angle:k.srcArrowAngle},{name:"target",x:k.arrowEndX,y:k.arrowEndY,angle:k.tgtArrowAngle},{name:"mid-source",x:k.midX,y:k.midY,angle:k.midsrcArrowAngle},{name:"mid-target",x:k.midX,y:k.midY,angle:k.midtgtArrowAngle}],T=0;T<G.length;T++){var $=G[T],Q=i.arrowShapes[C.pstyle($.name+"-arrow-shape").value],oe=C.pstyle("width").pfValue;if(Q.roughCollide(t,e,q,$.angle,{x:$.x,y:$.y},oe,c)&&Q.collide(t,e,q,$.angle,{x:$.x,y:$.y},oe,c))return p(C),!0}u&&o.length>0&&(m(R),m(W))}function y(C,N,k){return mr(C,N,k)}function w(C,N){var k=C._private,O=h,F;N?F=N+"-":F="",C.boundingBox();var S=k.labelBounds[N||"main"],P=C.pstyle(F+"label").value,E=C.pstyle("text-events").strValue==="yes";if(!(!E||!P)){var L=y(k.rscratch,"labelX",N),A=y(k.rscratch,"labelY",N),T=y(k.rscratch,"labelAngle",N),R=C.pstyle(F+"text-margin-x").pfValue,W=C.pstyle(F+"text-margin-y").pfValue,q=S.x1-O-R,G=S.x2+O-R,$=S.y1-O-W,Q=S.y2+O-W;if(T){var oe=Math.cos(T),ie=Math.sin(T),ae=function(B,z){return B=B-L,z=z-A,{x:B*oe-z*ie+L,y:B*ie+z*oe+A}},Y=ae(q,$),re=ae(q,Q),U=ae(G,$),V=ae(G,Q),X=[Y.x+R,Y.y+W,U.x+R,U.y+W,V.x+R,V.y+W,re.x+R,re.y+W];if(yr(t,e,X))return p(C),!0}else if(In(S,t,e))return p(C),!0}}for(var x=s.length-1;x>=0;x--){var D=s[x];D.isNode()?m(D)||w(D):b(D)||w(D)||w(D,"source")||w(D,"target")}return o};La.getAllInBox=function(t,e,r,n){var a=this.getCachedZSortedEles().interactive,i=this.cy.zoom(),s=2/i,o=[],l=Math.min(t,r),u=Math.max(t,r),c=Math.min(e,n),f=Math.max(e,n);t=l,r=u,e=c,n=f;var h=dr({x1:t,y1:e,x2:r,y2:n}),d=[{x:h.x1,y:h.y1},{x:h.x2,y:h.y1},{x:h.x2,y:h.y2},{x:h.x1,y:h.y2}],v=[[d[0],d[1]],[d[1],d[2]],[d[2],d[3]],[d[3],d[0]]];function g(B,z,K){return mr(B,z,K)}function p(B,z){var K=B._private,ee=s,ne="";B.boundingBox();var se=K.labelBounds.main;if(!se)return null;var ue=g(K.rscratch,"labelX",z),le=g(K.rscratch,"labelY",z),ce=g(K.rscratch,"labelAngle",z),pe=B.pstyle(ne+"text-margin-x").pfValue,de=B.pstyle(ne+"text-margin-y").pfValue,me=se.x1-ee-pe,Ee=se.x2+ee-pe,Ae=se.y1-ee-de,ke=se.y2+ee-de;if(ce){var Pe=Math.cos(ce),Ie=Math.sin(ce),Me=function(j,I){return j=j-ue,I=I-le,{x:j*Pe-I*Ie+ue,y:j*Ie+I*Pe+le}};return[Me(me,Ae),Me(Ee,Ae),Me(Ee,ke),Me(me,ke)]}else return[{x:me,y:Ae},{x:Ee,y:Ae},{x:Ee,y:ke},{x:me,y:ke}]}function m(B,z,K,ee){function ne(se,ue,le){return(le.y-se.y)*(ue.x-se.x)>(ue.y-se.y)*(le.x-se.x)}return ne(B,K,ee)!==ne(z,K,ee)&&ne(B,z,K)!==ne(B,z,ee)}for(var b=0;b<a.length;b++){var y=a[b];if(y.isNode()){var w=y,x=w.pstyle("text-events").strValue==="yes",D=w.pstyle("box-selection").strValue,C=w.pstyle("box-select-labels").strValue==="yes";if(D==="none")continue;var N=(D==="overlap"||C)&&x,k=w.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:N});if(D==="contain"){var O=!1;if(C&&x){var F=p(w);F&&bu(F,d)&&(o.push(w),O=!0)}!O&&xy(h,k)&&o.push(w)}else if(D==="overlap"&&Zf(h,k)){var S=w.boundingBox({includeNodes:!0,includeEdges:!0,includeLabels:!1,includeMainLabels:!1,includeSourceLabels:!1,includeTargetLabels:!1}),P=[{x:S.x1,y:S.y1},{x:S.x2,y:S.y1},{x:S.x2,y:S.y2},{x:S.x1,y:S.y2}];if(bu(P,d))o.push(w);else{var E=p(w);E&&bu(E,d)&&o.push(w)}}}else{var L=y,A=L._private,T=A.rscratch,R=L.pstyle("box-selection").strValue;if(R==="none")continue;if(R==="contain"){if(T.startX!=null&&T.startY!=null&&!In(h,T.startX,T.startY)||T.endX!=null&&T.endY!=null&&!In(h,T.endX,T.endY))continue;if(T.edgeType==="bezier"||T.edgeType==="multibezier"||T.edgeType==="self"||T.edgeType==="compound"||T.edgeType==="segments"||T.edgeType==="haystack"){for(var W=A.rstyle.bezierPts||A.rstyle.linePts||A.rstyle.haystackPts,q=!0,G=0;G<W.length;G++)if(!Jh(h,W[G])){q=!1;break}q&&o.push(L)}else T.edgeType==="straight"&&o.push(L)}else if(R==="overlap"){var $=!1;if(T.startX!=null&&T.startY!=null&&T.endX!=null&&T.endY!=null&&(In(h,T.startX,T.startY)||In(h,T.endX,T.endY)))o.push(L),$=!0;else if(!$&&T.edgeType==="haystack"){for(var Q=A.rstyle.haystackPts,oe=0;oe<Q.length;oe++)if(Jh(h,Q[oe])){o.push(L),$=!0;break}}if(!$){var ie=A.rstyle.bezierPts||A.rstyle.linePts||A.rstyle.haystackPts;if((!ie||ie.length<2)&&T.edgeType==="straight"&&T.startX!=null&&T.startY!=null&&T.endX!=null&&T.endY!=null&&(ie=[{x:T.startX,y:T.startY},{x:T.endX,y:T.endY}]),!ie||ie.length<2)continue;for(var ae=0;ae<ie.length-1;ae++){for(var Y=ie[ae],re=ie[ae+1],U=0;U<v.length;U++){var V=Ft(v[U],2),X=V[0],M=V[1];if(m(Y,re,X,M)){o.push(L),$=!0;break}}if($)break}}}}}return o};var Go={};Go.calculateArrowAngles=function(t){var e=t._private.rscratch,r=e.edgeType==="haystack",n=e.edgeType==="bezier",a=e.edgeType==="multibezier",i=e.edgeType==="segments",s=e.edgeType==="compound",o=e.edgeType==="self",l,u,c,f,h,d,m,b;if(r?(c=e.haystackPts[0],f=e.haystackPts[1],h=e.haystackPts[2],d=e.haystackPts[3]):(c=e.arrowStartX,f=e.arrowStartY,h=e.arrowEndX,d=e.arrowEndY),m=e.midX,b=e.midY,i)l=c-e.segpts[0],u=f-e.segpts[1];else if(a||s||o||n){var v=e.allpts,g=Gt(v[0],v[2],v[4],.1),p=Gt(v[1],v[3],v[5],.1);l=c-g,u=f-p}else l=c-m,u=f-b;e.srcArrowAngle=Gs(l,u);var m=e.midX,b=e.midY;if(r&&(m=(c+h)/2,b=(f+d)/2),l=h-c,u=d-f,i){var v=e.allpts;if(v.length/2%2===0){var y=v.length/2,w=y-2;l=v[y]-v[w],u=v[y+1]-v[w+1]}else if(e.isRound)l=e.midVector[1],u=-e.midVector[0];else{var y=v.length/2-1,w=y-2;l=v[y]-v[w],u=v[y+1]-v[w+1]}}else if(a||s||o){var v=e.allpts,x=e.ctrlpts,D,C,N,k;if(x.length/2%2===0){var O=v.length/2-1,F=O+2,S=F+2;D=Gt(v[O],v[F],v[S],0),C=Gt(v[O+1],v[F+1],v[S+1],0),N=Gt(v[O],v[F],v[S],1e-4),k=Gt(v[O+1],v[F+1],v[S+1],1e-4)}else{var F=v.length/2-1,O=F-2,S=F+2;D=Gt(v[O],v[F],v[S],.4999),C=Gt(v[O+1],v[F+1],v[S+1],.4999),N=Gt(v[O],v[F],v[S],.5),k=Gt(v[O+1],v[F+1],v[S+1],.5)}l=N-D,u=k-C}if(e.midtgtArrowAngle=Gs(l,u),e.midDispX=l,e.midDispY=u,l*=-1,u*=-1,i){var v=e.allpts;if(v.length/2%2!==0){if(!e.isRound){var y=v.length/2-1,P=y+2;l=-(v[P]-v[y]),u=-(v[P+1]-v[y+1])}}}if(e.midsrcArrowAngle=Gs(l,u),i)l=h-e.segpts[e.segpts.length-2],u=d-e.segpts[e.segpts.length-1];else if(a||s||o||n){var v=e.allpts,E=v.length,g=Gt(v[E-6],v[E-4],v[E-2],.9),p=Gt(v[E-5],v[E-3],v[E-1],.9);l=h-g,u=d-p}else l=h-m,u=d-b;e.tgtArrowAngle=Gs(l,u)};Go.getArrowWidth=Go.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[t+", "+e];return n||(n=Math.max(Math.pow(t*13.37,.9),29)*e,r[t+", "+e]=n,n)};var ff,df,$r={},Lr={},kg,Ig,pa,mo,un,la,da,Xr,Fa,Qs,p0,m0,hf,vf,Fg,Bg=function(e,r,n){n.x=r.x-e.x,n.y=r.y-e.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},u2=function(e,r){r.x=e.x*-1,r.y=e.y*-1,r.nx=e.nx*-1,r.ny=e.ny*-1,r.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},c2=function(e,r,n,a,i){if(e!==Fg?Bg(r,e,$r):u2(Lr,$r),Bg(r,n,Lr),kg=$r.nx*Lr.ny-$r.ny*Lr.nx,Ig=$r.nx*Lr.nx-$r.ny*-Lr.ny,un=Math.asin(Math.max(-1,Math.min(1,kg))),Math.abs(un)<1e-6){ff=r.x,df=r.y,da=Fa=0;return}pa=1,mo=!1,Ig<0?un<0?un=Math.PI+un:(un=Math.PI-un,pa=-1,mo=!0):un>0&&(pa=-1,mo=!0),r.radius!==void 0?Fa=r.radius:Fa=a,la=un/2,Qs=Math.min($r.len/2,Lr.len/2),i?(Xr=Math.abs(Math.cos(la)*Fa/Math.sin(la)),Xr>Qs?(Xr=Qs,da=Math.abs(Xr*Math.sin(la)/Math.cos(la))):da=Fa):(Xr=Math.min(Qs,Fa),da=Math.abs(Xr*Math.sin(la)/Math.cos(la))),hf=r.x+Lr.nx*Xr,vf=r.y+Lr.ny*Xr,ff=hf-Lr.ny*da*pa,df=vf+Lr.nx*da*pa,p0=r.x+$r.nx*Xr,m0=r.y+$r.ny*Xr,Fg=r};function y0(t,e){e.radius===0?t.lineTo(e.cx,e.cy):t.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function ld(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(c2(t,e,r,n,a),{cx:ff,cy:df,radius:da,startX:p0,startY:m0,stopX:hf,stopY:vf,startAngle:$r.ang+Math.PI/2*pa,endAngle:Lr.ang-Math.PI/2*pa,counterClockwise:mo})}var gs=.01,f2=Math.sqrt(2*gs),or={};or.findMidptPtsEtc=function(t,e){var r=e.posPts,n=e.intersectionPts,a=e.vectorNormInverse,i,s=t.pstyle("source-endpoint"),o=t.pstyle("target-endpoint"),l=s.units!=null&&o.units!=null,u=function(x,D,C,N){var k=N-D,O=C-x,F=Math.sqrt(O*O+k*k);return{x:-k/F,y:O/F}},c=t.pstyle("edge-distances").value;switch(c){case"node-position":i=r;break;case"intersection":i=n;break;case"endpoints":{if(l){var f=this.manualEndptToPx(t.source()[0],s),h=Ft(f,2),d=h[0],v=h[1],g=this.manualEndptToPx(t.target()[0],o),p=Ft(g,2),m=p[0],b=p[1],y={x1:d,y1:v,x2:m,y2:b};a=u(d,v,m,b),i=y}else dt("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),i=n;break}}return{midptPts:i,vectorNormInverse:a}};or.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=r._private,a=n.rscratch;if(!a.haystack){var i=Math.random()*2*Math.PI;a.source={x:Math.cos(i),y:Math.sin(i)},i=Math.random()*2*Math.PI,a.target={x:Math.cos(i),y:Math.sin(i)}}var s=n.source,o=n.target,l=s.position(),u=o.position(),c=s.width(),f=o.width(),h=s.height(),d=o.height(),v=r.pstyle("haystack-radius").value,g=v/2;a.haystackPts=a.allpts=[a.source.x*c*g+l.x,a.source.y*h*g+l.y,a.target.x*f*g+u.x,a.target.y*d*g+u.y],a.midX=(a.allpts[0]+a.allpts[2])/2,a.midY=(a.allpts[1]+a.allpts[3])/2,a.edgeType="haystack",a.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};or.findSegmentsPoints=function(t,e){var r=t._private.rscratch,n=t.pstyle("segment-weights"),a=t.pstyle("segment-distances"),i=t.pstyle("segment-radii"),s=t.pstyle("radius-type"),o=Math.min(n.pfValue.length,a.pfValue.length),l=i.pfValue[i.pfValue.length-1],u=s.pfValue[s.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var c=0;c<o;c++){var f=n.pfValue[c],h=a.pfValue[c],d=1-f,v=f,g=this.findMidptPtsEtc(t,e),p=g.midptPts,m=g.vectorNormInverse,b={x:p.x1*d+p.x2*v,y:p.y1*d+p.y2*v};r.segpts.push(b.x+m.x*h,b.y+m.y*h),r.radii.push(i.pfValue[c]!==void 0?i.pfValue[c]:l),r.isArcRadius.push((s.pfValue[c]!==void 0?s.pfValue[c]:u)==="arc-radius")}};or.findLoopPoints=function(t,e,r,n){var a=t._private.rscratch,i=e.dirCounts,s=e.srcPos,o=t.pstyle("control-point-distances"),l=o?o.pfValue[0]:void 0,u=t.pstyle("loop-direction").pfValue,c=t.pstyle("loop-sweep").pfValue,f=t.pstyle("control-point-step-size").pfValue;a.edgeType="self";var h=r,d=f;n&&(h=0,d=l);var v=u-Math.PI/2,g=v-c/2,p=v+c/2,m=u+"_"+c;h=i[m]===void 0?i[m]=0:++i[m],a.ctrlpts=[s.x+Math.cos(g)*1.4*d*(h/3+1),s.y+Math.sin(g)*1.4*d*(h/3+1),s.x+Math.cos(p)*1.4*d*(h/3+1),s.y+Math.sin(p)*1.4*d*(h/3+1)]};or.findCompoundLoopPoints=function(t,e,r,n){var a=t._private.rscratch;a.edgeType="compound";var i=e.srcPos,s=e.tgtPos,o=e.srcW,l=e.srcH,u=e.tgtW,c=e.tgtH,f=t.pstyle("control-point-step-size").pfValue,h=t.pstyle("control-point-distances"),d=h?h.pfValue[0]:void 0,v=r,g=f;n&&(v=0,g=d);var p=50,m={x:i.x-o/2,y:i.y-l/2},b={x:s.x-u/2,y:s.y-c/2},y={x:Math.min(m.x,b.x),y:Math.min(m.y,b.y)},w=.5,x=Math.max(w,Math.log(o*gs)),D=Math.max(w,Math.log(u*gs));a.ctrlpts=[y.x,y.y-(1+Math.pow(p,1.12)/100)*g*(v/3+1)*x,y.x-(1+Math.pow(p,1.12)/100)*g*(v/3+1)*D,y.y]};or.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};or.findBezierPoints=function(t,e,r,n,a){var i=t._private.rscratch,s=t.pstyle("control-point-step-size").pfValue,o=t.pstyle("control-point-distances"),l=t.pstyle("control-point-weights"),u=o&&l?Math.min(o.value.length,l.value.length):1,c=o?o.pfValue[0]:void 0,f=l.value[0],h=n;i.edgeType=h?"multibezier":"bezier",i.ctrlpts=[];for(var d=0;d<u;d++){var v=(.5-e.eles.length/2+r)*s*(a?-1:1),g=void 0,p=$f(v);h&&(c=o?o.pfValue[d]:s,f=l.value[d]),n?g=c:g=c!==void 0?p*c:void 0;var m=g!==void 0?g:v,b=1-f,y=f,w=this.findMidptPtsEtc(t,e),x=w.midptPts,D=w.vectorNormInverse,C={x:x.x1*b+x.x2*y,y:x.y1*b+x.y2*y};i.ctrlpts.push(C.x+D.x*m,C.y+D.y*m)}};or.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var n="vertical",a="horizontal",i="leftward",s="rightward",o="downward",l="upward",u="auto",c=e.posPts,f=e.srcW,h=e.srcH,d=e.tgtW,v=e.tgtH,g=t.pstyle("edge-distances").value,p=g!=="node-position",m=t.pstyle("taxi-direction").value,b=m,y=t.pstyle("taxi-turn"),w=y.units==="%",x=y.pfValue,D=x<0,C=t.pstyle("taxi-turn-min-distance").pfValue,N=p?(f+d)/2:0,k=p?(h+v)/2:0,O=c.x2-c.x1,F=c.y2-c.y1,S=function(I,J){return I>0?Math.max(I-J,0):Math.min(I+J,0)},P=S(O,N),E=S(F,k),L=!1;b===u?m=Math.abs(P)>Math.abs(E)?a:n:b===l||b===o?(m=n,L=!0):(b===i||b===s)&&(m=a,L=!0);var A=m===n,T=A?E:P,R=A?F:O,W=$f(R),q=!1;!(L&&(w||D))&&(b===o&&R<0||b===l&&R>0||b===i&&R>0||b===s&&R<0)&&(W*=-1,T=W*Math.abs(T),q=!0);var G;if(w){var $=x<0?1+x:x;G=$*T}else{var Q=x<0?T:0;G=Q+x*W}var oe=function(I){return Math.abs(I)<C||Math.abs(I)>=Math.abs(T)},ie=oe(G),ae=oe(Math.abs(T)-Math.abs(G)),Y=ie||ae;if(Y&&!q)if(A){var re=Math.abs(R)<=h/2,U=Math.abs(O)<=d/2;if(re){var V=(c.x1+c.x2)/2,X=c.y1,M=c.y2;r.segpts=[V,X,V,M]}else if(U){var B=(c.y1+c.y2)/2,z=c.x1,K=c.x2;r.segpts=[z,B,K,B]}else r.segpts=[c.x1,c.y2]}else{var ee=Math.abs(R)<=f/2,ne=Math.abs(F)<=v/2;if(ee){var se=(c.y1+c.y2)/2,ue=c.x1,le=c.x2;r.segpts=[ue,se,le,se]}else if(ne){var ce=(c.x1+c.x2)/2,pe=c.y1,de=c.y2;r.segpts=[ce,pe,ce,de]}else r.segpts=[c.x2,c.y1]}else if(A){var me=c.y1+G+(p?h/2*W:0),Ee=c.x1,Ae=c.x2;r.segpts=[Ee,me,Ae,me]}else{var ke=c.x1+G+(p?f/2*W:0),Pe=c.y1,Ie=c.y2;r.segpts=[ke,Pe,ke,Ie]}if(r.isRound){var Me=t.pstyle("taxi-radius").value,Te=t.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(Me),r.isArcRadius=new Array(r.segpts.length/2).fill(Te)}};or.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if(r.edgeType==="bezier"){var n=e.srcPos,a=e.tgtPos,i=e.srcW,s=e.srcH,o=e.tgtW,l=e.tgtH,u=e.srcShape,c=e.tgtShape,f=e.srcCornerRadius,h=e.tgtCornerRadius,d=e.srcRs,v=e.tgtRs,g=!Ne(r.startX)||!Ne(r.startY),p=!Ne(r.arrowStartX)||!Ne(r.arrowStartY),m=!Ne(r.endX)||!Ne(r.endY),b=!Ne(r.arrowEndX)||!Ne(r.arrowEndY),y=3,w=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,x=y*w,D=Ta({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),C=D<x,N=Ta({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),k=N<x,O=!1;if(g||p||C){O=!0;var F={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},S=Math.sqrt(F.x*F.x+F.y*F.y),P={x:F.x/S,y:F.y/S},E=Math.max(i,s),L={x:r.ctrlpts[0]+P.x*2*E,y:r.ctrlpts[1]+P.y*2*E},A=u.intersectLine(n.x,n.y,i,s,L.x,L.y,0,f,d);C?(r.ctrlpts[0]=r.ctrlpts[0]+P.x*(x-D),r.ctrlpts[1]=r.ctrlpts[1]+P.y*(x-D)):(r.ctrlpts[0]=A[0]+P.x*x,r.ctrlpts[1]=A[1]+P.y*x)}if(m||b||k){O=!0;var T={x:r.ctrlpts[0]-a.x,y:r.ctrlpts[1]-a.y},R=Math.sqrt(T.x*T.x+T.y*T.y),W={x:T.x/R,y:T.y/R},q=Math.max(i,s),G={x:r.ctrlpts[0]+W.x*2*q,y:r.ctrlpts[1]+W.y*2*q},$=c.intersectLine(a.x,a.y,o,l,G.x,G.y,0,h,v);k?(r.ctrlpts[0]=r.ctrlpts[0]+W.x*(x-N),r.ctrlpts[1]=r.ctrlpts[1]+W.y*(x-N)):(r.ctrlpts[0]=$[0]+W.x*x,r.ctrlpts[1]=$[1]+W.y*x)}O&&this.findEndpoints(t)}};or.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);e.allpts.push(e.endX,e.endY);var n,a;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,a=.5,e.midX=Gt(e.allpts[n],e.allpts[n+2],e.allpts[n+4],a),e.midY=Gt(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],a))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var i=2;i+3<e.allpts.length;i+=2){var s=e.radii[i/2-1],o=e.isArcRadius[i/2-1];e.roundCorners.push(ld({x:e.allpts[i-2],y:e.allpts[i-1]},{x:e.allpts[i],y:e.allpts[i+1],radius:s},{x:e.allpts[i+2],y:e.allpts[i+3]},s,o))}}if(e.segpts.length%4===0){var l=e.segpts.length/2,u=l-2;e.midX=(e.segpts[u]+e.segpts[l])/2,e.midY=(e.segpts[u+1]+e.segpts[l+1])/2}else{var c=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[c],e.midY=e.segpts[c+1];else{var f={x:e.segpts[c],y:e.segpts[c+1]},h=e.roundCorners[c/2];if(h.radius===0){var d={x:e.segpts[c+2],y:e.segpts[c+3]};e.midX=f.x,e.midY=f.y,e.midVector=[f.y-d.y,d.x-f.x]}else{var v=[f.x-h.cx,f.y-h.cy],g=h.radius/Math.sqrt(Math.pow(v[0],2)+Math.pow(v[1],2));v=v.map(function(p){return p*g}),e.midX=h.cx+v[0],e.midY=h.cy+v[1],e.midVector=v}}}}};or.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||Ne(e.startX)&&Ne(e.startY)&&Ne(e.endX)&&Ne(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,dt("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};or.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var r=this,n=r.cy,a=n.hasCompoundNodes(),i=new gn,s=function(k,O){return[].concat(Oo(k),[O?1:0]).join("-")},o=[],l=[],u=0;u<t.length;u++){var c=t[u],f=c._private,h=c.pstyle("curve-style").value;if(!(c.removed()||!c.takesUpSpace())){if(h==="haystack"){l.push(c);continue}var d=h==="unbundled-bezier"||kn(h,"segments")||h==="straight"||h==="straight-triangle"||kn(h,"taxi"),v=h==="unbundled-bezier"||h==="bezier",g=f.source,p=f.target,m=g.poolIndex(),b=p.poolIndex(),y=[m,b].sort(),w=s(y,d),x=i.get(w);x==null&&(x={eles:[]},o.push({pairId:y,edgeIsUnbundled:d}),i.set(w,x)),x.eles.push(c),d&&(x.hasUnbundled=!0),v&&(x.hasBezier=!0)}}for(var D=function(){var k=o[C],O=k.pairId,F=k.edgeIsUnbundled,S=s(O,F),P=i.get(S),E;if(!P.hasUnbundled){var L=P.eles[0].parallelEdges().filter(function(Te){return Te.isBundledBezier()});Xf(P.eles),L.forEach(function(Te){return P.eles.push(Te)}),P.eles.sort(function(Te,j){return Te.poolIndex()-j.poolIndex()})}var A=P.eles[0],T=A.source(),R=A.target();if(T.poolIndex()>R.poolIndex()){var W=T;T=R,R=W}var q=P.srcPos=T.position(),G=P.tgtPos=R.position(),$=P.srcW=T.outerWidth(),Q=P.srcH=T.outerHeight(),oe=P.tgtW=R.outerWidth(),ie=P.tgtH=R.outerHeight(),ae=P.srcShape=r.nodeShapes[e.getNodeShape(T)],Y=P.tgtShape=r.nodeShapes[e.getNodeShape(R)],re=P.srcCornerRadius=T.pstyle("corner-radius").value==="auto"?"auto":T.pstyle("corner-radius").pfValue,U=P.tgtCornerRadius=R.pstyle("corner-radius").value==="auto"?"auto":R.pstyle("corner-radius").pfValue,V=P.tgtRs=R._private.rscratch,X=P.srcRs=T._private.rscratch;P.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var M=0;M<P.eles.length;M++){var B=P.eles[M],z=B[0]._private.rscratch,K=B.pstyle("curve-style").value,ee=K==="unbundled-bezier"||kn(K,"segments")||kn(K,"taxi"),ne=!T.same(B.source());if(!P.calculatedIntersection&&T!==R&&(P.hasBezier||P.hasUnbundled)){P.calculatedIntersection=!0;var se=ae.intersectLine(q.x,q.y,$,Q,G.x,G.y,0,re,X),ue=P.srcIntn=se,le=Y.intersectLine(G.x,G.y,oe,ie,q.x,q.y,0,U,V),ce=P.tgtIntn=le,pe=P.intersectionPts={x1:se[0],x2:le[0],y1:se[1],y2:le[1]},de=P.posPts={x1:q.x,x2:G.x,y1:q.y,y2:G.y},me=le[1]-se[1],Ee=le[0]-se[0],Ae=Math.sqrt(Ee*Ee+me*me);Ne(Ae)&&Ae>=f2||(Ae=Math.sqrt(Math.max(Ee*Ee,gs)+Math.max(me*me,gs)));var ke=P.vector={x:Ee,y:me},Pe=P.vectorNorm={x:ke.x/Ae,y:ke.y/Ae},Ie={x:-Pe.y,y:Pe.x};P.nodesOverlap=!Ne(Ae)||Y.checkPoint(se[0],se[1],0,oe,ie,G.x,G.y,U,V)||ae.checkPoint(le[0],le[1],0,$,Q,q.x,q.y,re,X),P.vectorNormInverse=Ie,E={nodesOverlap:P.nodesOverlap,dirCounts:P.dirCounts,calculatedIntersection:!0,hasBezier:P.hasBezier,hasUnbundled:P.hasUnbundled,eles:P.eles,srcPos:G,srcRs:V,tgtPos:q,tgtRs:X,srcW:oe,srcH:ie,tgtW:$,tgtH:Q,srcIntn:ce,tgtIntn:ue,srcShape:Y,tgtShape:ae,posPts:{x1:de.x2,y1:de.y2,x2:de.x1,y2:de.y1},intersectionPts:{x1:pe.x2,y1:pe.y2,x2:pe.x1,y2:pe.y1},vector:{x:-ke.x,y:-ke.y},vectorNorm:{x:-Pe.x,y:-Pe.y},vectorNormInverse:{x:-Ie.x,y:-Ie.y}}}var Me=ne?E:P;z.nodesOverlap=Me.nodesOverlap,z.srcIntn=Me.srcIntn,z.tgtIntn=Me.tgtIntn,z.isRound=K.startsWith("round"),a&&(T.isParent()||T.isChild()||R.isParent()||R.isChild())&&(T.parents().anySame(R)||R.parents().anySame(T)||T.same(R)&&T.isParent())?e.findCompoundLoopPoints(B,Me,M,ee):T===R?e.findLoopPoints(B,Me,M,ee):K.endsWith("segments")?e.findSegmentsPoints(B,Me):K.endsWith("taxi")?e.findTaxiPoints(B,Me):K==="straight"||!ee&&P.eles.length%2===1&&M===Math.floor(P.eles.length/2)?e.findStraightEdgePoints(B):e.findBezierPoints(B,Me,M,ee,ne),e.findEndpoints(B),e.tryToCorrectInvalidPoints(B,Me),e.checkForInvalidEdgeWarning(B),e.storeAllpts(B),e.storeEdgeProjections(B),e.calculateArrowAngles(B),e.recalculateEdgeLabelProjections(B),e.calculateLabelAngles(B)}},C=0;C<o.length;C++)D();this.findHaystackPoints(l)}};function b0(t){var e=[];if(t!=null){for(var r=0;r<t.length;r+=2){var n=t[r],a=t[r+1];e.push({x:n,y:a})}return e}}or.getSegmentPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="segments")return b0(e.segpts)};or.getControlPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return b0(e.ctrlpts)};or.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var Ps={};Ps.manualEndptToPx=function(t,e){var r=this,n=t.position(),a=t.outerWidth(),i=t.outerHeight(),s=t._private.rscratch;if(e.value.length===2){var o=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(o[0]=o[0]*a),e.units[1]==="%"&&(o[1]=o[1]*i),o[0]+=n.x,o[1]+=n.y,o}else{var l=e.pfValue[0];l=-Math.PI/2+l;var u=2*Math.max(a,i),c=[n.x+Math.cos(l)*u,n.y+Math.sin(l)*u];return r.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,a,i,c[0],c[1],0,t.pstyle("corner-radius").value==="auto"?"auto":t.pstyle("corner-radius").pfValue,s)}};Ps.findEndpoints=function(t){var e,r,n,a,i=this,s,o=t.source()[0],l=t.target()[0],u=o.position(),c=l.position(),f=t.pstyle("target-arrow-shape").value,h=t.pstyle("source-arrow-shape").value,d=t.pstyle("target-distance-from-node").pfValue,v=t.pstyle("source-distance-from-node").pfValue,g=o._private.rscratch,p=l._private.rscratch,m=t.pstyle("curve-style").value,b=t._private.rscratch,y=b.edgeType,w=kn(m,"taxi"),x=y==="self"||y==="compound",D=y==="bezier"||y==="multibezier"||x,C=y!=="bezier",N=y==="straight"||y==="segments",k=y==="segments",O=D||C||N,F=x||w,S=t.pstyle("source-endpoint"),P=F?"outside-to-node":S.value,E=o.pstyle("corner-radius").value==="auto"?"auto":o.pstyle("corner-radius").pfValue,L=t.pstyle("target-endpoint"),A=F?"outside-to-node":L.value,T=l.pstyle("corner-radius").value==="auto"?"auto":l.pstyle("corner-radius").pfValue;b.srcManEndpt=S,b.tgtManEndpt=L;var R,W,q,G,$=(e=(L==null||(r=L.pfValue)===null||r===void 0?void 0:r.length)===2?L.pfValue:null)!==null&&e!==void 0?e:[0,0],Q=(n=(S==null||(a=S.pfValue)===null||a===void 0?void 0:a.length)===2?S.pfValue:null)!==null&&n!==void 0?n:[0,0];if(D){var oe=[b.ctrlpts[0],b.ctrlpts[1]],ie=C?[b.ctrlpts[b.ctrlpts.length-2],b.ctrlpts[b.ctrlpts.length-1]]:oe;R=ie,W=oe}else if(N){var ae=k?b.segpts.slice(0,2):[c.x+$[0],c.y+$[1]],Y=k?b.segpts.slice(b.segpts.length-2):[u.x+Q[0],u.y+Q[1]];R=Y,W=ae}if(A==="inside-to-node")s=[c.x,c.y];else if(L.units)s=this.manualEndptToPx(l,L);else if(A==="outside-to-line")s=b.tgtIntn;else if(A==="outside-to-node"||A==="outside-to-node-or-label"?q=R:(A==="outside-to-line"||A==="outside-to-line-or-label")&&(q=[u.x,u.y]),s=i.nodeShapes[this.getNodeShape(l)].intersectLine(c.x,c.y,l.outerWidth(),l.outerHeight(),q[0],q[1],0,T,p),A==="outside-to-node-or-label"||A==="outside-to-line-or-label"){var re=l._private.rscratch,U=re.labelWidth,V=re.labelHeight,X=re.labelX,M=re.labelY,B=U/2,z=V/2,K=l.pstyle("text-valign").value;K==="top"?M-=z:K==="bottom"&&(M+=z);var ee=l.pstyle("text-halign").value;ee==="left"?X-=B:ee==="right"&&(X+=B);var ne=cs(q[0],q[1],[X-B,M-z,X+B,M-z,X+B,M+z,X-B,M+z],c.x,c.y);if(ne.length>0){var se=u,ue=fa(se,Ga(s)),le=fa(se,Ga(ne)),ce=ue;if(le<ue&&(s=ne,ce=le),ne.length>2){var pe=fa(se,{x:ne[2],y:ne[3]});pe<ce&&(s=[ne[2],ne[3]])}}}var de=qs(s,R,i.arrowShapes[f].spacing(t)+d),me=qs(s,R,i.arrowShapes[f].gap(t)+d);if(b.endX=me[0],b.endY=me[1],b.arrowEndX=de[0],b.arrowEndY=de[1],P==="inside-to-node")s=[u.x,u.y];else if(S.units)s=this.manualEndptToPx(o,S);else if(P==="outside-to-line")s=b.srcIntn;else if(P==="outside-to-node"||P==="outside-to-node-or-label"?G=W:(P==="outside-to-line"||P==="outside-to-line-or-label")&&(G=[c.x,c.y]),s=i.nodeShapes[this.getNodeShape(o)].intersectLine(u.x,u.y,o.outerWidth(),o.outerHeight(),G[0],G[1],0,E,g),P==="outside-to-node-or-label"||P==="outside-to-line-or-label"){var Ee=o._private.rscratch,Ae=Ee.labelWidth,ke=Ee.labelHeight,Pe=Ee.labelX,Ie=Ee.labelY,Me=Ae/2,Te=ke/2,j=o.pstyle("text-valign").value;j==="top"?Ie-=Te:j==="bottom"&&(Ie+=Te);var I=o.pstyle("text-halign").value;I==="left"?Pe-=Me:I==="right"&&(Pe+=Me);var J=cs(G[0],G[1],[Pe-Me,Ie-Te,Pe+Me,Ie-Te,Pe+Me,Ie+Te,Pe-Me,Ie+Te],u.x,u.y);if(J.length>0){var H=c,Z=fa(H,Ga(s)),te=fa(H,Ga(J)),ve=Z;if(te<Z&&(s=[J[0],J[1]],ve=te),J.length>2){var fe=fa(H,{x:J[2],y:J[3]});fe<ve&&(s=[J[2],J[3]])}}}var he=qs(s,W,i.arrowShapes[h].spacing(t)+v),ge=qs(s,W,i.arrowShapes[h].gap(t)+v);b.startX=ge[0],b.startY=ge[1],b.arrowStartX=he[0],b.arrowStartY=he[1],O&&(!Ne(b.startX)||!Ne(b.startY)||!Ne(b.endX)||!Ne(b.endY)?b.badLine=!0:b.badLine=!1)};Ps.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};Ps.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var ud={};function d2(t,e,r){for(var n=function(u,c,f,h){return Gt(u,c,f,h)},a=e._private,i=a.rstyle.bezierPts,s=0;s<t.bezierProjPcts.length;s++){var o=t.bezierProjPcts[s];i.push({x:n(r[0],r[2],r[4],o),y:n(r[1],r[3],r[5],o)})}}ud.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,n=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var a=0;a+5<r.allpts.length;a+=4)d2(this,t,r.allpts.slice(a,a+6))}else if(n==="segments")for(var i=e.rstyle.linePts=[],a=0;a+1<r.allpts.length;a+=2)i.push({x:r.allpts[a],y:r.allpts[a+1]});else if(n==="haystack"){var s=r.haystackPts;e.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};ud.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var rn={};rn.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!Gn(e)){var r,n,a=t._private,i=t.width(),s=t.height(),o=t.padding(),l=t.position(),u=t.pstyle("text-halign").strValue,c=t.pstyle("text-valign").strValue,f=a.rscratch,h=a.rstyle;switch(u){case"left":r=l.x-i/2-o;break;case"right":r=l.x+i/2+o;break;default:r=l.x}switch(c){case"top":n=l.y-s/2-o;break;case"bottom":n=l.y+s/2+o;break;default:n=l.y}f.labelX=r,f.labelY=n,h.labelX=r,h.labelY=n,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var w0=function(e,r){var n=Math.atan(r/e);return e===0&&n<0&&(n=n*-1),n},E0=function(e,r){var n=r.x-e.x,a=r.y-e.y;return w0(n,a)},h2=function(e,r,n,a){var i=us(0,a-.001,1),s=us(0,a+.001,1),o=ti(e,r,n,i),l=ti(e,r,n,s);return E0(o,l)};rn.recalculateEdgeLabelProjections=function(t){var e,r=t._private,n=r.rscratch,a=this,i={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(i.mid||i.source||i.target){e={x:n.midX,y:n.midY};var s=function(f,h,d){fn(r.rscratch,f,h,d),fn(r.rstyle,f,h,d)};s("labelX",null,e.x),s("labelY",null,e.y);var o=w0(n.midDispX,n.midDispY);s("labelAutoAngle",null,o);var l=function(){if(l.cache)return l.cache;for(var f=[],h=0;h+5<n.allpts.length;h+=4){var d={x:n.allpts[h],y:n.allpts[h+1]},v={x:n.allpts[h+2],y:n.allpts[h+3]},g={x:n.allpts[h+4],y:n.allpts[h+5]};f.push({p0:d,p1:v,p2:g,startDist:0,length:0,segments:[]})}var p=r.rstyle.bezierPts,m=a.bezierProjPcts.length;function b(C,N,k,O,F){var S=Ta(N,k),P=C.segments[C.segments.length-1],E={p0:N,p1:k,t0:O,t1:F,startDist:P?P.startDist+P.length:0,length:S};C.segments.push(E),C.length+=S}for(var y=0;y<f.length;y++){var w=f[y],x=f[y-1];x&&(w.startDist=x.startDist+x.length),b(w,w.p0,p[y*m],0,a.bezierProjPcts[0]);for(var D=0;D<m-1;D++)b(w,p[y*m+D],p[y*m+D+1],a.bezierProjPcts[D],a.bezierProjPcts[D+1]);b(w,p[y*m+m-1],w.p2,a.bezierProjPcts[m-1],1)}return l.cache=f},u=function(f){var h,d=f==="source";if(i[f]){var v=t.pstyle(f+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var g=l(),p,m=0,b=0,y=0;y<g.length;y++){for(var w=g[d?y:g.length-1-y],x=0;x<w.segments.length;x++){var D=w.segments[d?x:w.segments.length-1-x],C=y===g.length-1&&x===w.segments.length-1;if(m=b,b+=D.length,b>=v||C){p={cp:w,segment:D};break}}if(p)break}var N=p.cp,k=p.segment,O=(v-m)/k.length,F=k.t1-k.t0,S=d?k.t0+F*O:k.t1-F*O;S=us(0,S,1),e=ti(N.p0,N.p1,N.p2,S),h=h2(N.p0,N.p1,N.p2,S);break}case"straight":case"segments":case"haystack":{for(var P=0,E,L,A,T,R=n.allpts.length,W=0;W+3<R&&(d?(A={x:n.allpts[W],y:n.allpts[W+1]},T={x:n.allpts[W+2],y:n.allpts[W+3]}):(A={x:n.allpts[R-2-W],y:n.allpts[R-1-W]},T={x:n.allpts[R-4-W],y:n.allpts[R-3-W]}),E=Ta(A,T),L=P,P+=E,!(P>=v));W+=2);var q=v-L,G=q/E;G=us(0,G,1),e=ID(A,T,G),h=E0(A,T);break}}s("labelX",f,e.x),s("labelY",f,e.y),s("labelAutoAngle",f,h)}};u("source"),u("target"),this.applyLabelDimensions(t)}};rn.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};rn.applyPrefixedLabelDimensions=function(t,e){var r=t._private,n=this.getLabelText(t,e),a=Ca(n,t._private.labelDimsKey);if(mr(r.rscratch,"prefixedLabelDimsKey",e)!==a){fn(r.rscratch,"prefixedLabelDimsKey",e,a);var i=this.calculateLabelDimensions(t,n),s=t.pstyle("line-height").pfValue,o=t.pstyle("text-wrap").strValue,l=mr(r.rscratch,"labelWrapCachedLines",e)||[],u=o!=="wrap"?1:Math.max(l.length,1),c=i.height/u,f=c*s,h=i.width,d=i.height+(u-1)*(s-1)*c;fn(r.rstyle,"labelWidth",e,h),fn(r.rscratch,"labelWidth",e,h),fn(r.rstyle,"labelHeight",e,d),fn(r.rscratch,"labelHeight",e,d),fn(r.rscratch,"labelLineHeight",e,f)}};rn.getLabelText=function(t,e){var r=t._private,n=e?e+"-":"",a=t.pstyle(n+"label").strValue,i=t.pstyle("text-transform").value,s=function(Q,oe){return oe?(fn(r.rscratch,Q,e,oe),oe):mr(r.rscratch,Q,e)};if(!a)return"";i=="none"||(i=="uppercase"?a=a.toUpperCase():i=="lowercase"&&(a=a.toLowerCase()));var o=t.pstyle("text-wrap").value;if(o==="wrap"){var l=s("labelKey");if(l!=null&&s("labelWrapKey")===l)return s("labelWrapCachedText");for(var u="",c=a.split(`
`),f=t.pstyle("text-max-width").pfValue,h=t.pstyle("text-overflow-wrap").value,d=h==="anywhere",v=[],g=/[\s\u200b]+|$/g,p=0;p<c.length;p++){var m=c[p],b=this.calculateLabelDimensions(t,m),y=b.width;if(d){var w=m.split("").join(u);m=w}if(y>f){var x=m.matchAll(g),D="",C=0,N=wr(x),k;try{for(N.s();!(k=N.n()).done;){var O=k.value,F=O[0],S=m.substring(C,O.index);C=O.index+F.length;var P=D.length===0?S:D+S+F,E=this.calculateLabelDimensions(t,P),L=E.width;L<=f?D+=S+F:(D&&v.push(D),D=S+F)}}catch($){N.e($)}finally{N.f()}D.match(/^[\s\u200b]+$/)||v.push(D)}else v.push(m)}s("labelWrapCachedLines",v),a=s("labelWrapCachedText",v.join(`
`)),s("labelWrapKey",l)}else if(o==="ellipsis"){var A=t.pstyle("text-max-width").pfValue,T="",R="",W=!1;if(this.calculateLabelDimensions(t,a).width<A)return a;for(var q=0;q<a.length;q++){var G=this.calculateLabelDimensions(t,T+a[q]+R).width;if(G>A)break;T+=a[q],q===a.length-1&&(W=!0)}return W||(T+=R),T}return a};rn.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};rn.calculateLabelDimensions=function(t,e){var r=this,n=r.cy.window(),a=n.document,i=0,s=t.pstyle("font-style").strValue,o=t.pstyle("font-size").pfValue,l=t.pstyle("font-family").strValue,u=t.pstyle("font-weight").strValue,c=this.labelCalcCanvas,f=this.labelCalcCanvasContext;if(!c){c=this.labelCalcCanvas=a.createElement("canvas"),f=this.labelCalcCanvasContext=c.getContext("2d");var h=c.style;h.position="absolute",h.left="-9999px",h.top="-9999px",h.zIndex="-1",h.visibility="hidden",h.pointerEvents="none"}f.font="".concat(s," ").concat(u," ").concat(o,"px ").concat(l);for(var d=0,v=0,g=e.split(`
`),p=0;p<g.length;p++){var m=g[p],b=f.measureText(m),y=Math.ceil(b.width),w=o;d=Math.max(y,d),v+=w}return d+=i,v+=i,{width:d,height:v}};rn.calculateLabelAngle=function(t,e){var r=t._private,n=r.rscratch,a=t.isEdge(),i=e?e+"-":"",s=t.pstyle(i+"text-rotation"),o=s.strValue;return o==="none"?0:a&&o==="autorotate"?n.labelAutoAngle:o==="autorotate"?0:s.pfValue};rn.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),n=t._private,a=n.rscratch;a.labelAngle=e.calculateLabelAngle(t),r&&(a.sourceLabelAngle=e.calculateLabelAngle(t,"source"),a.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var x0={},_g=28,zg=!1;x0.getNodeShape=function(t){var e=this,r=t.pstyle("shape").value;if(r==="cutrectangle"&&(t.width()<_g||t.height()<_g))return zg||(dt("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),zg=!0),"rectangle";if(t.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return r};var Ol={};Ol.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),r=this,n=function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(s),o)for(var l=0;l<s.length;l++){var u=s[l],c=u._private,f=c.rstyle;f.clean=!1,f.cleanConnected=!1}};r.binder(t).on("bounds.* dirty.*",function(s){var o=s.target;n(o)}).on("style.* background.*",function(s){var o=s.target;n(o,!1)});var a=function(s){if(s){var o=r.onUpdateEleCalcsFns;e.cleanStyle();for(var l=0;l<e.length;l++){var u=e[l],c=u._private.rstyle;u.isNode()&&!c.cleanConnected&&(n(u.connectedEdges()),c.cleanConnected=!0)}if(o)for(var f=0;f<o.length;f++){var h=o[f];h(s,e)}r.recalculateRenderedStyle(e),e=t.collection()}};r.flushRenderedStyleQueue=function(){a(!0)},r.beforeRender(a,r.beforeRenderPriorities.eleCalcs)};Ol.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};Ol.recalculateRenderedStyle=function(t,e){var r=function(w){return w._private.rstyle.cleanConnected};if(t.length!==0){var n=[],a=[];if(!this.destroyed){e===void 0&&(e=!0);for(var i=0;i<t.length;i++){var s=t[i],o=s._private,l=o.rstyle;s.isEdge()&&(!r(s.source())||!r(s.target()))&&(l.clean=!1),s.isEdge()&&s.isBundledBezier()&&s.parallelEdges().some(function(y){return!y._private.rstyle.clean&&y.isBundledBezier()})&&(l.clean=!1),!(e&&l.clean||s.removed())&&s.pstyle("display").value!=="none"&&(o.group==="nodes"?a.push(s):n.push(s),l.clean=!0)}for(var u=0;u<a.length;u++){var c=a[u],f=c._private,h=f.rstyle,d=c.position();this.recalculateNodeLabelProjection(c),h.nodeX=d.x,h.nodeY=d.y,h.nodeW=c.pstyle("width").pfValue,h.nodeH=c.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var v=0;v<n.length;v++){var g=n[v],p=g._private,m=p.rstyle,b=p.rscratch;m.srcX=b.arrowStartX,m.srcY=b.arrowStartY,m.tgtX=b.arrowEndX,m.tgtY=b.arrowEndY,m.midX=b.midX,m.midY=b.midY,m.labelAngle=b.labelAngle,m.sourceLabelAngle=b.sourceLabelAngle,m.targetLabelAngle=b.targetLabelAngle}}}};var kl={};kl.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var n=t[r],a=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):a.inDragLayer?t.drag.push(n):t.nondrag.push(n)}for(var r=0;r<e.length;r++){var n=e[r];t.drag.push(n)}}};kl.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};kl.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(n0),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var C0={};[La,Go,or,Ps,ud,rn,x0,Ol,kl].forEach(function(t){qe(C0,t)});var T0={};T0.getCachedImage=function(t,e,r){var n=this,a=n.imageCache=n.imageCache||{},i=a[t];if(i)return i.image.complete||i.image.addEventListener("load",r),i.image;i=a[t]=a[t]||{};var s=i.image=new Image;s.addEventListener("load",r),s.addEventListener("error",function(){s.error=!0});var o="data:",l=t.substring(0,o.length).toLowerCase()===o;return l||(e=e==="null"?null:e,s.crossOrigin=e),s.src=t,s};var pi={};pi.registerBinding=function(t,e,r,n){var a=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(t)){for(var i=[],s=0;s<t.length;s++){var o=t[s];if(o!==void 0){var l=this.binder(o);i.push(l.on.apply(l,a))}}return i}var l=this.binder(t);return l.on.apply(l,a)};pi.binder=function(t){var e=this,r=e.cy.window(),n=t===r||t===r.document||t===r.document.body||SA(t);if(e.supportsPassiveEvents==null){var a=!1;try{var i=Object.defineProperty({},"passive",{get:function(){return a=!0,!0}});r.addEventListener("test",null,i)}catch{}e.supportsPassiveEvents=a}var s=function(l,u,c){var f=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(f[2]={capture:c??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:f}),(t.addEventListener||t.on).apply(t,f),this};return{on:s,addEventListener:s,addListener:s,bind:s}};pi.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};pi.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};pi.load=function(){var t=this,e=t.cy.window(),r=function(I){return I.selected()},n=function(I){var J=I.getRootNode();if(J&&J.nodeType===11&&J.host!==void 0)return J},a=function(I,J,H,Z){I==null&&(I=t.cy);for(var te=0;te<J.length;te++){var ve=J[te];I.emit({originalEvent:H,type:ve,position:Z})}},i=function(I){return I.shiftKey||I.metaKey||I.ctrlKey},s=function(I,J){var H=!0;if(t.cy.hasCompoundNodes()&&I&&I.pannable())for(var Z=0;J&&Z<J.length;Z++){var I=J[Z];if(I.isNode()&&I.isParent()&&!I.pannable()){H=!1;break}}else H=!0;return H},o=function(I){I[0]._private.grabbed=!0},l=function(I){I[0]._private.grabbed=!1},u=function(I){I[0]._private.rscratch.inDragLayer=!0},c=function(I){I[0]._private.rscratch.inDragLayer=!1},f=function(I){I[0]._private.rscratch.isGrabTarget=!0},h=function(I){I[0]._private.rscratch.isGrabTarget=!1},d=function(I,J){var H=J.addToList,Z=H.has(I);!Z&&I.grabbable()&&!I.locked()&&(H.merge(I),o(I))},v=function(I,J){if(I.cy().hasCompoundNodes()&&!(J.inDragLayer==null&&J.addToList==null)){var H=I.descendants();J.inDragLayer&&(H.forEach(u),H.connectedEdges().forEach(u)),J.addToList&&d(H,J)}},g=function(I,J){J=J||{};var H=I.cy().hasCompoundNodes();J.inDragLayer&&(I.forEach(u),I.neighborhood().stdFilter(function(Z){return!H||Z.isEdge()}).forEach(u)),J.addToList&&I.forEach(function(Z){d(Z,J)}),v(I,J),b(I,{inDragLayer:J.inDragLayer}),t.updateCachedGrabbedEles()},p=g,m=function(I){I&&(t.getCachedZSortedEles().forEach(function(J){l(J),c(J),h(J)}),t.updateCachedGrabbedEles())},b=function(I,J){if(!(J.inDragLayer==null&&J.addToList==null)&&I.cy().hasCompoundNodes()){var H=I.ancestors().orphans();if(!H.same(I)){var Z=H.descendants().spawnSelf().merge(H).unmerge(I).unmerge(I.descendants()),te=Z.connectedEdges();J.inDragLayer&&(te.forEach(u),Z.forEach(u)),J.addToList&&Z.forEach(function(ve){d(ve,J)})}}},y=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},w=typeof MutationObserver<"u",x=typeof ResizeObserver<"u";w?(t.removeObserver=new MutationObserver(function(j){for(var I=0;I<j.length;I++){var J=j[I],H=J.removedNodes;if(H)for(var Z=0;Z<H.length;Z++){var te=H[Z];if(te===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(j){t.destroy()});var D=Ds(function(){t.cy.resize()},100);w&&(t.styleObserver=new MutationObserver(D),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",D),x&&(t.resizeObserver=new ResizeObserver(D),t.resizeObserver.observe(t.container));var C=function(I,J){for(;I!=null;)J(I),I=I.parentNode},N=function(){t.invalidateContainerClientCoordsCache()};C(t.container,function(j){t.registerBinding(j,"transitionend",N),t.registerBinding(j,"animationend",N),t.registerBinding(j,"scroll",N)}),t.registerBinding(t.container,"contextmenu",function(j){j.preventDefault()});var k=function(){return t.selection[4]!==0},O=function(I){for(var J=t.findContainerClientCoords(),H=J[0],Z=J[1],te=J[2],ve=J[3],fe=I.touches?I.touches:[I],he=!1,ge=0;ge<fe.length;ge++){var we=fe[ge];if(H<=we.clientX&&we.clientX<=H+te&&Z<=we.clientY&&we.clientY<=Z+ve){he=!0;break}}if(!he)return!1;for(var Oe=t.container,Le=I.target,Re=Le.parentNode,Se=!1;Re;){if(Re===Oe){Se=!0;break}Re=Re.parentNode}return!!Se};t.registerBinding(t.container,"mousedown",function(I){if(O(I)&&!(t.hoverData.which===1&&I.which!==1)){I.preventDefault(),y(),t.hoverData.capture=!0,t.hoverData.which=I.which;var J=t.cy,H=[I.clientX,I.clientY],Z=t.projectIntoViewport(H[0],H[1]),te=t.selection,ve=t.findNearestElements(Z[0],Z[1],!0,!1),fe=ve[0],he=t.dragData.possibleDragElements;t.hoverData.mdownPos=Z,t.hoverData.mdownGPos=H;var ge=function(Ce){return{originalEvent:I,type:Ce,position:{x:Z[0],y:Z[1]}}},we=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var Ce=t.hoverData.down;Ce?Ce.emit(ge("taphold")):J.emit(ge("taphold"))}},t.tapholdDuration)};if(I.which==3){t.hoverData.cxtStarted=!0;var Oe={originalEvent:I,type:"cxttapstart",position:{x:Z[0],y:Z[1]}};fe?(fe.activate(),fe.emit(Oe),t.hoverData.down=fe):J.emit(Oe),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(I.which==1){fe&&fe.activate();{if(fe!=null&&t.nodeIsGrabbable(fe)){var Le=function(Ce){Ce.emit(ge("grab"))};if(f(fe),!fe.selected())he=t.dragData.possibleDragElements=J.collection(),p(fe,{addToList:he}),fe.emit(ge("grabon")).emit(ge("grab"));else{he=t.dragData.possibleDragElements=J.collection();var Re=J.$(function(Se){return Se.isNode()&&Se.selected()&&t.nodeIsGrabbable(Se)});g(Re,{addToList:he}),fe.emit(ge("grabon")),Re.forEach(Le)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=fe,t.hoverData.downs=ve,t.hoverData.downTime=new Date().getTime()}a(fe,["mousedown","tapstart","vmousedown"],I,{x:Z[0],y:Z[1]}),fe==null?(te[4]=1,t.data.bgActivePosistion={x:Z[0],y:Z[1]},t.redrawHint("select",!0),t.redraw()):fe.pannable()&&(te[4]=1),we()}te[0]=te[2]=Z[0],te[1]=te[3]=Z[1]}},!1);var F=n(t.container);t.registerBinding([e,F],"mousemove",function(I){var J=t.hoverData.capture;if(!(!J&&!O(I))){var H=!1,Z=t.cy,te=Z.zoom(),ve=[I.clientX,I.clientY],fe=t.projectIntoViewport(ve[0],ve[1]),he=t.hoverData.mdownPos,ge=t.hoverData.mdownGPos,we=t.selection,Oe=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(Oe=t.findNearestElement(fe[0],fe[1],!0,!1));var Le=t.hoverData.last,Re=t.hoverData.down,Se=[fe[0]-we[2],fe[1]-we[3]],Ce=t.dragData.possibleDragElements,He;if(ge){var Fe=ve[0]-ge[0],Be=Fe*Fe,Qe=ve[1]-ge[1],Ue=Qe*Qe,Ge=Be+Ue;t.hoverData.isOverThresholdDrag=He=Ge>=t.desktopTapThreshold2}var st=i(I);He&&(t.hoverData.tapholdCancelled=!0);var vt=function(){var _t=t.hoverData.dragDelta=t.hoverData.dragDelta||[];_t.length===0?(_t.push(Se[0]),_t.push(Se[1])):(_t[0]+=Se[0],_t[1]+=Se[1])};H=!0,a(Oe,["mousemove","vmousemove","tapdrag"],I,{x:fe[0],y:fe[1]});var je=function(_t){return{originalEvent:I,type:_t,position:{x:fe[0],y:fe[1]}}},nt=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||Z.emit(je("boxstart")),we[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(He){var Nt=je("cxtdrag");Re?Re.emit(Nt):Z.emit(Nt),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||Oe!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit(je("cxtdragout")),t.hoverData.cxtOver=Oe,Oe&&Oe.emit(je("cxtdragover")))}}else if(t.hoverData.dragging){if(H=!0,Z.panningEnabled()&&Z.userPanningEnabled()){var Cr;if(t.hoverData.justStartedPan){var Cn=t.hoverData.mdownPos;Cr={x:(fe[0]-Cn[0])*te,y:(fe[1]-Cn[1])*te},t.hoverData.justStartedPan=!1}else Cr={x:Se[0]*te,y:Se[1]*te};Z.panBy(Cr),Z.emit(je("dragpan")),t.hoverData.dragged=!0}fe=t.projectIntoViewport(I.clientX,I.clientY)}else if(we[4]==1&&(Re==null||Re.pannable())){if(He){if(!t.hoverData.dragging&&Z.boxSelectionEnabled()&&(st||!Z.panningEnabled()||!Z.userPanningEnabled()))nt();else if(!t.hoverData.selecting&&Z.panningEnabled()&&Z.userPanningEnabled()){var lr=s(Re,t.hoverData.downs);lr&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,we[4]=0,t.data.bgActivePosistion=Ga(he),t.redrawHint("select",!0),t.redraw())}Re&&Re.pannable()&&Re.active()&&Re.unactivate()}}else{if(Re&&Re.pannable()&&Re.active()&&Re.unactivate(),(!Re||!Re.grabbed())&&Oe!=Le&&(Le&&a(Le,["mouseout","tapdragout"],I,{x:fe[0],y:fe[1]}),Oe&&a(Oe,["mouseover","tapdragover"],I,{x:fe[0],y:fe[1]}),t.hoverData.last=Oe),Re)if(He){if(Z.boxSelectionEnabled()&&st)Re&&Re.grabbed()&&(m(Ce),Re.emit(je("freeon")),Ce.emit(je("free")),t.dragData.didDrag&&(Re.emit(je("dragfreeon")),Ce.emit(je("dragfree")))),nt();else if(Re&&Re.grabbed()&&t.nodeIsDraggable(Re)){var Mt=!t.dragData.didDrag;Mt&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||g(Ce,{inDragLayer:!0});var Ct={x:0,y:0};if(Ne(Se[0])&&Ne(Se[1])&&(Ct.x+=Se[0],Ct.y+=Se[1],Mt)){var Dt=t.hoverData.dragDelta;Dt&&Ne(Dt[0])&&Ne(Dt[1])&&(Ct.x+=Dt[0],Ct.y+=Dt[1])}t.hoverData.draggingEles=!0,Ce.silentShift(Ct).emit(je("position")).emit(je("drag")),t.redrawHint("drag",!0),t.redraw()}}else vt();H=!0}if(we[2]=fe[0],we[3]=fe[1],H)return I.stopPropagation&&I.stopPropagation(),I.preventDefault&&I.preventDefault(),!1}},!1);var S,P,E;t.registerBinding(e,"mouseup",function(I){if(!(t.hoverData.which===1&&I.which!==1&&t.hoverData.capture)){var J=t.hoverData.capture;if(J){t.hoverData.capture=!1;var H=t.cy,Z=t.projectIntoViewport(I.clientX,I.clientY),te=t.selection,ve=t.findNearestElement(Z[0],Z[1],!0,!1),fe=t.dragData.possibleDragElements,he=t.hoverData.down,ge=i(I);t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,he&&he.unactivate();var we=function(Fe){return{originalEvent:I,type:Fe,position:{x:Z[0],y:Z[1]}}};if(t.hoverData.which===3){var Oe=we("cxttapend");if(he?he.emit(Oe):H.emit(Oe),!t.hoverData.cxtDragged){var Le=we("cxttap");he?he.emit(Le):H.emit(Le)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(a(ve,["mouseup","tapend","vmouseup"],I,{x:Z[0],y:Z[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(a(he,["click","tap","vclick"],I,{x:Z[0],y:Z[1]}),P=!1,I.timeStamp-E<=H.multiClickDebounceTime()?(S&&clearTimeout(S),P=!0,E=null,a(he,["dblclick","dbltap","vdblclick"],I,{x:Z[0],y:Z[1]})):(S=setTimeout(function(){P||a(he,["oneclick","onetap","voneclick"],I,{x:Z[0],y:Z[1]})},H.multiClickDebounceTime()),E=I.timeStamp)),he==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!i(I)&&(H.$(r).unselect(["tapunselect"]),fe.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=fe=H.collection()),ve==he&&!t.dragData.didDrag&&!t.hoverData.selecting&&ve!=null&&ve._private.selectable&&(t.hoverData.dragging||(H.selectionType()==="additive"||ge?ve.selected()?ve.unselect(["tapunselect"]):ve.select(["tapselect"]):ge||(H.$(r).unmerge(ve).unselect(["tapunselect"]),ve.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var Re=H.collection(t.getAllInBox(te[0],te[1],te[2],te[3]));t.redrawHint("select",!0),Re.length>0&&t.redrawHint("eles",!0),H.emit(we("boxend"));var Se=function(Fe){return Fe.selectable()&&!Fe.selected()};H.selectionType()==="additive"||ge||H.$(r).unmerge(Re).unselect(),Re.emit(we("box")).stdFilter(Se).select().emit(we("boxselect")),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!te[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var Ce=he&&he.grabbed();m(fe),Ce&&(he.emit(we("freeon")),fe.emit(we("free")),t.dragData.didDrag&&(he.emit(we("dragfreeon")),fe.emit(we("dragfree"))))}}te[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null,t.hoverData.which=null}}},!1);var L=[],A=4,T,R=1e5,W=function(I,J){for(var H=0;H<I.length;H++)if(I[H]%J!==0)return!1;return!0},q=function(I){for(var J=Math.abs(I[0]),H=1;H<I.length;H++)if(Math.abs(I[H])!==J)return!1;return!0},G=function(I){var J=!1,H=I.deltaY;if(H==null&&(I.wheelDeltaY!=null?H=I.wheelDeltaY/4:I.wheelDelta!=null&&(H=I.wheelDelta/4)),H!==0){if(T==null)if(L.length>=A){var Z=L;if(T=W(Z,5),!T){var te=Math.abs(Z[0]);T=q(Z)&&te>5}if(T)for(var ve=0;ve<Z.length;ve++)R=Math.min(Math.abs(Z[ve]),R)}else L.push(H),J=!0;else T&&(R=Math.min(Math.abs(H),R));if(!t.scrollingPage){var fe=t.cy,he=fe.zoom(),ge=fe.pan(),we=t.projectIntoViewport(I.clientX,I.clientY),Oe=[we[0]*he+ge.x,we[1]*he+ge.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||k()){I.preventDefault();return}if(fe.panningEnabled()&&fe.userPanningEnabled()&&fe.zoomingEnabled()&&fe.userZoomingEnabled()){I.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var Le;J&&Math.abs(H)>5&&(H=$f(H)*5),Le=H/-250,T&&(Le/=R,Le*=3),Le=Le*t.wheelSensitivity;var Re=I.deltaMode===1;Re&&(Le*=33);var Se=fe.zoom()*Math.pow(10,Le);I.type==="gesturechange"&&(Se=t.gestureStartZoom*I.scale),fe.zoom({level:Se,renderedPosition:{x:Oe[0],y:Oe[1]}}),fe.emit({type:I.type==="gesturechange"?"pinchzoom":"scrollzoom",originalEvent:I,position:{x:we[0],y:we[1]}})}}}};t.registerBinding(t.container,"wheel",G,!0),t.registerBinding(e,"scroll",function(I){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(I){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||I.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(j){t.hasTouchStarted||G(j)},!0),t.registerBinding(t.container,"mouseout",function(I){var J=t.projectIntoViewport(I.clientX,I.clientY);t.cy.emit({originalEvent:I,type:"mouseout",position:{x:J[0],y:J[1]}})},!1),t.registerBinding(t.container,"mouseover",function(I){var J=t.projectIntoViewport(I.clientX,I.clientY);t.cy.emit({originalEvent:I,type:"mouseover",position:{x:J[0],y:J[1]}})},!1);var $,Q,oe,ie,ae,Y,re,U,V,X,M,B,z,K=function(I,J,H,Z){return Math.sqrt((H-I)*(H-I)+(Z-J)*(Z-J))},ee=function(I,J,H,Z){return(H-I)*(H-I)+(Z-J)*(Z-J)},ne;t.registerBinding(t.container,"touchstart",ne=function(I){if(t.hasTouchStarted=!0,!!O(I)){y(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var J=t.cy,H=t.touchData.now,Z=t.touchData.earlier;if(I.touches[0]){var te=t.projectIntoViewport(I.touches[0].clientX,I.touches[0].clientY);H[0]=te[0],H[1]=te[1]}if(I.touches[1]){var te=t.projectIntoViewport(I.touches[1].clientX,I.touches[1].clientY);H[2]=te[0],H[3]=te[1]}if(I.touches[2]){var te=t.projectIntoViewport(I.touches[2].clientX,I.touches[2].clientY);H[4]=te[0],H[5]=te[1]}var ve=function(st){return{originalEvent:I,type:st,position:{x:H[0],y:H[1]}}};if(I.touches[1]){t.touchData.singleTouchMoved=!0,m(t.dragData.touchDragEles);var fe=t.findContainerClientCoords();V=fe[0],X=fe[1],M=fe[2],B=fe[3],$=I.touches[0].clientX-V,Q=I.touches[0].clientY-X,oe=I.touches[1].clientX-V,ie=I.touches[1].clientY-X,z=0<=$&&$<=M&&0<=oe&&oe<=M&&0<=Q&&Q<=B&&0<=ie&&ie<=B;var he=J.pan(),ge=J.zoom();ae=K($,Q,oe,ie),Y=ee($,Q,oe,ie),re=[($+oe)/2,(Q+ie)/2],U=[(re[0]-he.x)/ge,(re[1]-he.y)/ge];var we=200,Oe=we*we;if(Y<Oe&&!I.touches[2]){var Le=t.findNearestElement(H[0],H[1],!0,!0),Re=t.findNearestElement(H[2],H[3],!0,!0);Le&&Le.isNode()?(Le.activate().emit(ve("cxttapstart")),t.touchData.start=Le):Re&&Re.isNode()?(Re.activate().emit(ve("cxttapstart")),t.touchData.start=Re):J.emit(ve("cxttapstart")),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(I.touches[2])J.boxSelectionEnabled()&&I.preventDefault();else if(!I.touches[1]){if(I.touches[0]){var Se=t.findNearestElements(H[0],H[1],!0,!0),Ce=Se[0];if(Ce!=null&&(Ce.activate(),t.touchData.start=Ce,t.touchData.starts=Se,t.nodeIsGrabbable(Ce))){var He=t.dragData.touchDragEles=J.collection(),Fe=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),Ce.selected()?(Fe=J.$(function(Ge){return Ge.selected()&&t.nodeIsGrabbable(Ge)}),g(Fe,{addToList:He})):p(Ce,{addToList:He}),f(Ce),Ce.emit(ve("grabon")),Fe?Fe.forEach(function(Ge){Ge.emit(ve("grab"))}):Ce.emit(ve("grab"))}a(Ce,["touchstart","tapstart","vmousedown"],I,{x:H[0],y:H[1]}),Ce==null&&(t.data.bgActivePosistion={x:te[0],y:te[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&a(t.touchData.start,["taphold"],I,{x:H[0],y:H[1]})},t.tapholdDuration)}}if(I.touches.length>=1){for(var Be=t.touchData.startPosition=[null,null,null,null,null,null],Qe=0;Qe<H.length;Qe++)Be[Qe]=Z[Qe]=H[Qe];var Ue=I.touches[0];t.touchData.startGPosition=[Ue.clientX,Ue.clientY]}}},!1);var se;t.registerBinding(e,"touchmove",se=function(I){var J=t.touchData.capture;if(!(!J&&!O(I))){var H=t.selection,Z=t.cy,te=t.touchData.now,ve=t.touchData.earlier,fe=Z.zoom();if(I.touches[0]){var he=t.projectIntoViewport(I.touches[0].clientX,I.touches[0].clientY);te[0]=he[0],te[1]=he[1]}if(I.touches[1]){var he=t.projectIntoViewport(I.touches[1].clientX,I.touches[1].clientY);te[2]=he[0],te[3]=he[1]}if(I.touches[2]){var he=t.projectIntoViewport(I.touches[2].clientX,I.touches[2].clientY);te[4]=he[0],te[5]=he[1]}var ge=function(K0){return{originalEvent:I,type:K0,position:{x:te[0],y:te[1]}}},we=t.touchData.startGPosition,Oe;if(J&&I.touches[0]&&we){for(var Le=[],Re=0;Re<te.length;Re++)Le[Re]=te[Re]-ve[Re];var Se=I.touches[0].clientX-we[0],Ce=Se*Se,He=I.touches[0].clientY-we[1],Fe=He*He,Be=Ce+Fe;Oe=Be>=t.touchTapThreshold2}if(J&&t.touchData.cxt){I.preventDefault();var Qe=I.touches[0].clientX-V,Ue=I.touches[0].clientY-X,Ge=I.touches[1].clientX-V,st=I.touches[1].clientY-X,vt=ee(Qe,Ue,Ge,st),je=vt/Y,nt=150,Nt=nt*nt,Cr=1.5,Cn=Cr*Cr;if(je>=Cn||vt>=Nt){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var lr=ge("cxttapend");t.touchData.start?(t.touchData.start.unactivate().emit(lr),t.touchData.start=null):Z.emit(lr)}}if(J&&t.touchData.cxt){var lr=ge("cxtdrag");t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(lr):Z.emit(lr),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var Mt=t.findNearestElement(te[0],te[1],!0,!0);(!t.touchData.cxtOver||Mt!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit(ge("cxtdragout")),t.touchData.cxtOver=Mt,Mt&&Mt.emit(ge("cxtdragover")))}else if(J&&I.touches[2]&&Z.boxSelectionEnabled())I.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||Z.emit(ge("boxstart")),t.touchData.selecting=!0,t.touchData.didSelect=!0,H[4]=1,!H||H.length===0||H[0]===void 0?(H[0]=(te[0]+te[2]+te[4])/3,H[1]=(te[1]+te[3]+te[5])/3,H[2]=(te[0]+te[2]+te[4])/3+1,H[3]=(te[1]+te[3]+te[5])/3+1):(H[2]=(te[0]+te[2]+te[4])/3,H[3]=(te[1]+te[3]+te[5])/3),t.redrawHint("select",!0),t.redraw();else if(J&&I.touches[1]&&!t.touchData.didSelect&&Z.zoomingEnabled()&&Z.panningEnabled()&&Z.userZoomingEnabled()&&Z.userPanningEnabled()){I.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Ct=t.dragData.touchDragEles;if(Ct){t.redrawHint("drag",!0);for(var Dt=0;Dt<Ct.length;Dt++){var qr=Ct[Dt]._private;qr.grabbed=!1,qr.rscratch.inDragLayer=!1}}var _t=t.touchData.start,Qe=I.touches[0].clientX-V,Ue=I.touches[0].clientY-X,Ge=I.touches[1].clientX-V,st=I.touches[1].clientY-X,an=K(Qe,Ue,Ge,st),ks=an/ae;if(z){var yi=Qe-$,Is=Ue-Q,bi=Ge-oe,Il=st-ie,wi=(yi+bi)/2,Fs=(Is+Il)/2,Tn=Z.zoom(),ra=Tn*ks,na=Z.pan(),Ot=U[0]*Tn+na.x,Ye=U[1]*Tn+na.y,at={x:-ra/Tn*(Ot-na.x-wi)+Ot,y:-ra/Tn*(Ye-na.y-Fs)+Ye};if(_t&&_t.active()){var Ct=t.dragData.touchDragEles;m(Ct),t.redrawHint("drag",!0),t.redrawHint("eles",!0),_t.unactivate().emit(ge("freeon")),Ct.emit(ge("free")),t.dragData.didDrag&&(_t.emit(ge("dragfreeon")),Ct.emit(ge("dragfree")))}Z.viewport({zoom:ra,pan:at,cancelOnFailedZoom:!0}),Z.emit(ge("pinchzoom")),ae=an,$=Qe,Q=Ue,oe=Ge,ie=st,t.pinching=!0}if(I.touches[0]){var he=t.projectIntoViewport(I.touches[0].clientX,I.touches[0].clientY);te[0]=he[0],te[1]=he[1]}if(I.touches[1]){var he=t.projectIntoViewport(I.touches[1].clientX,I.touches[1].clientY);te[2]=he[0],te[3]=he[1]}if(I.touches[2]){var he=t.projectIntoViewport(I.touches[2].clientX,I.touches[2].clientY);te[4]=he[0],te[5]=he[1]}}else if(I.touches[0]&&!t.touchData.didSelect){var kt=t.touchData.start,er=t.touchData.last,Mt;if(!t.hoverData.draggingEles&&!t.swipePanning&&(Mt=t.findNearestElement(te[0],te[1],!0,!0)),J&&kt!=null&&I.preventDefault(),J&&kt!=null&&t.nodeIsDraggable(kt))if(Oe){var Ct=t.dragData.touchDragEles,vd=!t.dragData.didDrag;vd&&g(Ct,{inDragLayer:!0}),t.dragData.didDrag=!0;var Ei={x:0,y:0};if(Ne(Le[0])&&Ne(Le[1])&&(Ei.x+=Le[0],Ei.y+=Le[1],vd)){t.redrawHint("eles",!0);var kr=t.touchData.dragDelta;kr&&Ne(kr[0])&&Ne(kr[1])&&(Ei.x+=kr[0],Ei.y+=kr[1])}t.hoverData.draggingEles=!0,Ct.silentShift(Ei).emit(ge("position")).emit(ge("drag")),t.redrawHint("drag",!0),t.touchData.startPosition[0]==ve[0]&&t.touchData.startPosition[1]==ve[1]&&t.redrawHint("eles",!0),t.redraw()}else{var kr=t.touchData.dragDelta=t.touchData.dragDelta||[];kr.length===0?(kr.push(Le[0]),kr.push(Le[1])):(kr[0]+=Le[0],kr[1]+=Le[1])}if(a(kt||Mt,["touchmove","tapdrag","vmousemove"],I,{x:te[0],y:te[1]}),(!kt||!kt.grabbed())&&Mt!=er&&(er&&er.emit(ge("tapdragout")),Mt&&Mt.emit(ge("tapdragover"))),t.touchData.last=Mt,J)for(var Dt=0;Dt<te.length;Dt++)te[Dt]&&t.touchData.startPosition[Dt]&&Oe&&(t.touchData.singleTouchMoved=!0);if(J&&(kt==null||kt.pannable())&&Z.panningEnabled()&&Z.userPanningEnabled()){var X0=s(kt,t.touchData.starts);X0&&(I.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=Ga(t.touchData.startPosition)),t.swipePanning?(Z.panBy({x:Le[0]*fe,y:Le[1]*fe}),Z.emit(ge("dragpan"))):Oe&&(t.swipePanning=!0,Z.panBy({x:Se*fe,y:He*fe}),Z.emit(ge("dragpan")),kt&&(kt.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var he=t.projectIntoViewport(I.touches[0].clientX,I.touches[0].clientY);te[0]=he[0],te[1]=he[1]}}for(var Re=0;Re<te.length;Re++)ve[Re]=te[Re];J&&I.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var ue;t.registerBinding(e,"touchcancel",ue=function(I){var J=t.touchData.start;t.touchData.capture=!1,J&&J.unactivate()});var le,ce,pe,de;if(t.registerBinding(e,"touchend",le=function(I){var J=t.touchData.start,H=t.touchData.capture;if(H)I.touches.length===0&&(t.touchData.capture=!1),I.preventDefault();else return;var Z=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var te=t.cy,ve=te.zoom(),fe=t.touchData.now,he=t.touchData.earlier;if(I.touches[0]){var ge=t.projectIntoViewport(I.touches[0].clientX,I.touches[0].clientY);fe[0]=ge[0],fe[1]=ge[1]}if(I.touches[1]){var ge=t.projectIntoViewport(I.touches[1].clientX,I.touches[1].clientY);fe[2]=ge[0],fe[3]=ge[1]}if(I.touches[2]){var ge=t.projectIntoViewport(I.touches[2].clientX,I.touches[2].clientY);fe[4]=ge[0],fe[5]=ge[1]}var we=function(Nt){return{originalEvent:I,type:Nt,position:{x:fe[0],y:fe[1]}}};J&&J.unactivate();var Oe;if(t.touchData.cxt){if(Oe=we("cxttapend"),J?J.emit(Oe):te.emit(Oe),!t.touchData.cxtDragged){var Le=we("cxttap");J?J.emit(Le):te.emit(Le)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!I.touches[2]&&te.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var Re=te.collection(t.getAllInBox(Z[0],Z[1],Z[2],Z[3]));Z[0]=void 0,Z[1]=void 0,Z[2]=void 0,Z[3]=void 0,Z[4]=0,t.redrawHint("select",!0),te.emit(we("boxend"));var Se=function(Nt){return Nt.selectable()&&!Nt.selected()};Re.emit(we("box")).stdFilter(Se).select().emit(we("boxselect")),Re.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(J!=null&&J.unactivate(),I.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!I.touches[1]){if(!I.touches[0]){if(!I.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Ce=t.dragData.touchDragEles;if(J!=null){var He=J._private.grabbed;m(Ce),t.redrawHint("drag",!0),t.redrawHint("eles",!0),He&&(J.emit(we("freeon")),Ce.emit(we("free")),t.dragData.didDrag&&(J.emit(we("dragfreeon")),Ce.emit(we("dragfree")))),a(J,["touchend","tapend","vmouseup","tapdragout"],I,{x:fe[0],y:fe[1]}),J.unactivate(),t.touchData.start=null}else{var Fe=t.findNearestElement(fe[0],fe[1],!0,!0);a(Fe,["touchend","tapend","vmouseup","tapdragout"],I,{x:fe[0],y:fe[1]})}var Be=t.touchData.startPosition[0]-fe[0],Qe=Be*Be,Ue=t.touchData.startPosition[1]-fe[1],Ge=Ue*Ue,st=Qe+Ge,vt=st*ve*ve;t.touchData.singleTouchMoved||(J||te.$(":selected").unselect(["tapunselect"]),a(J,["tap","vclick"],I,{x:fe[0],y:fe[1]}),ce=!1,I.timeStamp-de<=te.multiClickDebounceTime()?(pe&&clearTimeout(pe),ce=!0,de=null,a(J,["dbltap","vdblclick"],I,{x:fe[0],y:fe[1]})):(pe=setTimeout(function(){ce||a(J,["onetap","voneclick"],I,{x:fe[0],y:fe[1]})},te.multiClickDebounceTime()),de=I.timeStamp)),J!=null&&!t.dragData.didDrag&&J._private.selectable&&vt<t.touchTapThreshold2&&!t.pinching&&(te.selectionType()==="single"?(te.$(r).unmerge(J).unselect(["tapunselect"]),J.select(["tapselect"])):J.selected()?J.unselect(["tapunselect"]):J.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var je=0;je<fe.length;je++)he[je]=fe[je];t.dragData.didDrag=!1,I.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),I.touches.length<2&&(I.touches.length===1&&(t.touchData.startGPosition=[I.touches[0].clientX,I.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var me=[],Ee=function(I){return{clientX:I.clientX,clientY:I.clientY,force:1,identifier:I.pointerId,pageX:I.pageX,pageY:I.pageY,radiusX:I.width/2,radiusY:I.height/2,screenX:I.screenX,screenY:I.screenY,target:I.target}},Ae=function(I){return{event:I,touch:Ee(I)}},ke=function(I){me.push(Ae(I))},Pe=function(I){for(var J=0;J<me.length;J++){var H=me[J];if(H.event.pointerId===I.pointerId){me.splice(J,1);return}}},Ie=function(I){var J=me.filter(function(H){return H.event.pointerId===I.pointerId})[0];J.event=I,J.touch=Ee(I)},Me=function(I){I.touches=me.map(function(J){return J.touch})},Te=function(I){return I.pointerType==="mouse"||I.pointerType===4};t.registerBinding(t.container,"pointerdown",function(j){Te(j)||(j.preventDefault(),ke(j),Me(j),ne(j))}),t.registerBinding(t.container,"pointerup",function(j){Te(j)||(Pe(j),Me(j),le(j))}),t.registerBinding(t.container,"pointercancel",function(j){Te(j)||(Pe(j),Me(j),ue(j))}),t.registerBinding(t.container,"pointermove",function(j){Te(j)||(j.preventDefault(),Ie(j),Me(j),se(j))})}};var En={};En.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(n,a,i,s,o,l){this.renderer.nodeShapeImpl("polygon",n,a,i,s,o,this.points)},intersectLine:function(n,a,i,s,o,l,u,c){return cs(o,l,this.points,n,a,i/2,s/2,u)},checkPoint:function(n,a,i,s,o,l,u,c){return bn(n,a,this.points,l,u,s,o,[0,-1],i)},hasMiterBounds:t!=="rectangle",miterBounds:function(n,a,i,s,o,l){return VD(this.points,n,a,i,s,o)}}};En.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,r,n,a,i,s){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},intersectLine:function(e,r,n,a,i,s,o,l){return $D(i,s,e,r,n/2+o,a/2+o)},checkPoint:function(e,r,n,a,i,s,o,l){return ya(e,r,a,i,s,o,n)}}};En.generateRoundPolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,getOrCreateCorners:function(n,a,i,s,o,l,u){if(l[u]!==void 0&&l[u+"-cx"]===n&&l[u+"-cy"]===a)return l[u];l[u]=new Array(e.length/2),l[u+"-cx"]=n,l[u+"-cy"]=a;var c=i/2,f=s/2;o=o==="auto"?Sy(i,s):o;for(var h=new Array(e.length/2),d=0;d<e.length/2;d++)h[d]={x:n+c*e[d*2],y:a+f*e[d*2+1]};var v,g,p,m,b=h.length;for(g=h[b-1],v=0;v<b;v++)p=h[v%b],m=h[(v+1)%b],l[u][v]=ld(g,p,m,o),g=p,p=m;return l[u]},draw:function(n,a,i,s,o,l,u){this.renderer.nodeShapeImpl("round-polygon",n,a,i,s,o,this.points,this.getOrCreateCorners(a,i,s,o,l,u,"drawCorners"))},intersectLine:function(n,a,i,s,o,l,u,c,f){return QD(o,l,this.points,n,a,i,s,u,this.getOrCreateCorners(n,a,i,s,c,f,"corners"))},checkPoint:function(n,a,i,s,o,l,u,c,f){return KD(n,a,this.points,l,u,s,o,this.getOrCreateCorners(l,u,s,o,c,f,"corners"))}}};En.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:cr(4,0),draw:function(e,r,n,a,i,s){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i,this.points,s)},intersectLine:function(e,r,n,a,i,s,o,l){return Cy(i,s,e,r,n,a,o,l)},checkPoint:function(e,r,n,a,i,s,o,l){var u=a/2,c=i/2;l=l==="auto"?Wn(a,i):l,l=Math.min(u,c,l);var f=l*2;return!!(bn(e,r,this.points,s,o,a,i-f,[0,-1],n)||bn(e,r,this.points,s,o,a-f,i,[0,-1],n)||ya(e,r,f,f,s-u+l,o-c+l,n)||ya(e,r,f,f,s+u-l,o-c+l,n)||ya(e,r,f,f,s+u-l,o+c-l,n)||ya(e,r,f,f,s-u+l,o+c-l,n))}}};En.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:Qf(),points:cr(4,0),draw:function(e,r,n,a,i,s){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i,null,s)},generateCutTrianglePts:function(e,r,n,a,i){var s=i==="auto"?this.cornerLength:i,o=r/2,l=e/2,u=n-l,c=n+l,f=a-o,h=a+o;return{topLeft:[u,f+s,u+s,f,u+s,f+s],topRight:[c-s,f,c,f+s,c-s,f+s],bottomRight:[c,h-s,c-s,h,c-s,h-s],bottomLeft:[u+s,h,u,h-s,u+s,h-s]}},intersectLine:function(e,r,n,a,i,s,o,l){var u=this.generateCutTrianglePts(n+2*o,a+2*o,e,r,l),c=[].concat.apply([],[u.topLeft.splice(0,4),u.topRight.splice(0,4),u.bottomRight.splice(0,4),u.bottomLeft.splice(0,4)]);return cs(i,s,c,e,r)},checkPoint:function(e,r,n,a,i,s,o,l){var u=l==="auto"?this.cornerLength:l;if(bn(e,r,this.points,s,o,a,i-2*u,[0,-1],n)||bn(e,r,this.points,s,o,a-2*u,i,[0,-1],n))return!0;var c=this.generateCutTrianglePts(a,i,s,o);return yr(e,r,c.topLeft)||yr(e,r,c.topRight)||yr(e,r,c.bottomRight)||yr(e,r,c.bottomLeft)}}};En.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:cr(4,0),draw:function(e,r,n,a,i,s){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},intersectLine:function(e,r,n,a,i,s,o,l){var u=.15,c=.5,f=.85,h=this.generateBarrelBezierPts(n+2*o,a+2*o,e,r),d=function(p){var m=ti({x:p[0],y:p[1]},{x:p[2],y:p[3]},{x:p[4],y:p[5]},u),b=ti({x:p[0],y:p[1]},{x:p[2],y:p[3]},{x:p[4],y:p[5]},c),y=ti({x:p[0],y:p[1]},{x:p[2],y:p[3]},{x:p[4],y:p[5]},f);return[p[0],p[1],m.x,m.y,b.x,b.y,y.x,y.y,p[4],p[5]]},v=[].concat(d(h.topLeft),d(h.topRight),d(h.bottomRight),d(h.bottomLeft));return cs(i,s,v,e,r)},generateBarrelBezierPts:function(e,r,n,a){var i=r/2,s=e/2,o=n-s,l=n+s,u=a-i,c=a+i,f=tf(e,r),h=f.heightOffset,d=f.widthOffset,v=f.ctrlPtOffsetPct*e,g={topLeft:[o,u+h,o+v,u,o+d,u],topRight:[l-d,u,l-v,u,l,u+h],bottomRight:[l,c-h,l-v,c,l-d,c],bottomLeft:[o+d,c,o+v,c,o,c-h]};return g.topLeft.isTop=!0,g.topRight.isTop=!0,g.bottomLeft.isBottom=!0,g.bottomRight.isBottom=!0,g},checkPoint:function(e,r,n,a,i,s,o,l){var u=tf(a,i),c=u.heightOffset,f=u.widthOffset;if(bn(e,r,this.points,s,o,a,i-2*c,[0,-1],n)||bn(e,r,this.points,s,o,a-2*f,i,[0,-1],n))return!0;for(var h=this.generateBarrelBezierPts(a,i,s,o),d=function(N,k,O){var F=O[4],S=O[2],P=O[0],E=O[5],L=O[1],A=Math.min(F,P),T=Math.max(F,P),R=Math.min(E,L),W=Math.max(E,L);if(A<=N&&N<=T&&R<=k&&k<=W){var q=JD(F,S,P),G=qD(q[0],q[1],q[2],N),$=G.filter(function(Q){return 0<=Q&&Q<=1});if($.length>0)return $[0]}return null},v=Object.keys(h),g=0;g<v.length;g++){var p=v[g],m=h[p],b=d(e,r,m);if(b!=null){var y=m[5],w=m[3],x=m[1],D=Gt(y,w,x,b);if(m.isTop&&D<=r||m.isBottom&&r<=D)return!0}}return!1}}};En.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:cr(4,0),draw:function(e,r,n,a,i,s){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i,this.points,s)},intersectLine:function(e,r,n,a,i,s,o,l){var u=e-(n/2+o),c=r-(a/2+o),f=c,h=e+(n/2+o),d=Fn(i,s,e,r,u,c,h,f,!1);return d.length>0?d:Cy(i,s,e,r,n,a,o,l)},checkPoint:function(e,r,n,a,i,s,o,l){l=l==="auto"?Wn(a,i):l;var u=2*l;if(bn(e,r,this.points,s,o,a,i-u,[0,-1],n)||bn(e,r,this.points,s,o,a-u,i,[0,-1],n))return!0;var c=a/2+2*n,f=i/2+2*n,h=[s-c,o-f,s-c,o,s+c,o,s+c,o-f];return!!(yr(e,r,h)||ya(e,r,u,u,s+a/2-l,o+i/2-l,n)||ya(e,r,u,u,s-a/2+l,o+i/2-l,n))}}};En.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",cr(3,0)),this.generateRoundPolygon("round-triangle",cr(3,0)),this.generatePolygon("rectangle",cr(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",cr(5,0)),this.generateRoundPolygon("round-pentagon",cr(5,0)),this.generatePolygon("hexagon",cr(6,0)),this.generateRoundPolygon("round-hexagon",cr(6,0)),this.generatePolygon("heptagon",cr(7,0)),this.generateRoundPolygon("round-heptagon",cr(7,0)),this.generatePolygon("octagon",cr(8,0)),this.generateRoundPolygon("round-octagon",cr(8,0));var n=new Array(20);{var a=ef(5,0),i=ef(5,Math.PI/5),s=.5*(3-Math.sqrt(5));s*=1.57;for(var o=0;o<i.length/2;o++)i[o*2]*=s,i[o*2+1]*=s;for(var o=0;o<20/4;o++)n[o*4]=a[o*2],n[o*4+1]=a[o*2+1],n[o*4+2]=i[o*2],n[o*4+3]=i[o*2+1]}n=Ty(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var l=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",l),this.generateRoundPolygon("round-tag",l)}t.makePolygon=function(u){var c=u.join("$"),f="polygon-"+c,h;return(h=this[f])?h:e.generatePolygon(f,u)}};var Ns={};Ns.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};Ns.redraw=function(t){t=t||by();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};Ns.beforeRender=function(t,e){if(!this.destroyed){e==null&&xt("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort(function(n,a){return a.priority-n.priority})}};var Ug=function(e,r,n){for(var a=e.beforeRenderCallbacks,i=0;i<a.length;i++)a[i].fn(r,n)};Ns.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var r=function(a){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){Ug(t,!0,a);var i=yn();t.render(t.renderOptions);var s=t.lastDrawTime=yn();t.averageRedrawTime===void 0&&(t.averageRedrawTime=s-i),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var o=s-i;t.redrawTotalTime+=o,t.lastRedrawTime=o,t.averageRedrawTime=t.averageRedrawTime/2+o/2,t.requestedFrame=!1}else Ug(t,!1,a);t.skipFrame=!1,Io(r)}};Io(r)}};var v2=function(e){this.init(e)},S0=v2,mi=S0.prototype;mi.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];mi.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container(),n=e.cy.window();if(n){var a=n.document,i=a.head,s="__________cytoscape_stylesheet",o="__________cytoscape_container",l=a.getElementById(s)!=null;if(r.className.indexOf(o)<0&&(r.className=(r.className||"")+" "+o),!l){var u=a.createElement("style");u.id=s,u.textContent="."+o+" { position: relative; }",i.insertBefore(u,i.children[0])}var c=n.getComputedStyle(r),f=c.getPropertyValue("position");f==="static"&&dt("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.webgl=t.webgl,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=Ne(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};mi.notify=function(t,e){var r=this,n=r.cy;if(!this.destroyed){if(t==="init"){r.load();return}if(t==="destroy"){r.destroy();return}(t==="add"||t==="remove"||t==="move"&&n.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&r.invalidateCachedZSortedEles(),t==="viewport"&&r.redrawHint("select",!0),t==="gc"&&r.redrawHint("gc",!0),(t==="load"||t==="resize"||t==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};mi.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],n=r,a=n.target;(a.off||a.removeEventListener).apply(a,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};mi.isHeadless=function(){return!1};[od,C0,T0,pi,En,Ns].forEach(function(t){qe(mi,t)});var xc=1e3/60,A0={setupDequeueing:function(e){return function(){var n=this,a=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var i=Ds(function(){a.redrawHint("eles",!0),a.redrawHint("drag",!0),a.redraw()},e.deqRedrawThreshold),s=function(u,c){var f=yn(),h=a.averageRedrawTime,d=a.lastRedrawTime,v=[],g=a.cy.extent(),p=a.getPixelRatio();for(u||a.flushRenderedStyleQueue();;){var m=yn(),b=m-f,y=m-c;if(d<xc){var w=xc-(u?h:0);if(y>=e.deqFastCost*w)break}else if(u){if(b>=e.deqCost*d||b>=e.deqAvgCost*h)break}else if(y>=e.deqNoDrawCost*xc)break;var x=e.deq(n,p,g);if(x.length>0)for(var D=0;D<x.length;D++)v.push(x[D]);else break}v.length>0&&(e.onDeqd(n,v),!u&&e.shouldRedraw(n,v,p,g)&&i())},o=e.priority||Yf;a.beforeRender(s,o(n))}}}},g2=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fo;Qn(this,t),this.idsByKey=new gn,this.keyForId=new gn,this.cachesByLvl=new gn,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return Jn(t,[{key:"getIdsFor",value:function(r){r==null&&xt("Can not get id list for null key");var n=this.idsByKey,a=this.idsByKey.get(r);return a||(a=new di,n.set(r,a)),a}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),i=this.getKey(r);this.deleteIdForKey(a,n),this.addIdForKey(i,n),this.keyForId.set(n,i)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteIdForKey(a,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),i=this.getKey(r);return a!==i}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,a=this.lvls,i=n.get(r);return i||(i=new gn,n.set(r,i),a.push(r)),i}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var a=this.getKey(r),i=this.getCache(a,n);return i!=null&&this.updateKeyMappingFor(r),i}},{key:"getForCachedKey",value:function(r,n){var a=this.keyForId.get(r.id()),i=this.getCache(a,n);return i}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var a=this.getKey(r);return this.hasCache(a,n)}},{key:"setCache",value:function(r,n,a){a.key=r,this.getCachesAt(n).set(r,a)}},{key:"set",value:function(r,n,a){var i=this.getKey(r);this.setCache(i,n,a),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var a=this.getKey(r);this.deleteCache(a,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(a){return n.deleteCache(r,a)})}},{key:"invalidate",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteKeyMappingFor(r);var i=this.doesEleInvalidateKey(r);return i&&this.invalidateKey(a),i||this.getNumberOfIdsForKey(a)===0}}])}(),Vg=25,Js=50,yo=-4,gf=3,D0=7.99,p2=8,m2=1024,y2=1024,b2=1024,w2=.2,E2=.8,x2=10,C2=.15,T2=.1,S2=.9,A2=.9,D2=100,R2=1,Wa={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},L2=Jt({getKey:null,doesEleInvalidateKey:Fo,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:py,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Bi=function(e,r){var n=this;n.renderer=e,n.onDequeues=[];var a=L2(r);qe(n,a),n.lookup=new g2(a.getKey,a.doesEleInvalidateKey),n.setupDequeueing()},Ht=Bi.prototype;Ht.reasons=Wa;Ht.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};Ht.getRetiredTextureQueue=function(t){var e=this,r=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=r[t]=r[t]||[];return n};Ht.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new Rs(function(r,n){return n.reqs-r.reqs});return e};Ht.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};Ht.getElement=function(t,e,r,n,a){var i=this,s=this.renderer,o=s.cy.zoom(),l=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!i.allowEdgeTxrCaching&&t.isEdge()||!i.allowParentTxrCaching&&t.isParent())return null;if(n==null&&(n=Math.ceil(Kf(o*r))),n<yo)n=yo;else if(o>=D0||n>gf)return null;var u=Math.pow(2,n),c=e.h*u,f=e.w*u,h=s.eleTextBiggerThanMin(t,u);if(!this.isVisible(t,h))return null;var d=l.get(t,n);if(d&&d.invalidated&&(d.invalidated=!1,d.texture.invalidatedWidth-=d.width),d)return d;var v;if(c<=Vg?v=Vg:c<=Js?v=Js:v=Math.ceil(c/Js)*Js,c>b2||f>y2)return null;var g=i.getTextureQueue(v),p=g[g.length-2],m=function(){return i.recycleTexture(v,f)||i.addTexture(v,f)};p||(p=g[g.length-1]),p||(p=m()),p.width-p.usedWidth<f&&(p=m());for(var b=function(A){return A&&A.scaledLabelShown===h},y=a&&a===Wa.dequeue,w=a&&a===Wa.highQuality,x=a&&a===Wa.downscale,D,C=n+1;C<=gf;C++){var N=l.get(t,C);if(N){D=N;break}}var k=D&&D.level===n+1?D:null,O=function(){p.context.drawImage(k.texture.canvas,k.x,0,k.width,k.height,p.usedWidth,0,f,c)};if(p.context.setTransform(1,0,0,1,0,0),p.context.clearRect(p.usedWidth,0,f,v),b(k))O();else if(b(D))if(w){for(var F=D.level;F>n;F--)k=i.getElement(t,e,r,F,Wa.downscale);O()}else return i.queueElement(t,D.level-1),D;else{var S;if(!y&&!w&&!x)for(var P=n-1;P>=yo;P--){var E=l.get(t,P);if(E){S=E;break}}if(b(S))return i.queueElement(t,n),S;p.context.translate(p.usedWidth,0),p.context.scale(u,u),this.drawElement(p.context,t,e,h,!1),p.context.scale(1/u,1/u),p.context.translate(-p.usedWidth,0)}return d={x:p.usedWidth,texture:p,level:n,scale:u,width:f,height:c,scaledLabelShown:h},p.usedWidth+=Math.ceil(f+p2),p.eleCaches.push(d),l.set(t,n,d),i.checkTextureFullness(p),d};Ht.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};Ht.invalidateElement=function(t){var e=this,r=e.lookup,n=[],a=r.isInvalid(t);if(a){for(var i=yo;i<=gf;i++){var s=r.getForCachedKey(t,i);s&&n.push(s)}var o=r.invalidate(t);if(o)for(var l=0;l<n.length;l++){var u=n[l],c=u.texture;c.invalidatedWidth+=u.width,u.invalidated=!0,e.checkTextureUtility(c)}e.removeFromQueue(t)}};Ht.checkTextureUtility=function(t){t.invalidatedWidth>=w2*t.width&&this.retireTexture(t)};Ht.checkTextureFullness=function(t){var e=this,r=e.getTextureQueue(t.height);t.usedWidth/t.width>E2&&t.fullnessChecks>=x2?qn(r,t):t.fullnessChecks++};Ht.retireTexture=function(t){var e=this,r=t.height,n=e.getTextureQueue(r),a=this.lookup;qn(n,t),t.retired=!0;for(var i=t.eleCaches,s=0;s<i.length;s++){var o=i[s];a.deleteCache(o.key,o.level)}Xf(i);var l=e.getRetiredTextureQueue(r);l.push(t)};Ht.addTexture=function(t,e){var r=this,n=r.getTextureQueue(t),a={};return n.push(a),a.eleCaches=[],a.height=t,a.width=Math.max(m2,e),a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,a.canvas=r.renderer.makeOffscreenCanvas(a.width,a.height),a.context=a.canvas.getContext("2d"),a};Ht.recycleTexture=function(t,e){for(var r=this,n=r.getTextureQueue(t),a=r.getRetiredTextureQueue(t),i=0;i<a.length;i++){var s=a[i];if(s.width>=e)return s.retired=!1,s.usedWidth=0,s.invalidatedWidth=0,s.fullnessChecks=0,Xf(s.eleCaches),s.context.setTransform(1,0,0,1,0,0),s.context.clearRect(0,0,s.width,s.height),qn(a,s),n.push(s),s}};Ht.queueElement=function(t,e){var r=this,n=r.getElementQueue(),a=r.getElementKeyToQueue(),i=this.getKey(t),s=a[i];if(s)s.level=Math.max(s.level,e),s.eles.merge(t),s.reqs++,n.updateItem(s);else{var o={eles:t.spawn().merge(t),level:e,reqs:1,key:i};n.push(o),a[i]=o}};Ht.dequeue=function(t){for(var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),a=[],i=e.lookup,s=0;s<R2&&r.size()>0;s++){var o=r.pop(),l=o.key,u=o.eles[0],c=i.hasCache(u,o.level);if(n[l]=null,c)continue;a.push(o);var f=e.getBoundingBox(u);e.getElement(u,f,t,o.level,Wa.dequeue)}return a};Ht.removeFromQueue=function(t){var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),a=this.getKey(t),i=n[a];i!=null&&(i.eles.length===1?(i.reqs=Wf,r.updateItem(i),r.pop(),n[a]=null):i.eles.unmerge(t))};Ht.onDequeue=function(t){this.onDequeues.push(t)};Ht.offDequeue=function(t){qn(this.onDequeues,t)};Ht.setupDequeueing=A0.setupDequeueing({deqRedrawThreshold:D2,deqCost:C2,deqAvgCost:T2,deqNoDrawCost:S2,deqFastCost:A2,deq:function(e,r,n){return e.dequeue(r,n)},onDeqd:function(e,r){for(var n=0;n<e.onDequeues.length;n++){var a=e.onDequeues[n];a(r)}},shouldRedraw:function(e,r,n,a){for(var i=0;i<r.length;i++)for(var s=r[i].eles,o=0;o<s.length;o++){var l=s[o].boundingBox();if(Zf(l,a))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var M2=1,Yi=-4,qo=2,P2=3.99,N2=50,O2=50,k2=.15,I2=.1,F2=.9,B2=.9,_2=1,Hg=250,z2=4e3*4e3,Gg=32767,U2=!0,R0=function(e){var r=this,n=r.renderer=e,a=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=yn()-2*Hg,r.skipping=!1,r.eleTxrDeqs=a.collection(),r.scheduleElementRefinement=Ds(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},O2),n.beforeRender(function(s,o){o-r.lastInvalidationTime<=Hg?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var i=function(o,l){return l.reqs-o.reqs};r.layersQueue=new Rs(i),r.setupDequeueing()},jt=R0.prototype,qg=0,V2=Math.pow(2,53)-1;jt.makeLayer=function(t,e){var r=Math.pow(2,e),n=Math.ceil(t.w*r),a=Math.ceil(t.h*r),i=this.renderer.makeOffscreenCanvas(n,a),s={id:qg=++qg%V2,bb:t,level:e,width:n,height:a,canvas:i,context:i.getContext("2d"),eles:[],elesQueue:[],reqs:0},o=s.context,l=-s.bb.x1,u=-s.bb.y1;return o.scale(r,r),o.translate(l,u),s};jt.getLayers=function(t,e,r){var n=this,a=n.renderer,i=a.cy,s=i.zoom(),o=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(Kf(s*e)),r<Yi)r=Yi;else if(s>=P2||r>qo)return null}n.validateLayersElesOrdering(r,t);var l=n.layersByLevel,u=Math.pow(2,r),c=l[r]=l[r]||[],f,h=n.levelIsComplete(r,t),d,v=function(){var O=function(L){if(n.validateLayersElesOrdering(L,t),n.levelIsComplete(L,t))return d=l[L],!0},F=function(L){if(!d)for(var A=r+L;Yi<=A&&A<=qo&&!O(A);A+=L);};F(1),F(-1);for(var S=c.length-1;S>=0;S--){var P=c[S];P.invalid&&qn(c,P)}};if(!h)v();else return c;var g=function(){if(!f){f=dr();for(var O=0;O<t.length;O++)_D(f,t[O].boundingBox())}return f},p=function(O){O=O||{};var F=O.after;g();var S=Math.ceil(f.w*u),P=Math.ceil(f.h*u);if(S>Gg||P>Gg)return null;var E=S*P;if(E>z2)return null;var L=n.makeLayer(f,r);if(F!=null){var A=c.indexOf(F)+1;c.splice(A,0,L)}else(O.insert===void 0||O.insert)&&c.unshift(L);return L};if(n.skipping&&!o)return null;for(var m=null,b=t.length/M2,y=!o,w=0;w<t.length;w++){var x=t[w],D=x._private.rscratch,C=D.imgLayerCaches=D.imgLayerCaches||{},N=C[r];if(N){m=N;continue}if((!m||m.eles.length>=b||!xy(m.bb,x.boundingBox()))&&(m=p({insert:!0,after:m}),!m))return null;d||y?n.queueLayer(m,x):n.drawEleInLayer(m,x,r,e),m.eles.push(x),C[r]=m}return d||(y?null:c)};jt.getEleLevelForLayerLevel=function(t,e){return t};jt.drawEleInLayer=function(t,e,r,n){var a=this,i=this.renderer,s=t.context,o=e.boundingBox();o.w===0||o.h===0||!e.visible()||(r=a.getEleLevelForLayerLevel(r,n),i.setImgSmoothing(s,!1),i.drawCachedElement(s,e,null,null,r,U2),i.setImgSmoothing(s,!0))};jt.levelIsComplete=function(t,e){var r=this,n=r.layersByLevel[t];if(!n||n.length===0)return!1;for(var a=0,i=0;i<n.length;i++){var s=n[i];if(s.reqs>0||s.invalid)return!1;a+=s.eles.length}return a===e.length};jt.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(r)for(var n=0;n<r.length;n++){for(var a=r[n],i=-1,s=0;s<e.length;s++)if(a.eles[0]===e[s]){i=s;break}if(i<0){this.invalidateLayer(a);continue}for(var o=i,s=0;s<a.eles.length;s++)if(a.eles[s]!==e[o+s]){this.invalidateLayer(a);break}}};jt.updateElementsInLayers=function(t,e){for(var r=this,n=Cs(t[0]),a=0;a<t.length;a++)for(var i=n?null:t[a],s=n?t[a]:t[a].ele,o=s._private.rscratch,l=o.imgLayerCaches=o.imgLayerCaches||{},u=Yi;u<=qo;u++){var c=l[u];c&&(i&&r.getEleLevelForLayerLevel(c.level)!==i.level||e(c,s,i))}};jt.haveLayers=function(){for(var t=this,e=!1,r=Yi;r<=qo;r++){var n=t.layersByLevel[r];if(n&&n.length>0){e=!0;break}}return e};jt.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=yn(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(n,a,i){e.invalidateLayer(n)}))};jt.invalidateLayer=function(t){if(this.lastInvalidationTime=yn(),!t.invalid){var e=t.level,r=t.eles,n=this.layersByLevel[e];qn(n,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var a=0;a<r.length;a++){var i=r[a]._private.rscratch.imgLayerCaches;i&&(i[e]=null)}}};jt.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(n,a,i){var s=n.replacement;if(s||(s=n.replacement=e.makeLayer(n.bb,n.level),s.replaces=n,s.eles=n.eles),!s.reqs)for(var o=0;o<s.eles.length;o++)e.queueLayer(s,s.eles[o])})};jt.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};jt.queueLayer=function(t,e){var r=this,n=r.layersQueue,a=t.elesQueue,i=a.hasId=a.hasId||{};if(!t.replacement){if(e){if(i[e.id()])return;a.push(e),i[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}};jt.dequeue=function(t){for(var e=this,r=e.layersQueue,n=[],a=0;a<_2&&r.size()!==0;){var i=r.peek();if(i.replacement){r.pop();continue}if(i.replaces&&i!==i.replaces.replacement){r.pop();continue}if(i.invalid){r.pop();continue}var s=i.elesQueue.shift();s&&(e.drawEleInLayer(i,s,i.level,t),a++),n.length===0&&n.push(!0),i.elesQueue.length===0&&(r.pop(),i.reqs=0,i.replaces&&e.applyLayerReplacement(i),e.requestRedraw())}return n};jt.applyLayerReplacement=function(t){var e=this,r=e.layersByLevel[t.level],n=t.replaces,a=r.indexOf(n);if(!(a<0||n.invalid)){r[a]=t;for(var i=0;i<t.eles.length;i++){var s=t.eles[i]._private,o=s.imgLayerCaches=s.imgLayerCaches||{};o&&(o[t.level]=t)}e.requestRedraw()}};jt.requestRedraw=Ds(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);jt.setupDequeueing=A0.setupDequeueing({deqRedrawThreshold:N2,deqCost:k2,deqAvgCost:I2,deqNoDrawCost:F2,deqFastCost:B2,deq:function(e,r){return e.dequeue(r)},onDeqd:Yf,shouldRedraw:py,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var L0={},Wg;function H2(t,e){for(var r=0;r<e.length;r++){var n=e[r];t.lineTo(n.x,n.y)}}function G2(t,e,r){for(var n,a=0;a<e.length;a++){var i=e[a];a===0&&(n=i),t.lineTo(i.x,i.y)}t.quadraticCurveTo(r.x,r.y,n.x,n.y)}function Yg(t,e,r){t.beginPath&&t.beginPath();for(var n=e,a=0;a<n.length;a++){var i=n[a];t.lineTo(i.x,i.y)}var s=r,o=r[0];t.moveTo(o.x,o.y);for(var a=1;a<s.length;a++){var i=s[a];t.lineTo(i.x,i.y)}t.closePath&&t.closePath()}function q2(t,e,r,n,a){t.beginPath&&t.beginPath(),t.arc(r,n,a,0,Math.PI*2,!1);var i=e,s=i[0];t.moveTo(s.x,s.y);for(var o=0;o<i.length;o++){var l=i[o];t.lineTo(l.x,l.y)}t.closePath&&t.closePath()}function W2(t,e,r,n){t.arc(e,r,n,0,Math.PI*2,!1)}L0.arrowShapeImpl=function(t){return(Wg||(Wg={polygon:H2,"triangle-backcurve":G2,"triangle-tee":Yg,"circle-triangle":q2,"triangle-cross":Yg,circle:W2}))[t]};var nn={};nn.drawElement=function(t,e,r,n,a,i){var s=this;e.isNode()?s.drawNode(t,e,r,n,a,i):s.drawEdge(t,e,r,n,a,i)};nn.drawElementOverlay=function(t,e){var r=this;e.isNode()?r.drawNodeOverlay(t,e):r.drawEdgeOverlay(t,e)};nn.drawElementUnderlay=function(t,e){var r=this;e.isNode()?r.drawNodeUnderlay(t,e):r.drawEdgeUnderlay(t,e)};nn.drawCachedElementPortion=function(t,e,r,n,a,i,s,o){var l=this,u=r.getBoundingBox(e);if(!(u.w===0||u.h===0)){var c=r.getElement(e,u,n,a,i);if(c!=null){var f=o(l,e);if(f===0)return;var h=s(l,e),d=u.x1,v=u.y1,g=u.w,p=u.h,m,b,y,w,x;if(h!==0){var D=r.getRotationPoint(e);y=D.x,w=D.y,t.translate(y,w),t.rotate(h),x=l.getImgSmoothing(t),x||l.setImgSmoothing(t,!0);var C=r.getRotationOffset(e);m=C.x,b=C.y}else m=d,b=v;var N;f!==1&&(N=t.globalAlpha,t.globalAlpha=N*f),t.drawImage(c.texture.canvas,c.x,0,c.width,c.height,m,b,g,p),f!==1&&(t.globalAlpha=N),h!==0&&(t.rotate(-h),t.translate(-y,-w),x||l.setImgSmoothing(t,!1))}else r.drawElement(t,e)}};var Y2=function(){return 0},X2=function(e,r){return e.getTextAngle(r,null)},K2=function(e,r){return e.getTextAngle(r,"source")},$2=function(e,r){return e.getTextAngle(r,"target")},Z2=function(e,r){return r.effectiveOpacity()},Cc=function(e,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};nn.drawCachedElement=function(t,e,r,n,a,i){var s=this,o=s.data,l=o.eleTxrCache,u=o.lblTxrCache,c=o.slbTxrCache,f=o.tlbTxrCache,h=e.boundingBox(),d=i===!0?l.reasons.highQuality:null;if(!(h.w===0||h.h===0||!e.visible())&&(!n||Zf(h,n))){var v=e.isEdge(),g=e.element()._private.rscratch.badLine;s.drawElementUnderlay(t,e),s.drawCachedElementPortion(t,e,l,r,a,d,Y2,Z2),(!v||!g)&&s.drawCachedElementPortion(t,e,u,r,a,d,X2,Cc),v&&!g&&(s.drawCachedElementPortion(t,e,c,r,a,d,K2,Cc),s.drawCachedElementPortion(t,e,f,r,a,d,$2,Cc)),s.drawElementOverlay(t,e)}};nn.drawElements=function(t,e){for(var r=this,n=0;n<e.length;n++){var a=e[n];r.drawElement(t,a)}};nn.drawCachedElements=function(t,e,r,n){for(var a=this,i=0;i<e.length;i++){var s=e[i];a.drawCachedElement(t,s,r,n)}};nn.drawCachedNodes=function(t,e,r,n){for(var a=this,i=0;i<e.length;i++){var s=e[i];s.isNode()&&a.drawCachedElement(t,s,r,n)}};nn.drawLayeredElements=function(t,e,r,n){var a=this,i=a.data.lyrTxrCache.getLayers(e,r);if(i)for(var s=0;s<i.length;s++){var o=i[s],l=o.bb;l.w===0||l.h===0||t.drawImage(o.canvas,l.x1,l.y1,l.w,l.h)}else a.drawCachedElements(t,e,r,n)};var xn={};xn.drawEdge=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,o=e._private.rscratch;if(!(i&&!e.visible())&&!(o.badLine||o.allpts==null||isNaN(o.allpts[0]))){var l;r&&(l=r,t.translate(-l.x1,-l.y1));var u=i?e.pstyle("opacity").value:1,c=i?e.pstyle("line-opacity").value:1,f=e.pstyle("curve-style").value,h=e.pstyle("line-style").value,d=e.pstyle("width").pfValue,v=e.pstyle("line-cap").value,g=e.pstyle("line-outline-width").value,p=e.pstyle("line-outline-color").value,m=u*c,b=u*c,y=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m;f==="straight-triangle"?(s.eleStrokeStyle(t,e,L),s.drawEdgeTrianglePath(e,t,o.allpts)):(t.lineWidth=d,t.lineCap=v,s.eleStrokeStyle(t,e,L),s.drawEdgePath(e,t,o.allpts,h),t.lineCap="butt")},w=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m;if(t.lineWidth=d+g,t.lineCap=v,g>0)s.colorStrokeStyle(t,p[0],p[1],p[2],L);else{t.lineCap="butt";return}f==="straight-triangle"?s.drawEdgeTrianglePath(e,t,o.allpts):(s.drawEdgePath(e,t,o.allpts,h),t.lineCap="butt")},x=function(){a&&s.drawEdgeOverlay(t,e)},D=function(){a&&s.drawEdgeUnderlay(t,e)},C=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b;s.drawArrowheads(t,e,L)},N=function(){s.drawElementText(t,e,null,n)};t.lineJoin="round";var k=e.pstyle("ghost").value==="yes";if(k){var O=e.pstyle("ghost-offset-x").pfValue,F=e.pstyle("ghost-offset-y").pfValue,S=e.pstyle("ghost-opacity").value,P=m*S;t.translate(O,F),y(P),C(P),t.translate(-O,-F)}else w();D(),y(),C(),x(),N(),r&&t.translate(l.x1,l.y1)}};var M0=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n){if(n.visible()){var a=n.pstyle("".concat(e,"-opacity")).value;if(a!==0){var i=this,s=i.usePaths(),o=n._private.rscratch,l=n.pstyle("".concat(e,"-padding")).pfValue,u=2*l,c=n.pstyle("".concat(e,"-color")).value;r.lineWidth=u,o.edgeType==="self"&&!s?r.lineCap="butt":r.lineCap="round",i.colorStrokeStyle(r,c[0],c[1],c[2],a),i.drawEdgePath(n,r,o.allpts,"solid")}}}};xn.drawEdgeOverlay=M0("overlay");xn.drawEdgeUnderlay=M0("underlay");xn.drawEdgePath=function(t,e,r,n){var a=t._private.rscratch,i=e,s,o=!1,l=this.usePaths(),u=t.pstyle("line-dash-pattern").pfValue,c=t.pstyle("line-dash-offset").pfValue;if(l){var f=r.join("$"),h=a.pathCacheKey&&a.pathCacheKey===f;h?(s=e=a.pathCache,o=!0):(s=e=new Path2D,a.pathCacheKey=f,a.pathCache=s)}if(i.setLineDash)switch(n){case"dotted":i.setLineDash([1,1]);break;case"dashed":i.setLineDash(u),i.lineDashOffset=c;break;case"solid":i.setLineDash([]);break}if(!o&&!a.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),a.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var d=2;d+3<r.length;d+=4)e.quadraticCurveTo(r[d],r[d+1],r[d+2],r[d+3]);break;case"straight":case"haystack":for(var v=2;v+1<r.length;v+=2)e.lineTo(r[v],r[v+1]);break;case"segments":if(a.isRound){var g=wr(a.roundCorners),p;try{for(g.s();!(p=g.n()).done;){var m=p.value;y0(e,m)}}catch(y){g.e(y)}finally{g.f()}e.lineTo(r[r.length-2],r[r.length-1])}else for(var b=2;b+1<r.length;b+=2)e.lineTo(r[b],r[b+1]);break}e=i,l?e.stroke(s):e.stroke(),e.setLineDash&&e.setLineDash([])};xn.drawEdgeTrianglePath=function(t,e,r){e.fillStyle=e.strokeStyle;for(var n=t.pstyle("width").pfValue,a=0;a+1<r.length;a+=2){var i=[r[a+2]-r[a],r[a+3]-r[a+1]],s=Math.sqrt(i[0]*i[0]+i[1]*i[1]),o=[i[1]/s,-i[0]/s],l=[o[0]*n/2,o[1]*n/2];e.beginPath(),e.moveTo(r[a]-l[0],r[a+1]-l[1]),e.lineTo(r[a]+l[0],r[a+1]+l[1]),e.lineTo(r[a+2],r[a+3]),e.closePath(),e.fill()}};xn.drawArrowheads=function(t,e,r){var n=e._private.rscratch,a=n.edgeType==="haystack";a||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),a||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};xn.drawArrowhead=function(t,e,r,n,a,i,s){if(!(isNaN(n)||n==null||isNaN(a)||a==null||isNaN(i)||i==null)){var o=this,l=e.pstyle(r+"-arrow-shape").value;if(l!=="none"){var u=e.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",c=e.pstyle(r+"-arrow-fill").value,f=e.pstyle("width").pfValue,h=e.pstyle(r+"-arrow-width"),d=h.value==="match-line"?f:h.pfValue;h.units==="%"&&(d*=f);var v=e.pstyle("opacity").value;s===void 0&&(s=v);var g=t.globalCompositeOperation;(s!==1||c==="hollow")&&(t.globalCompositeOperation="destination-out",o.colorFillStyle(t,255,255,255,1),o.colorStrokeStyle(t,255,255,255,1),o.drawArrowShape(e,t,u,f,l,d,n,a,i),t.globalCompositeOperation=g);var p=e.pstyle(r+"-arrow-color").value;o.colorFillStyle(t,p[0],p[1],p[2],s),o.colorStrokeStyle(t,p[0],p[1],p[2],s),o.drawArrowShape(e,t,c,f,l,d,n,a,i)}}};xn.drawArrowShape=function(t,e,r,n,a,i,s,o,l){var u=this,c=this.usePaths()&&a!=="triangle-cross",f=!1,h,d=e,v={x:s,y:o},g=t.pstyle("arrow-scale").value,p=this.getArrowWidth(n,g),m=u.arrowShapes[a];if(c){var b=u.arrowPathCache=u.arrowPathCache||[],y=Ca(a),w=b[y];w!=null?(h=e=w,f=!0):(h=e=new Path2D,b[y]=h)}f||(e.beginPath&&e.beginPath(),c?m.draw(e,1,0,{x:0,y:0},1):m.draw(e,p,l,v,n),e.closePath&&e.closePath()),e=d,c&&(e.translate(s,o),e.rotate(l),e.scale(p,p)),(r==="filled"||r==="both")&&(c?e.fill(h):e.fill()),(r==="hollow"||r==="both")&&(e.lineWidth=i/(c?p:1),e.lineJoin="miter",c?e.stroke(h):e.stroke()),c&&(e.scale(1/p,1/p),e.rotate(-l),e.translate(-s,-o))};var cd={};cd.safeDrawImage=function(t,e,r,n,a,i,s,o,l,u){if(!(a<=0||i<=0||l<=0||u<=0))try{t.drawImage(e,r,n,a,i,s,o,l,u)}catch(c){dt(c)}};cd.drawInscribedImage=function(t,e,r,n,a){var i=this,s=r.position(),o=s.x,l=s.y,u=r.cy().style(),c=u.getIndexedStyle.bind(u),f=c(r,"background-fit","value",n),h=c(r,"background-repeat","value",n),d=r.width(),v=r.height(),g=r.padding()*2,p=d+(c(r,"background-width-relative-to","value",n)==="inner"?0:g),m=v+(c(r,"background-height-relative-to","value",n)==="inner"?0:g),b=r._private.rscratch,y=c(r,"background-clip","value",n),w=y==="node",x=c(r,"background-image-opacity","value",n)*a,D=c(r,"background-image-smoothing","value",n),C=r.pstyle("corner-radius").value;C!=="auto"&&(C=r.pstyle("corner-radius").pfValue);var N=e.width||e.cachedW,k=e.height||e.cachedH;(N==null||k==null)&&(document.body.appendChild(e),N=e.cachedW=e.width||e.offsetWidth,k=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var O=N,F=k;if(c(r,"background-width","value",n)!=="auto"&&(c(r,"background-width","units",n)==="%"?O=c(r,"background-width","pfValue",n)*p:O=c(r,"background-width","pfValue",n)),c(r,"background-height","value",n)!=="auto"&&(c(r,"background-height","units",n)==="%"?F=c(r,"background-height","pfValue",n)*m:F=c(r,"background-height","pfValue",n)),!(O===0||F===0)){if(f==="contain"){var S=Math.min(p/O,m/F);O*=S,F*=S}else if(f==="cover"){var S=Math.max(p/O,m/F);O*=S,F*=S}var P=o-p/2,E=c(r,"background-position-x","units",n),L=c(r,"background-position-x","pfValue",n);E==="%"?P+=(p-O)*L:P+=L;var A=c(r,"background-offset-x","units",n),T=c(r,"background-offset-x","pfValue",n);A==="%"?P+=(p-O)*T:P+=T;var R=l-m/2,W=c(r,"background-position-y","units",n),q=c(r,"background-position-y","pfValue",n);W==="%"?R+=(m-F)*q:R+=q;var G=c(r,"background-offset-y","units",n),$=c(r,"background-offset-y","pfValue",n);G==="%"?R+=(m-F)*$:R+=$,b.pathCache&&(P-=o,R-=l,o=0,l=0);var Q=t.globalAlpha;t.globalAlpha=x;var oe=i.getImgSmoothing(t),ie=!1;if(D==="no"&&oe?(i.setImgSmoothing(t,!1),ie=!0):D==="yes"&&!oe&&(i.setImgSmoothing(t,!0),ie=!0),h==="no-repeat")w&&(t.save(),b.pathCache?t.clip(b.pathCache):(i.nodeShapes[i.getNodeShape(r)].draw(t,o,l,p,m,C,b),t.clip())),i.safeDrawImage(t,e,0,0,N,k,P,R,O,F),w&&t.restore();else{var ae=t.createPattern(e,h);t.fillStyle=ae,i.nodeShapes[i.getNodeShape(r)].draw(t,o,l,p,m,C,b),t.translate(P,R),t.fill(),t.translate(-P,-R)}t.globalAlpha=Q,ie&&i.setImgSmoothing(t,oe)}};var Ma={};Ma.eleTextBiggerThanMin=function(t,e){if(!e){var r=t.cy().zoom(),n=this.getPixelRatio(),a=Math.ceil(Kf(r*n));e=Math.pow(2,a)}var i=t.pstyle("font-size").pfValue*e,s=t.pstyle("min-zoomed-font-size").pfValue;return!(i<s)};Ma.drawElementText=function(t,e,r,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this;if(n==null){if(i&&!s.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var o=e.pstyle("label");if(!o||!o.value)return;var l=s.getLabelJustification(e);t.textAlign=l,t.textBaseline="bottom"}else{var u=e.element()._private.rscratch.badLine,c=e.pstyle("label"),f=e.pstyle("source-label"),h=e.pstyle("target-label");if(u||(!c||!c.value)&&(!f||!f.value)&&(!h||!h.value))return;t.textAlign="center",t.textBaseline="bottom"}var d=!r,v;r&&(v=r,t.translate(-v.x1,-v.y1)),a==null?(s.drawText(t,e,null,d,i),e.isEdge()&&(s.drawText(t,e,"source",d,i),s.drawText(t,e,"target",d,i))):s.drawText(t,e,a,d,i),r&&t.translate(v.x1,v.y1)};Ma.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(e=this.fontCaches[r],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};Ma.setupTextStyle=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,a=e.pstyle("font-size").pfValue+"px",i=e.pstyle("font-family").strValue,s=e.pstyle("font-weight").strValue,o=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,l=e.pstyle("text-outline-opacity").value*o,u=e.pstyle("color").value,c=e.pstyle("text-outline-color").value;t.font=n+" "+s+" "+a+" "+i,t.lineJoin="round",this.colorFillStyle(t,u[0],u[1],u[2],o),this.colorStrokeStyle(t,c[0],c[1],c[2],l)};function Q2(t,e,r,n,a){var i=Math.min(n,a),s=i/2,o=e+n/2,l=r+a/2;t.beginPath(),t.arc(o,l,s,0,Math.PI*2),t.closePath()}function Xg(t,e,r,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,s=Math.min(i,n/2,a/2);t.beginPath(),t.moveTo(e+s,r),t.lineTo(e+n-s,r),t.quadraticCurveTo(e+n,r,e+n,r+s),t.lineTo(e+n,r+a-s),t.quadraticCurveTo(e+n,r+a,e+n-s,r+a),t.lineTo(e+s,r+a),t.quadraticCurveTo(e,r+a,e,r+a-s),t.lineTo(e,r+s),t.quadraticCurveTo(e,r,e+s,r),t.closePath()}Ma.getTextAngle=function(t,e){var r,n=t._private,a=n.rscratch,i=e?e+"-":"",s=t.pstyle(i+"text-rotation");if(s.strValue==="autorotate"){var o=mr(a,"labelAngle",e);r=t.isEdge()?o:0}else s.strValue==="none"?r=0:r=s.pfValue;return r};Ma.drawText=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=e._private,s=i.rscratch,o=a?e.effectiveOpacity():1;if(!(a&&(o===0||e.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var l=mr(s,"labelX",r),u=mr(s,"labelY",r),c,f,h=this.getLabelText(e,r);if(h!=null&&h!==""&&!isNaN(l)&&!isNaN(u)){this.setupTextStyle(t,e,a);var d=r?r+"-":"",v=mr(s,"labelWidth",r),g=mr(s,"labelHeight",r),p=e.pstyle(d+"text-margin-x").pfValue,m=e.pstyle(d+"text-margin-y").pfValue,b=e.isEdge(),y=e.pstyle("text-halign").value,w=e.pstyle("text-valign").value;b&&(y="center",w="center"),l+=p,u+=m;var x;switch(n?x=this.getTextAngle(e,r):x=0,x!==0&&(c=l,f=u,t.translate(c,f),t.rotate(x),l=0,u=0),w){case"top":break;case"center":u+=g/2;break;case"bottom":u+=g;break}var D=e.pstyle("text-background-opacity").value,C=e.pstyle("text-border-opacity").value,N=e.pstyle("text-border-width").pfValue,k=e.pstyle("text-background-padding").pfValue,O=e.pstyle("text-background-shape").strValue,F=O==="round-rectangle"||O==="roundrectangle",S=O==="circle",P=2;if(D>0||N>0&&C>0){var E=t.fillStyle,L=t.strokeStyle,A=t.lineWidth,T=e.pstyle("text-background-color").value,R=e.pstyle("text-border-color").value,W=e.pstyle("text-border-style").value,q=D>0,G=N>0&&C>0,$=l-k;switch(y){case"left":$-=v;break;case"center":$-=v/2;break}var Q=u-g-k,oe=v+2*k,ie=g+2*k;if(q&&(t.fillStyle="rgba(".concat(T[0],",").concat(T[1],",").concat(T[2],",").concat(D*o,")")),G&&(t.strokeStyle="rgba(".concat(R[0],",").concat(R[1],",").concat(R[2],",").concat(C*o,")"),t.lineWidth=N,t.setLineDash))switch(W){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=N/4,t.setLineDash([]);break;case"solid":default:t.setLineDash([]);break}if(F?(t.beginPath(),Xg(t,$,Q,oe,ie,P)):S?(t.beginPath(),Q2(t,$,Q,oe,ie)):(t.beginPath(),t.rect($,Q,oe,ie)),q&&t.fill(),G&&t.stroke(),G&&W==="double"){var ae=N/2;t.beginPath(),F?Xg(t,$+ae,Q+ae,oe-2*ae,ie-2*ae,P):t.rect($+ae,Q+ae,oe-2*ae,ie-2*ae),t.stroke()}t.fillStyle=E,t.strokeStyle=L,t.lineWidth=A,t.setLineDash&&t.setLineDash([])}var Y=2*e.pstyle("text-outline-width").pfValue;if(Y>0&&(t.lineWidth=Y),e.pstyle("text-wrap").value==="wrap"){var re=mr(s,"labelWrapCachedLines",r),U=mr(s,"labelLineHeight",r),V=v/2,X=this.getLabelJustification(e);switch(X==="auto"||(y==="left"?X==="left"?l+=-v:X==="center"&&(l+=-V):y==="center"?X==="left"?l+=-V:X==="right"&&(l+=V):y==="right"&&(X==="center"?l+=V:X==="right"&&(l+=v))),w){case"top":u-=(re.length-1)*U;break;case"center":case"bottom":u-=(re.length-1)*U;break}for(var M=0;M<re.length;M++)Y>0&&t.strokeText(re[M],l,u),t.fillText(re[M],l,u),u+=U}else Y>0&&t.strokeText(h,l,u),t.fillText(h,l,u);x!==0&&(t.rotate(-x),t.translate(-c,-f))}}};var ea={};ea.drawNode=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,o,l,u=e._private,c=u.rscratch,f=e.position();if(!(!Ne(f.x)||!Ne(f.y))&&!(i&&!e.visible())){var h=i?e.effectiveOpacity():1,d=s.usePaths(),v,g=!1,p=e.padding();o=e.width()+2*p,l=e.height()+2*p;var m;r&&(m=r,t.translate(-m.x1,-m.y1));for(var b=e.pstyle("background-image"),y=b.value,w=new Array(y.length),x=new Array(y.length),D=0,C=0;C<y.length;C++){var N=y[C],k=w[C]=N!=null&&N!=="none";if(k){var O=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",C);D++,x[C]=s.getCachedImage(N,O,function(){u.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var F=e.pstyle("background-blacken").value,S=e.pstyle("border-width").pfValue,P=e.pstyle("background-opacity").value*h,E=e.pstyle("border-color").value,L=e.pstyle("border-style").value,A=e.pstyle("border-join").value,T=e.pstyle("border-cap").value,R=e.pstyle("border-position").value,W=e.pstyle("border-dash-pattern").pfValue,q=e.pstyle("border-dash-offset").pfValue,G=e.pstyle("border-opacity").value*h,$=e.pstyle("outline-width").pfValue,Q=e.pstyle("outline-color").value,oe=e.pstyle("outline-style").value,ie=e.pstyle("outline-opacity").value*h,ae=e.pstyle("outline-offset").value,Y=e.pstyle("corner-radius").value;Y!=="auto"&&(Y=e.pstyle("corner-radius").pfValue);var re=function(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:P;s.eleFillStyle(t,e,Te)},U=function(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:G;s.colorStrokeStyle(t,E[0],E[1],E[2],Te)},V=function(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ie;s.colorStrokeStyle(t,Q[0],Q[1],Q[2],Te)},X=function(Te,j,I,J){var H=s.nodePathCache=s.nodePathCache||[],Z=gy(I==="polygon"?I+","+J.join(","):I,""+j,""+Te,""+Y),te=H[Z],ve,fe=!1;return te!=null?(ve=te,fe=!0,c.pathCache=ve):(ve=new Path2D,H[Z]=c.pathCache=ve),{path:ve,cacheHit:fe}},M=e.pstyle("shape").strValue,B=e.pstyle("shape-polygon-points").pfValue;if(d){t.translate(f.x,f.y);var z=X(o,l,M,B);v=z.path,g=z.cacheHit}var K=function(){if(!g){var Te=f;d&&(Te={x:0,y:0}),s.nodeShapes[s.getNodeShape(e)].draw(v||t,Te.x,Te.y,o,l,Y,c)}d?t.fill(v):t.fill()},ee=function(){for(var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,I=u.backgrounding,J=0,H=0;H<x.length;H++){var Z=e.cy().style().getIndexedStyle(e,"background-image-containment","value",H);if(j&&Z==="over"||!j&&Z==="inside"){J++;continue}w[H]&&x[H].complete&&!x[H].error&&(J++,s.drawInscribedImage(t,x[H],e,H,Te))}u.backgrounding=J!==D,I!==u.backgrounding&&e.updateStyle(!1)},ne=function(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h;s.hasPie(e)&&(s.drawPie(t,e,j),Te&&(d||s.nodeShapes[s.getNodeShape(e)].draw(t,f.x,f.y,o,l,Y,c)))},se=function(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h;s.hasStripe(e)&&(t.save(),d?t.clip(c.pathCache):(s.nodeShapes[s.getNodeShape(e)].draw(t,f.x,f.y,o,l,Y,c),t.clip()),s.drawStripe(t,e,j),t.restore(),Te&&(d||s.nodeShapes[s.getNodeShape(e)].draw(t,f.x,f.y,o,l,Y,c)))},ue=function(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h,j=(F>0?F:-F)*Te,I=F>0?0:255;F!==0&&(s.colorFillStyle(t,I,I,I,j),d?t.fill(v):t.fill())},le=function(){if(S>0){if(t.lineWidth=S,t.lineCap=T,t.lineJoin=A,t.setLineDash)switch(L){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash(W),t.lineDashOffset=q;break;case"solid":case"double":t.setLineDash([]);break}if(R!=="center"){if(t.save(),t.lineWidth*=2,R==="inside")d?t.clip(v):t.clip();else{var Te=new Path2D;Te.rect(-o/2-S,-l/2-S,o+2*S,l+2*S),Te.addPath(v),t.clip(Te,"evenodd")}d?t.stroke(v):t.stroke(),t.restore()}else d?t.stroke(v):t.stroke();if(L==="double"){t.lineWidth=S/3;var j=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",d?t.stroke(v):t.stroke(),t.globalCompositeOperation=j}t.setLineDash&&t.setLineDash([])}},ce=function(){if($>0){if(t.lineWidth=$,t.lineCap="butt",t.setLineDash)switch(oe){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}var Te=f;d&&(Te={x:0,y:0});var j=s.getNodeShape(e),I=S;R==="inside"&&(I=0),R==="outside"&&(I*=2);var J=(o+I+($+ae))/o,H=(l+I+($+ae))/l,Z=o*J,te=l*H,ve=s.nodeShapes[j].points,fe;if(d){var he=X(Z,te,j,ve);fe=he.path}if(j==="ellipse")s.drawEllipsePath(fe||t,Te.x,Te.y,Z,te);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(j)){var ge=0,we=0,Oe=0;j==="round-diamond"?ge=(I+ae+$)*1.4:j==="round-heptagon"?(ge=(I+ae+$)*1.075,Oe=-(I/2+ae+$)/35):j==="round-hexagon"?ge=(I+ae+$)*1.12:j==="round-pentagon"?(ge=(I+ae+$)*1.13,Oe=-(I/2+ae+$)/15):j==="round-tag"?(ge=(I+ae+$)*1.12,we=(I/2+$+ae)*.07):j==="round-triangle"&&(ge=(I+ae+$)*(Math.PI/2),Oe=-(I+ae/2+$)/Math.PI),ge!==0&&(J=(o+ge)/o,Z=o*J,["round-hexagon","round-tag"].includes(j)||(H=(l+ge)/l,te=l*H)),Y=Y==="auto"?Sy(Z,te):Y;for(var Le=Z/2,Re=te/2,Se=Y+(I+$+ae)/2,Ce=new Array(ve.length/2),He=new Array(ve.length/2),Fe=0;Fe<ve.length/2;Fe++)Ce[Fe]={x:Te.x+we+Le*ve[Fe*2],y:Te.y+Oe+Re*ve[Fe*2+1]};var Be,Qe,Ue,Ge,st=Ce.length;for(Qe=Ce[st-1],Be=0;Be<st;Be++)Ue=Ce[Be%st],Ge=Ce[(Be+1)%st],He[Be]=ld(Qe,Ue,Ge,Se),Qe=Ue,Ue=Ge;s.drawRoundPolygonPath(fe||t,Te.x+we,Te.y+Oe,o*J,l*H,ve,He)}else if(["roundrectangle","round-rectangle"].includes(j))Y=Y==="auto"?Wn(Z,te):Y,s.drawRoundRectanglePath(fe||t,Te.x,Te.y,Z,te,Y+(I+$+ae)/2);else if(["cutrectangle","cut-rectangle"].includes(j))Y=Y==="auto"?Qf():Y,s.drawCutRectanglePath(fe||t,Te.x,Te.y,Z,te,null,Y+(I+$+ae)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(j))Y=Y==="auto"?Wn(Z,te):Y,s.drawBottomRoundRectanglePath(fe||t,Te.x,Te.y,Z,te,Y+(I+$+ae)/2);else if(j==="barrel")s.drawBarrelPath(fe||t,Te.x,Te.y,Z,te);else if(j.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(j)){var vt=(I+$+ae)/o;ve=Bo(_o(ve,vt)),s.drawPolygonPath(fe||t,Te.x,Te.y,o,l,ve)}else{var je=(I+$+ae)/o;ve=Bo(_o(ve,-je)),s.drawPolygonPath(fe||t,Te.x,Te.y,o,l,ve)}if(d?t.stroke(fe):t.stroke(),oe==="double"){t.lineWidth=I/3;var nt=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",d?t.stroke(fe):t.stroke(),t.globalCompositeOperation=nt}t.setLineDash&&t.setLineDash([])}},pe=function(){a&&s.drawNodeOverlay(t,e,f,o,l)},de=function(){a&&s.drawNodeUnderlay(t,e,f,o,l)},me=function(){s.drawElementText(t,e,null,n)},Ee=e.pstyle("ghost").value==="yes";if(Ee){var Ae=e.pstyle("ghost-offset-x").pfValue,ke=e.pstyle("ghost-offset-y").pfValue,Pe=e.pstyle("ghost-opacity").value,Ie=Pe*h;t.translate(Ae,ke),V(),ce(),re(Pe*P),K(),ee(Ie,!0),U(Pe*G),le(),ne(F!==0||S!==0),se(F!==0||S!==0),ee(Ie,!1),ue(Ie),t.translate(-Ae,-ke)}d&&t.translate(-f.x,-f.y),de(),d&&t.translate(f.x,f.y),V(),ce(),re(),K(),ee(h,!0),U(),le(),ne(F!==0||S!==0),se(F!==0||S!==0),ee(h,!1),ue(),d&&t.translate(-f.x,-f.y),me(),pe(),r&&t.translate(m.x1,m.y1)}};var P0=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n,a,i,s){var o=this;if(n.visible()){var l=n.pstyle("".concat(e,"-padding")).pfValue,u=n.pstyle("".concat(e,"-opacity")).value,c=n.pstyle("".concat(e,"-color")).value,f=n.pstyle("".concat(e,"-shape")).value,h=n.pstyle("".concat(e,"-corner-radius")).value;if(u>0){if(a=a||n.position(),i==null||s==null){var d=n.padding();i=n.width()+2*d,s=n.height()+2*d}o.colorFillStyle(r,c[0],c[1],c[2],u),o.nodeShapes[f].draw(r,a.x,a.y,i+l*2,s+l*2,h),r.fill()}}}};ea.drawNodeOverlay=P0("overlay");ea.drawNodeUnderlay=P0("underlay");ea.hasPie=function(t){return t=t[0],t._private.hasPie};ea.hasStripe=function(t){return t=t[0],t._private.hasStripe};ea.drawPie=function(t,e,r,n){e=e[0],n=n||e.position();var a=e.cy().style(),i=e.pstyle("pie-size"),s=e.pstyle("pie-hole"),o=e.pstyle("pie-start-angle").pfValue,l=n.x,u=n.y,c=e.width(),f=e.height(),h=Math.min(c,f)/2,d,v=0,g=this.usePaths();if(g&&(l=0,u=0),i.units==="%"?h=h*i.pfValue:i.pfValue!==void 0&&(h=i.pfValue/2),s.units==="%"?d=h*s.pfValue:s.pfValue!==void 0&&(d=s.pfValue/2),!(d>=h))for(var p=1;p<=a.pieBackgroundN;p++){var m=e.pstyle("pie-"+p+"-background-size").value,b=e.pstyle("pie-"+p+"-background-color").value,y=e.pstyle("pie-"+p+"-background-opacity").value*r,w=m/100;w+v>1&&(w=1-v);var x=1.5*Math.PI+2*Math.PI*v;x+=o;var D=2*Math.PI*w,C=x+D;m===0||v>=1||v+w>1||(d===0?(t.beginPath(),t.moveTo(l,u),t.arc(l,u,h,x,C),t.closePath()):(t.beginPath(),t.arc(l,u,h,x,C),t.arc(l,u,d,C,x,!0),t.closePath()),this.colorFillStyle(t,b[0],b[1],b[2],y),t.fill(),v+=w)}};ea.drawStripe=function(t,e,r,n){e=e[0],n=n||e.position();var a=e.cy().style(),i=n.x,s=n.y,o=e.width(),l=e.height(),u=0,c=this.usePaths();t.save();var f=e.pstyle("stripe-direction").value,h=e.pstyle("stripe-size");switch(f){case"vertical":break;case"righward":t.rotate(-Math.PI/2);break}var d=o,v=l;h.units==="%"?(d=d*h.pfValue,v=v*h.pfValue):h.pfValue!==void 0&&(d=h.pfValue,v=h.pfValue),c&&(i=0,s=0),s-=d/2,i-=v/2;for(var g=1;g<=a.stripeBackgroundN;g++){var p=e.pstyle("stripe-"+g+"-background-size").value,m=e.pstyle("stripe-"+g+"-background-color").value,b=e.pstyle("stripe-"+g+"-background-opacity").value*r,y=p/100;y+u>1&&(y=1-u),!(p===0||u>=1||u+y>1)&&(t.beginPath(),t.rect(i,s+v*u,d,v*y),t.closePath(),this.colorFillStyle(t,m[0],m[1],m[2],b),t.fill(),u+=y)}t.restore()};var vr={},J2=100;vr.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),r=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/r};vr.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],r=!0,n,a=0;a<e.length;a++)if(n=e[a],n.context===t){r=!1;break}return r&&(n={context:t},e.push(n)),n};vr.createGradientStyleFor=function(t,e,r,n,a){var i,s=this.usePaths(),o=r.pstyle(e+"-gradient-stop-colors").value,l=r.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var u=r.sourceEndpoint(),c=r.targetEndpoint(),f=r.midpoint(),h=Ta(u,f),d=Ta(c,f);i=t.createRadialGradient(f.x,f.y,0,f.x,f.y,Math.max(h,d))}else{var v=s?{x:0,y:0}:r.position(),g=r.paddedWidth(),p=r.paddedHeight();i=t.createRadialGradient(v.x,v.y,0,v.x,v.y,Math.max(g,p))}else if(r.isEdge()){var m=r.sourceEndpoint(),b=r.targetEndpoint();i=t.createLinearGradient(m.x,m.y,b.x,b.y)}else{var y=s?{x:0,y:0}:r.position(),w=r.paddedWidth(),x=r.paddedHeight(),D=w/2,C=x/2,N=r.pstyle("background-gradient-direction").value;switch(N){case"to-bottom":i=t.createLinearGradient(y.x,y.y-C,y.x,y.y+C);break;case"to-top":i=t.createLinearGradient(y.x,y.y+C,y.x,y.y-C);break;case"to-left":i=t.createLinearGradient(y.x+D,y.y,y.x-D,y.y);break;case"to-right":i=t.createLinearGradient(y.x-D,y.y,y.x+D,y.y);break;case"to-bottom-right":case"to-right-bottom":i=t.createLinearGradient(y.x-D,y.y-C,y.x+D,y.y+C);break;case"to-top-right":case"to-right-top":i=t.createLinearGradient(y.x-D,y.y+C,y.x+D,y.y-C);break;case"to-bottom-left":case"to-left-bottom":i=t.createLinearGradient(y.x+D,y.y-C,y.x-D,y.y+C);break;case"to-top-left":case"to-left-top":i=t.createLinearGradient(y.x+D,y.y+C,y.x-D,y.y-C);break}}if(!i)return null;for(var k=l.length===o.length,O=o.length,F=0;F<O;F++)i.addColorStop(k?l[F]:F/(O-1),"rgba("+o[F][0]+","+o[F][1]+","+o[F][2]+","+a+")");return i};vr.gradientFillStyle=function(t,e,r,n){var a=this.createGradientStyleFor(t,"background",e,r,n);if(!a)return null;t.fillStyle=a};vr.colorFillStyle=function(t,e,r,n,a){t.fillStyle="rgba("+e+","+r+","+n+","+a+")"};vr.eleFillStyle=function(t,e,r){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(t,e,n,r);else{var a=e.pstyle("background-color").value;this.colorFillStyle(t,a[0],a[1],a[2],r)}};vr.gradientStrokeStyle=function(t,e,r,n){var a=this.createGradientStyleFor(t,"line",e,r,n);if(!a)return null;t.strokeStyle=a};vr.colorStrokeStyle=function(t,e,r,n,a){t.strokeStyle="rgba("+e+","+r+","+n+","+a+")"};vr.eleStrokeStyle=function(t,e,r){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(t,e,n,r);else{var a=e.pstyle("line-color").value;this.colorStrokeStyle(t,a[0],a[1],a[2],r)}};vr.matchCanvasSize=function(t){var e=this,r=e.data,n=e.findContainerClientCoords(),a=n[2],i=n[3],s=e.getPixelRatio(),o=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(s=o);var l=a*s,u=i*s,c;if(!(l===e.canvasWidth&&u===e.canvasHeight)){e.fontCaches=null;var f=r.canvasContainer;f.style.width=a+"px",f.style.height=i+"px";for(var h=0;h<e.CANVAS_LAYERS;h++)c=r.canvases[h],c.width=l,c.height=u,c.style.width=a+"px",c.style.height=i+"px";for(var h=0;h<e.BUFFER_COUNT;h++)c=r.bufferCanvases[h],c.width=l,c.height=u,c.style.width=a+"px",c.style.height=i+"px";e.textureMult=1,s<=1&&(c=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,c.width=l*e.textureMult,c.height=u*e.textureMult),e.canvasWidth=l,e.canvasHeight=u,e.pixelRatio=s}};vr.renderTo=function(t,e,r,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};vr.clearCanvas=function(){var t=this,e=t.data;function r(n){n.clearRect(0,0,t.canvasWidth,t.canvasHeight)}r(e.contexts[t.NODE]),r(e.contexts[t.DRAG])};vr.render=function(t){var e=this;t=t||by();var r=e.cy,n=t.forcedContext,a=t.drawAllLayers,i=t.drawOnlyNodeLayer,s=t.forcedZoom,o=t.forcedPan,l=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,u=e.data,c=u.canvasNeedsRedraw,f=e.textureOnViewport&&!n&&(e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming),h=t.motionBlur!==void 0?t.motionBlur:e.motionBlur,d=e.motionBlurPxRatio,v=r.hasCompoundNodes(),g=e.hoverData.draggingEles,p=!!(e.hoverData.selecting||e.touchData.selecting);h=h&&!n&&e.motionBlurEnabled&&!p;var m=h;n||(e.prevPxRatio!==l&&(e.invalidateContainerClientCoordsCache(),e.matchCanvasSize(e.container),e.redrawHint("eles",!0),e.redrawHint("drag",!0)),e.prevPxRatio=l),!n&&e.motionBlurTimeout&&clearTimeout(e.motionBlurTimeout),h&&(e.mbFrames==null&&(e.mbFrames=0),e.mbFrames++,e.mbFrames<3&&(m=!1),e.mbFrames>e.minMbLowQualFrames&&(e.motionBlurPxRatio=e.mbPxRBlurry)),e.clearingMotionBlur&&(e.motionBlurPxRatio=1),e.textureDrawLastFrame&&!f&&(c[e.NODE]=!0,c[e.SELECT_BOX]=!0);var b=r.style(),y=r.zoom(),w=s!==void 0?s:y,x=r.pan(),D={x:x.x,y:x.y},C={zoom:y,pan:{x:x.x,y:x.y}},N=e.prevViewport,k=N===void 0||C.zoom!==N.zoom||C.pan.x!==N.pan.x||C.pan.y!==N.pan.y;!k&&!(g&&!v)&&(e.motionBlurPxRatio=1),o&&(D=o),w*=l,D.x*=l,D.y*=l;var O=e.getCachedZSortedEles();function F(U,V,X,M,B){var z=U.globalCompositeOperation;U.globalCompositeOperation="destination-out",e.colorFillStyle(U,255,255,255,e.motionBlurTransparency),U.fillRect(V,X,M,B),U.globalCompositeOperation=z}function S(U,V){var X,M,B,z;!e.clearingMotionBlur&&(U===u.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]||U===u.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG])?(X={x:x.x*d,y:x.y*d},M=y*d,B=e.canvasWidth*d,z=e.canvasHeight*d):(X=D,M=w,B=e.canvasWidth,z=e.canvasHeight),U.setTransform(1,0,0,1,0,0),V==="motionBlur"?F(U,0,0,B,z):!n&&(V===void 0||V)&&U.clearRect(0,0,B,z),a||(U.translate(X.x,X.y),U.scale(M,M)),o&&U.translate(o.x,o.y),s&&U.scale(s,s)}if(f||(e.textureDrawLastFrame=!1),f){if(e.textureDrawLastFrame=!0,!e.textureCache){e.textureCache={},e.textureCache.bb=r.mutableElements().boundingBox(),e.textureCache.texture=e.data.bufferCanvases[e.TEXTURE_BUFFER];var P=e.data.bufferContexts[e.TEXTURE_BUFFER];P.setTransform(1,0,0,1,0,0),P.clearRect(0,0,e.canvasWidth*e.textureMult,e.canvasHeight*e.textureMult),e.render({forcedContext:P,drawOnlyNodeLayer:!0,forcedPxRatio:l*e.textureMult});var C=e.textureCache.viewport={zoom:r.zoom(),pan:r.pan(),width:e.canvasWidth,height:e.canvasHeight};C.mpan={x:(0-C.pan.x)/C.zoom,y:(0-C.pan.y)/C.zoom}}c[e.DRAG]=!1,c[e.NODE]=!1;var E=u.contexts[e.NODE],L=e.textureCache.texture,C=e.textureCache.viewport;E.setTransform(1,0,0,1,0,0),h?F(E,0,0,C.width,C.height):E.clearRect(0,0,C.width,C.height);var A=b.core("outside-texture-bg-color").value,T=b.core("outside-texture-bg-opacity").value;e.colorFillStyle(E,A[0],A[1],A[2],T),E.fillRect(0,0,C.width,C.height);var y=r.zoom();S(E,!1),E.clearRect(C.mpan.x,C.mpan.y,C.width/C.zoom/l,C.height/C.zoom/l),E.drawImage(L,C.mpan.x,C.mpan.y,C.width/C.zoom/l,C.height/C.zoom/l)}else e.textureOnViewport&&!n&&(e.textureCache=null);var R=r.extent(),W=e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming||e.hoverData.draggingEles||e.cy.animated(),q=e.hideEdgesOnViewport&&W,G=[];if(G[e.NODE]=!c[e.NODE]&&h&&!e.clearedForMotionBlur[e.NODE]||e.clearingMotionBlur,G[e.NODE]&&(e.clearedForMotionBlur[e.NODE]=!0),G[e.DRAG]=!c[e.DRAG]&&h&&!e.clearedForMotionBlur[e.DRAG]||e.clearingMotionBlur,G[e.DRAG]&&(e.clearedForMotionBlur[e.DRAG]=!0),c[e.NODE]||a||i||G[e.NODE]){var $=h&&!G[e.NODE]&&d!==1,E=n||($?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]:u.contexts[e.NODE]),Q=h&&!$?"motionBlur":void 0;S(E,Q),q?e.drawCachedNodes(E,O.nondrag,l,R):e.drawLayeredElements(E,O.nondrag,l,R),e.debug&&e.drawDebugPoints(E,O.nondrag),!a&&!h&&(c[e.NODE]=!1)}if(!i&&(c[e.DRAG]||a||G[e.DRAG])){var $=h&&!G[e.DRAG]&&d!==1,E=n||($?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG]:u.contexts[e.DRAG]);S(E,h&&!$?"motionBlur":void 0),q?e.drawCachedNodes(E,O.drag,l,R):e.drawCachedElements(E,O.drag,l,R),e.debug&&e.drawDebugPoints(E,O.drag),!a&&!h&&(c[e.DRAG]=!1)}if(this.drawSelectionRectangle(t,S),h&&d!==1){var oe=u.contexts[e.NODE],ie=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE],ae=u.contexts[e.DRAG],Y=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG],re=function(V,X,M){V.setTransform(1,0,0,1,0,0),M||!m?V.clearRect(0,0,e.canvasWidth,e.canvasHeight):F(V,0,0,e.canvasWidth,e.canvasHeight);var B=d;V.drawImage(X,0,0,e.canvasWidth*B,e.canvasHeight*B,0,0,e.canvasWidth,e.canvasHeight)};(c[e.NODE]||G[e.NODE])&&(re(oe,ie,G[e.NODE]),c[e.NODE]=!1),(c[e.DRAG]||G[e.DRAG])&&(re(ae,Y,G[e.DRAG]),c[e.DRAG]=!1)}e.prevViewport=C,e.clearingMotionBlur&&(e.clearingMotionBlur=!1,e.motionBlurCleared=!0,e.motionBlur=!0),h&&(e.motionBlurTimeout=setTimeout(function(){e.motionBlurTimeout=null,e.clearedForMotionBlur[e.NODE]=!1,e.clearedForMotionBlur[e.DRAG]=!1,e.motionBlur=!1,e.clearingMotionBlur=!f,e.mbFrames=0,c[e.NODE]=!0,c[e.DRAG]=!0,e.redraw()},J2)),n||r.emit("render")};var Pi;vr.drawSelectionRectangle=function(t,e){var r=this,n=r.cy,a=r.data,i=n.style(),s=t.drawOnlyNodeLayer,o=t.drawAllLayers,l=a.canvasNeedsRedraw,u=t.forcedContext;if(r.showFps||!s&&l[r.SELECT_BOX]&&!o){var c=u||a.contexts[r.SELECT_BOX];if(e(c),r.selection[4]==1&&(r.hoverData.selecting||r.touchData.selecting)){var f=r.cy.zoom(),h=i.core("selection-box-border-width").value/f;c.lineWidth=h,c.fillStyle="rgba("+i.core("selection-box-color").value[0]+","+i.core("selection-box-color").value[1]+","+i.core("selection-box-color").value[2]+","+i.core("selection-box-opacity").value+")",c.fillRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]),h>0&&(c.strokeStyle="rgba("+i.core("selection-box-border-color").value[0]+","+i.core("selection-box-border-color").value[1]+","+i.core("selection-box-border-color").value[2]+","+i.core("selection-box-opacity").value+")",c.strokeRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]))}if(a.bgActivePosistion&&!r.hoverData.selecting){var f=r.cy.zoom(),d=a.bgActivePosistion;c.fillStyle="rgba("+i.core("active-bg-color").value[0]+","+i.core("active-bg-color").value[1]+","+i.core("active-bg-color").value[2]+","+i.core("active-bg-opacity").value+")",c.beginPath(),c.arc(d.x,d.y,i.core("active-bg-size").pfValue/f,0,2*Math.PI),c.fill()}var v=r.lastRedrawTime;if(r.showFps&&v){v=Math.round(v);var g=Math.round(1e3/v),p="1 frame = "+v+" ms = "+g+" fps";if(c.setTransform(1,0,0,1,0,0),c.fillStyle="rgba(255, 0, 0, 0.75)",c.strokeStyle="rgba(255, 0, 0, 0.75)",c.font="30px Arial",!Pi){var m=c.measureText(p);Pi=m.actualBoundingBoxAscent}c.fillText(p,0,Pi);var b=60;c.strokeRect(0,Pi+10,250,20),c.fillRect(0,Pi+10,250*Math.min(g/b,1),20)}o||(l[r.SELECT_BOX]=!1)}};function Kg(t,e,r){var n=t.createShader(e);if(t.shaderSource(n,r),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(n));return n}function j2(t,e,r){var n=Kg(t,t.VERTEX_SHADER,e),a=Kg(t,t.FRAGMENT_SHADER,r),i=t.createProgram();if(t.attachShader(i,n),t.attachShader(i,a),t.linkProgram(i),!t.getProgramParameter(i,t.LINK_STATUS))throw new Error("Could not initialize shaders");return i}function eP(t,e,r){r===void 0&&(r=e);var n=t.makeOffscreenCanvas(e,r),a=n.context=n.getContext("2d");return n.clear=function(){return a.clearRect(0,0,n.width,n.height)},n.clear(),n}function fd(t){var e=t.pixelRatio,r=t.cy.zoom(),n=t.cy.pan();return{zoom:r*e,pan:{x:n.x*e,y:n.y*e}}}function tP(t){var e=t.pixelRatio,r=t.cy.zoom();return r*e}function rP(t,e,r,n,a){var i=n*r+e.x,s=a*r+e.y;return s=Math.round(t.canvasHeight-s),[i,s]}function nP(t){return t.pstyle("background-fill").value!=="solid"||t.pstyle("background-image").strValue!=="none"?!1:t.pstyle("border-width").value===0||t.pstyle("border-opacity").value===0?!0:t.pstyle("border-style").value==="solid"}function aP(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function ua(t,e,r){var n=t[0]/255,a=t[1]/255,i=t[2]/255,s=e,o=r||new Array(4);return o[0]=n*s,o[1]=a*s,o[2]=i*s,o[3]=s,o}function Ba(t,e){var r=e||new Array(4);return r[0]=(t>>0&255)/255,r[1]=(t>>8&255)/255,r[2]=(t>>16&255)/255,r[3]=(t>>24&255)/255,r}function iP(t){return t[0]+(t[1]<<8)+(t[2]<<16)+(t[3]<<24)}function sP(t,e){var r=t.createTexture();return r.buffer=function(n){t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_NEAREST),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n),t.generateMipmap(t.TEXTURE_2D),t.bindTexture(t.TEXTURE_2D,null)},r.deleteTexture=function(){t.deleteTexture(r)},r}function N0(t,e){switch(e){case"float":return[1,t.FLOAT,4];case"vec2":return[2,t.FLOAT,4];case"vec3":return[3,t.FLOAT,4];case"vec4":return[4,t.FLOAT,4];case"int":return[1,t.INT,4];case"ivec2":return[2,t.INT,4]}}function O0(t,e,r){switch(e){case t.FLOAT:return new Float32Array(r);case t.INT:return new Int32Array(r)}}function oP(t,e,r,n,a,i){switch(e){case t.FLOAT:return new Float32Array(r.buffer,i*n,a);case t.INT:return new Int32Array(r.buffer,i*n,a)}}function lP(t,e,r,n){var a=N0(t,e),i=Ft(a,2),s=i[0],o=i[1],l=O0(t,o,n),u=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,u),t.bufferData(t.ARRAY_BUFFER,l,t.STATIC_DRAW),o===t.FLOAT?t.vertexAttribPointer(r,s,o,!1,0,0):o===t.INT&&t.vertexAttribIPointer(r,s,o,0,0),t.enableVertexAttribArray(r),t.bindBuffer(t.ARRAY_BUFFER,null),u}function Kr(t,e,r,n){var a=N0(t,r),i=Ft(a,3),s=i[0],o=i[1],l=i[2],u=O0(t,o,e*s),c=s*l,f=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,f),t.bufferData(t.ARRAY_BUFFER,e*c,t.DYNAMIC_DRAW),t.enableVertexAttribArray(n),o===t.FLOAT?t.vertexAttribPointer(n,s,o,!1,c,0):o===t.INT&&t.vertexAttribIPointer(n,s,o,c,0),t.vertexAttribDivisor(n,1),t.bindBuffer(t.ARRAY_BUFFER,null);for(var h=new Array(e),d=0;d<e;d++)h[d]=oP(t,o,u,c,s,d);return f.dataArray=u,f.stride=c,f.size=s,f.getView=function(v){return h[v]},f.setPoint=function(v,g,p){var m=h[v];m[0]=g,m[1]=p},f.bufferSubData=function(v){t.bindBuffer(t.ARRAY_BUFFER,f),v?t.bufferSubData(t.ARRAY_BUFFER,0,u,0,v*s):t.bufferSubData(t.ARRAY_BUFFER,0,u)},f}function uP(t,e,r){for(var n=9,a=new Float32Array(e*n),i=new Array(e),s=0;s<e;s++){var o=s*n*4;i[s]=new Float32Array(a.buffer,o,n)}var l=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,l),t.bufferData(t.ARRAY_BUFFER,a.byteLength,t.DYNAMIC_DRAW);for(var u=0;u<3;u++){var c=r+u;t.enableVertexAttribArray(c),t.vertexAttribPointer(c,3,t.FLOAT,!1,3*12,u*12),t.vertexAttribDivisor(c,1)}return t.bindBuffer(t.ARRAY_BUFFER,null),l.getMatrixView=function(f){return i[f]},l.setData=function(f,h){i[h].set(f,0)},l.bufferSubData=function(){t.bindBuffer(t.ARRAY_BUFFER,l),t.bufferSubData(t.ARRAY_BUFFER,0,a)},l}function cP(t){var e=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,e);var r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.bindFramebuffer(t.FRAMEBUFFER,null),e.setFramebufferAttachmentSizes=function(n,a){t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n,a,0,t.RGBA,t.UNSIGNED_BYTE,null)},e}var $g=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function Tc(){var t=new $g(9);return $g!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function Zg(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function fP(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=e[4],l=e[5],u=e[6],c=e[7],f=e[8],h=r[0],d=r[1],v=r[2],g=r[3],p=r[4],m=r[5],b=r[6],y=r[7],w=r[8];return t[0]=h*n+d*s+v*u,t[1]=h*a+d*o+v*c,t[2]=h*i+d*l+v*f,t[3]=g*n+p*s+m*u,t[4]=g*a+p*o+m*c,t[5]=g*i+p*l+m*f,t[6]=b*n+y*s+w*u,t[7]=b*a+y*o+w*c,t[8]=b*i+y*l+w*f,t}function bo(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=e[4],l=e[5],u=e[6],c=e[7],f=e[8],h=r[0],d=r[1];return t[0]=n,t[1]=a,t[2]=i,t[3]=s,t[4]=o,t[5]=l,t[6]=h*n+d*s+u,t[7]=h*a+d*o+c,t[8]=h*i+d*l+f,t}function Qg(t,e,r){var n=e[0],a=e[1],i=e[2],s=e[3],o=e[4],l=e[5],u=e[6],c=e[7],f=e[8],h=Math.sin(r),d=Math.cos(r);return t[0]=d*n+h*s,t[1]=d*a+h*o,t[2]=d*i+h*l,t[3]=d*s-h*n,t[4]=d*o-h*a,t[5]=d*l-h*i,t[6]=u,t[7]=c,t[8]=f,t}function pf(t,e,r){var n=r[0],a=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=a*e[3],t[4]=a*e[4],t[5]=a*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function dP(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}var hP=function(){function t(e,r,n,a){Qn(this,t),this.debugID=Math.floor(Math.random()*1e4),this.r=e,this.texSize=r,this.texRows=n,this.texHeight=Math.floor(r/n),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=a(e,r,r),this.scratch=a(e,r,this.texHeight,"scratch")}return Jn(t,[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(r){var n=r.w,a=r.h,i=this.texHeight,s=this.texSize,o=i/a,l=n*o,u=a*o;return l>s&&(o=s/n,l=n*o,u=a*o),{scale:o,texW:l,texH:u}}},{key:"draw",value:function(r,n,a){var i=this;if(this.locked)throw new Error("can't draw, atlas is locked");var s=this.texSize,o=this.texRows,l=this.texHeight,u=this.getScale(n),c=u.scale,f=u.texW,h=u.texH,d=function(y,w){if(a&&w){var x=w.context,D=y.x,C=y.row,N=D,k=l*C;x.save(),x.translate(N,k),x.scale(c,c),a(x,n),x.restore()}},v=[null,null],g=function(){d(i.freePointer,i.canvas),v[0]={x:i.freePointer.x,y:i.freePointer.row*l,w:f,h},v[1]={x:i.freePointer.x+f,y:i.freePointer.row*l,w:0,h},i.freePointer.x+=f,i.freePointer.x==s&&(i.freePointer.x=0,i.freePointer.row++)},p=function(){var y=i.scratch,w=i.canvas;y.clear(),d({x:0,row:0},y);var x=s-i.freePointer.x,D=f-x,C=l;{var N=i.freePointer.x,k=i.freePointer.row*l,O=x;w.context.drawImage(y,0,0,O,C,N,k,O,C),v[0]={x:N,y:k,w:O,h}}{var F=x,S=(i.freePointer.row+1)*l,P=D;w&&w.context.drawImage(y,F,0,P,C,0,S,P,C),v[1]={x:0,y:S,w:P,h}}i.freePointer.x=D,i.freePointer.row++},m=function(){i.freePointer.x=0,i.freePointer.row++};if(this.freePointer.x+f<=s)g();else{if(this.freePointer.row>=o-1)return!1;this.freePointer.x===s?(m(),g()):this.enableWrapping?p():(m(),g())}return this.keyToLocation.set(r,v),this.needsBuffer=!0,v}},{key:"getOffsets",value:function(r){return this.keyToLocation.get(r)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(r){if(this.locked)return!1;var n=this.texSize,a=this.texRows,i=this.getScale(r),s=i.texW;return this.freePointer.x+s>n?this.freePointer.row<a-1:!0}},{key:"bufferIfNeeded",value:function(r){this.texture||(this.texture=sP(r,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])}(),vP=function(){function t(e,r,n,a){Qn(this,t),this.r=e,this.texSize=r,this.texRows=n,this.createTextureCanvas=a,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return Jn(t,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var r=this.r,n=this.texSize,a=this.texRows,i=this.createTextureCanvas;return new hP(r,n,a,i)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var r=this.r,n=this.texSize,a=this.texRows,i=this.createTextureCanvas,s=Math.floor(n/a);this.scratch=i(r,n,s,"scratch")}return this.scratch}},{key:"draw",value:function(r,n,a){var i=this.styleKeyToAtlas.get(r);return i||(i=this.atlases[this.atlases.length-1],(!i||!i.canFit(n))&&(i&&i.lock(),i=this._createAtlas(),this.atlases.push(i)),i.draw(r,n,a),this.styleKeyToAtlas.set(r,i)),i}},{key:"getAtlas",value:function(r){return this.styleKeyToAtlas.get(r)}},{key:"hasAtlas",value:function(r){return this.styleKeyToAtlas.has(r)}},{key:"markKeyForGC",value:function(r){this.markedKeys.add(r)}},{key:"gc",value:function(){var r=this,n=this.markedKeys;if(n.size===0){console.log("nothing to garbage collect");return}var a=[],i=new Map,s=null,o=wr(this.atlases),l;try{var u=function(){var f=l.value,h=f.getKeys(),d=gP(n,h);if(d.size===0)return a.push(f),h.forEach(function(x){return i.set(x,f)}),1;s||(s=r._createAtlas(),a.push(s));var v=wr(h),g;try{for(v.s();!(g=v.n()).done;){var p=g.value;if(!d.has(p)){var m=f.getOffsets(p),b=Ft(m,2),y=b[0],w=b[1];s.canFit({w:y.w+w.w,h:y.h})||(s.lock(),s=r._createAtlas(),a.push(s)),f.canvas&&(r._copyTextureToNewAtlas(p,f,s),i.set(p,s))}}}catch(x){v.e(x)}finally{v.f()}f.dispose()};for(o.s();!(l=o.n()).done;)u()}catch(c){o.e(c)}finally{o.f()}this.atlases=a,this.styleKeyToAtlas=i,this.markedKeys=new Set}},{key:"_copyTextureToNewAtlas",value:function(r,n,a){var i=n.getOffsets(r),s=Ft(i,2),o=s[0],l=s[1];if(l.w===0)a.draw(r,o,function(h){h.drawImage(n.canvas,o.x,o.y,o.w,o.h,0,0,o.w,o.h)});else{var u=this._getScratchCanvas();u.clear(),u.context.drawImage(n.canvas,o.x,o.y,o.w,o.h,0,0,o.w,o.h),u.context.drawImage(n.canvas,l.x,l.y,l.w,l.h,o.w,0,l.w,l.h);var c=o.w+l.w,f=o.h;a.draw(r,{w:c,h:f},function(h){h.drawImage(u,0,0,c,f,0,0,c,f)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])}();function gP(t,e){return t.intersection?t.intersection(e):new Set(Oo(t).filter(function(r){return e.has(r)}))}var pP=function(){function t(e,r){Qn(this,t),this.r=e,this.globalOptions=r,this.atlasSize=r.webglTexSize,this.maxAtlasesPerBatch=r.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map}return Jn(t,[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"addAtlasCollection",value:function(r,n){var a=this.globalOptions,i=a.webglTexSize,s=a.createTextureCanvas,o=n.texRows,l=this._cacheScratchCanvas(s),u=new vP(this.r,i,o,l);this.collections.set(r,u)}},{key:"addRenderType",value:function(r,n){var a=n.collection;if(!this.collections.has(a))throw new Error("invalid atlas collection name '".concat(a,"'"));var i=this.collections.get(a),s=qe({type:r,atlasCollection:i},n);this.renderTypes.set(r,s)}},{key:"getRenderTypeOpts",value:function(r){return this.renderTypes.get(r)}},{key:"getAtlasCollection",value:function(r){return this.collections.get(r)}},{key:"_cacheScratchCanvas",value:function(r){var n=-1,a=-1,i=null;return function(s,o,l,u){return u?((!i||o!=n||l!=a)&&(n=o,a=l,i=r(s,o,l)),i):r(s,o,l)}}},{key:"_key",value:function(r,n){return"".concat(r,"-").concat(n)}},{key:"invalidate",value:function(r){var n=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=a.forceRedraw,s=i===void 0?!1:i,o=a.filterEle,l=o===void 0?function(){return!0}:o,u=a.filterType,c=u===void 0?function(){return!0}:u,f=!1,h=!1,d=wr(r),v;try{for(d.s();!(v=d.n()).done;){var g=v.value;if(l(g)){var p=wr(this.renderTypes.values()),m;try{var b=function(){var w=m.value,x=w.type;if(c(x)){var D=n.collections.get(w.collection),C=w.getKey(g),N=Array.isArray(C)?C:[C];if(s)N.forEach(function(S){return D.markKeyForGC(S)}),h=!0;else{var k=w.getID?w.getID(g):g.id(),O=n._key(x,k),F=n.typeAndIdToKey.get(O);F!==void 0&&!aP(N,F)&&(f=!0,n.typeAndIdToKey.delete(O),F.forEach(function(S){return D.markKeyForGC(S)}))}}};for(p.s();!(m=p.n()).done;)b()}catch(y){p.e(y)}finally{p.f()}}}}catch(y){d.e(y)}finally{d.f()}return h&&(this.gc(),f=!1),f}},{key:"gc",value:function(){var r=wr(this.collections.values()),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;a.gc()}}catch(i){r.e(i)}finally{r.f()}}},{key:"getOrCreateAtlas",value:function(r,n,a,i){var s=this.renderTypes.get(n),o=this.collections.get(s.collection),l=!1,u=o.draw(i,a,function(h){s.drawClipped?(h.save(),h.beginPath(),h.rect(0,0,a.w,a.h),h.clip(),s.drawElement(h,r,a,!0,!0),h.restore()):s.drawElement(h,r,a,!0,!0),l=!0});if(l){var c=s.getID?s.getID(r):r.id(),f=this._key(n,c);this.typeAndIdToKey.has(f)?this.typeAndIdToKey.get(f).push(i):this.typeAndIdToKey.set(f,[i])}return u}},{key:"getAtlasInfo",value:function(r,n){var a=this,i=this.renderTypes.get(n),s=i.getKey(r),o=Array.isArray(s)?s:[s];return o.map(function(l){var u=i.getBoundingBox(r,l),c=a.getOrCreateAtlas(r,n,u,l),f=c.getOffsets(l),h=Ft(f,2),d=h[0],v=h[1];return{atlas:c,tex:d,tex1:d,tex2:v,bb:u}})}},{key:"getDebugInfo",value:function(){var r=[],n=wr(this.collections),a;try{for(n.s();!(a=n.n()).done;){var i=Ft(a.value,2),s=i[0],o=i[1],l=o.getCounts(),u=l.keyCount,c=l.atlasCount;r.push({type:s,keyCount:u,atlasCount:c})}}catch(f){n.e(f)}finally{n.f()}return r}}])}(),mP=function(){function t(e){Qn(this,t),this.globalOptions=e,this.atlasSize=e.webglTexSize,this.maxAtlasesPerBatch=e.webglTexPerBatch,this.batchAtlases=[]}return Jn(t,[{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(r,n){return n})}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(r){return this.batchAtlases.length===this.maxAtlasesPerBatch?this.batchAtlases.includes(r):!0}},{key:"getAtlasIndexForBatch",value:function(r){var n=this.batchAtlases.indexOf(r);if(n<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error("cannot add more atlases to batch");this.batchAtlases.push(r),n=this.batchAtlases.length-1}return n}}])}(),yP=`
  float circleSD(vec2 p, float r) {
    return distance(vec2(0), p) - r; // signed distance
  }
`,bP=`
  float rectangleSD(vec2 p, vec2 b) {
    vec2 d = abs(p)-b;
    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);
  }
`,wP=`
  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {
    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;
    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;
    vec2 q = abs(p) - b + cr.x;
    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;
  }
`,EP=`
  float ellipseSD(vec2 p, vec2 ab) {
    p = abs( p ); // symmetry

    // find root with Newton solver
    vec2 q = ab*(p-ab);
    float w = (q.x<q.y)? 1.570796327 : 0.0;
    for( int i=0; i<5; i++ ) {
      vec2 cs = vec2(cos(w),sin(w));
      vec2 u = ab*vec2( cs.x,cs.y);
      vec2 v = ab*vec2(-cs.y,cs.x);
      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));
    }
    
    // compute final point and distance
    float d = length(p-ab*vec2(cos(w),sin(w)));
    
    // return signed distance
    return (dot(p/ab,p/ab)>1.0) ? d : -d;
  }
`,Xi={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},Wo={IGNORE:1,USE_BB:2},Sc=0,Jg=1,jg=2,Ac=3,_a=4,js=5,Ni=6,Oi=7,xP=function(){function t(e,r,n){Qn(this,t),this.r=e,this.gl=r,this.maxInstances=n.webglBatchSize,this.atlasSize=n.webglTexSize,this.bgColor=n.bgColor,this.debug=n.webglDebug,this.batchDebugInfo=[],n.enableWrapping=!0,n.createTextureCanvas=eP,this.atlasManager=new pP(e,n),this.batchManager=new mP(n),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(Xi.SCREEN),this.pickingProgram=this._createShaderProgram(Xi.PICKING),this.vao=this._createVAO()}return Jn(t,[{key:"addAtlasCollection",value:function(r,n){this.atlasManager.addAtlasCollection(r,n)}},{key:"addTextureAtlasRenderType",value:function(r,n){this.atlasManager.addRenderType(r,n)}},{key:"addSimpleShapeRenderType",value:function(r,n){this.simpleShapeOptions.set(r,n)}},{key:"invalidate",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.type,i=this.atlasManager;return a?i.invalidate(r,{filterType:function(o){return o===a},forceRedraw:!0}):i.invalidate(r)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"_createShaderProgram",value:function(r){var n=this.gl,a=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; // a vertex from the unit square
      
      in mat3 aTransform; // used to transform verticies, eg into a bounding box
      in int aVertType; // the type of thing we are rendering

      // the z-index that is output when using picking mode
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in vec2 aLineWidth; // also used for node border width

      // simple shapes
      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]
      in vec4 aColor; // also used for edges
      in vec4 aBorderColor; // aLineWidth is used for border width

      // output values passed to the fragment shader
      out vec2 vTexCoord;
      out vec4 vColor;
      out vec2 vPosition;
      // flat values are not interpolated
      flat out int vAtlasId; 
      flat out int vVertType;
      flat out vec2 vTopRight;
      flat out vec2 vBotLeft;
      flat out vec4 vCornerRadius;
      flat out vec4 vBorderColor;
      flat out vec2 vBorderWidth;
      flat out vec4 vIndex;
      
      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below

        if(aVertType == `.concat(Sc,`) {
          float texX = aTex.x; // texture coordinates
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(_a," || aVertType == ").concat(Oi,` 
             || aVertType == `).concat(js," || aVertType == ").concat(Ni,`) { // simple shapes

          // the bounding box is needed by the fragment shader
          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat
          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat
          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated

          // calculations are done in the fragment shader, just pass these along
          vColor = aColor;
          vCornerRadius = aCornerRadius;
          vBorderColor = aBorderColor;
          vBorderWidth = aLineWidth;

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(Jg,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          // stretch the unit square into a long skinny rectangle
          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(jg,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0, p1, p2, pos;
          if(position.x == 0.0) { // The left side of the unit square
            p0 = pointA;
            p1 = pointB;
            p2 = pointC;
            pos = position;
          } else { // The right side of the unit square, use same approach but flip the geometry upside down
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth[0];

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat(Ac,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2(  0.0,  0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vVertType = aVertType;
        vIndex = aIndex;
      }
    `),i=this.batchManager.getIndexArray(),s=`#version 300 es
      precision highp float;

      // declare texture unit for each texture atlas in the batch
      `.concat(i.map(function(u){return"uniform sampler2D uTexture".concat(u,";")}).join(`
	`),`

      uniform vec4 uBGColor;
      uniform float uZoom;

      in vec2 vTexCoord;
      in vec4 vColor;
      in vec2 vPosition; // model coordinates

      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;
      flat in vec2 vTopRight;
      flat in vec2 vBotLeft;
      flat in vec4 vCornerRadius;
      flat in vec4 vBorderColor;
      flat in vec2 vBorderWidth;

      out vec4 outColor;

      `).concat(yP,`
      `).concat(bP,`
      `).concat(wP,`
      `).concat(EP,`

      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha
        return vec4( 
          top.rgb + (bot.rgb * (1.0 - top.a)),
          top.a   + (bot.a   * (1.0 - top.a)) 
        );
      }

      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance
        // scale to the zoom level so that borders don't look blurry when zoomed in
        // note 1.5 is an aribitrary value chosen because it looks good
        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); 
      }

      void main(void) {
        if(vVertType == `).concat(Sc,`) {
          // look up the texel from the texture unit
          `).concat(i.map(function(u){return"if(vAtlasId == ".concat(u,") outColor = texture(uTexture").concat(u,", vTexCoord);")}).join(`
	else `),`
        } 
        else if(vVertType == `).concat(Ac,`) {
          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';
          outColor = blend(vColor, uBGColor);
          outColor.a = 1.0; // make opaque, masks out line under arrow
        }
        else if(vVertType == `).concat(_a,` && vBorderWidth == vec2(0.0)) { // simple rectangle with no border
          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done
        }
        else if(vVertType == `).concat(_a," || vVertType == ").concat(Oi,` 
          || vVertType == `).concat(js," || vVertType == ").concat(Ni,`) { // use SDF

          float outerBorder = vBorderWidth[0];
          float innerBorder = vBorderWidth[1];
          float borderPadding = outerBorder * 2.0;
          float w = vTopRight.x - vBotLeft.x - borderPadding;
          float h = vTopRight.y - vBotLeft.y - borderPadding;
          vec2 b = vec2(w/2.0, h/2.0); // half width, half height
          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center

          float d; // signed distance
          if(vVertType == `).concat(_a,`) {
            d = rectangleSD(p, b);
          } else if(vVertType == `).concat(Oi,` && w == h) {
            d = circleSD(p, b.x); // faster than ellipse
          } else if(vVertType == `).concat(Oi,`) {
            d = ellipseSD(p, b);
          } else {
            d = roundRectangleSD(p, b, vCornerRadius.wzyx);
          }

          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling
          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box
          if(d > 0.0) {
            if(d > outerBorder) {
              discard;
            } else {
              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);
            }
          } else {
            if(d > innerBorder) {
              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;
              vec4 innerBorderColor = blend(vBorderColor, vColor);
              outColor = distInterp(innerBorderColor, outerColor, d);
            } 
            else {
              vec4 outerColor;
              if(innerBorder == 0.0 && outerBorder == 0.0) {
                outerColor = vec4(0);
              } else if(innerBorder == 0.0) {
                outerColor = vBorderColor;
              } else {
                outerColor = blend(vBorderColor, vColor);
              }
              outColor = distInterp(vColor, outerColor, d - innerBorder);
            }
          }
        }
        else {
          outColor = vColor;
        }

        `).concat(r.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),o=j2(n,a,s);o.aPosition=n.getAttribLocation(o,"aPosition"),o.aIndex=n.getAttribLocation(o,"aIndex"),o.aVertType=n.getAttribLocation(o,"aVertType"),o.aTransform=n.getAttribLocation(o,"aTransform"),o.aAtlasId=n.getAttribLocation(o,"aAtlasId"),o.aTex=n.getAttribLocation(o,"aTex"),o.aPointAPointB=n.getAttribLocation(o,"aPointAPointB"),o.aPointCPointD=n.getAttribLocation(o,"aPointCPointD"),o.aLineWidth=n.getAttribLocation(o,"aLineWidth"),o.aColor=n.getAttribLocation(o,"aColor"),o.aCornerRadius=n.getAttribLocation(o,"aCornerRadius"),o.aBorderColor=n.getAttribLocation(o,"aBorderColor"),o.uPanZoomMatrix=n.getUniformLocation(o,"uPanZoomMatrix"),o.uAtlasSize=n.getUniformLocation(o,"uAtlasSize"),o.uBGColor=n.getUniformLocation(o,"uBGColor"),o.uZoom=n.getUniformLocation(o,"uZoom"),o.uTextures=[];for(var l=0;l<this.batchManager.getMaxAtlasesPerBatch();l++)o.uTextures.push(n.getUniformLocation(o,"uTexture".concat(l)));return o}},{key:"_createVAO",value:function(){var r=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=r.length/2;var n=this.maxInstances,a=this.gl,i=this.program,s=a.createVertexArray();return a.bindVertexArray(s),lP(a,"vec2",i.aPosition,r),this.transformBuffer=uP(a,n,i.aTransform),this.indexBuffer=Kr(a,n,"vec4",i.aIndex),this.vertTypeBuffer=Kr(a,n,"int",i.aVertType),this.atlasIdBuffer=Kr(a,n,"int",i.aAtlasId),this.texBuffer=Kr(a,n,"vec4",i.aTex),this.pointAPointBBuffer=Kr(a,n,"vec4",i.aPointAPointB),this.pointCPointDBuffer=Kr(a,n,"vec4",i.aPointCPointD),this.lineWidthBuffer=Kr(a,n,"vec2",i.aLineWidth),this.colorBuffer=Kr(a,n,"vec4",i.aColor),this.cornerRadiusBuffer=Kr(a,n,"vec4",i.aCornerRadius),this.borderColorBuffer=Kr(a,n,"vec4",i.aBorderColor),a.bindVertexArray(null),s}},{key:"buffers",get:function(){var r=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(n){return kn(n,"Buffer")}).map(function(n){return r[n]})),this._buffers}},{key:"startFrame",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xi.SCREEN;this.panZoomMatrix=r,this.renderTarget=n,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.batchManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"_isVisible",value:function(r,n){return r.visible()?n&&n.isVisible?n.isVisible(r):!0:!1}},{key:"drawTexture",value:function(r,n,a){var i=this.atlasManager,s=this.batchManager,o=i.getRenderTypeOpts(a);if(this._isVisible(r,o)&&!(r.isEdge()&&!this._isValidEdge(r))){if(this.renderTarget.picking&&o.getTexPickingMode){var l=o.getTexPickingMode(r);if(l===Wo.IGNORE)return;if(l==Wo.USE_BB){this.drawPickingRectangle(r,n,a);return}}var u=i.getAtlasInfo(r,a),c=wr(u),f;try{for(c.s();!(f=c.n()).done;){var h=f.value,d=h.atlas,v=h.tex1,g=h.tex2;s.canAddToCurrentBatch(d)||this.endBatch();for(var p=s.getAtlasIndexForBatch(d),m=0,b=[[v,!0],[g,!1]];m<b.length;m++){var y=Ft(b[m],2),w=y[0],x=y[1];if(w.w!=0){var D=this.instanceCount;this.vertTypeBuffer.getView(D)[0]=Sc;var C=this.indexBuffer.getView(D);Ba(n,C);var N=this.atlasIdBuffer.getView(D);N[0]=p;var k=this.texBuffer.getView(D);k[0]=w.x,k[1]=w.y,k[2]=w.w,k[3]=w.h;var O=this.transformBuffer.getMatrixView(D);this.setTransformMatrix(r,O,o,h,x),this.instanceCount++,x||this.wrappedCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}catch(F){c.e(F)}finally{c.f()}}}},{key:"setTransformMatrix",value:function(r,n,a,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=0;if(a.shapeProps&&a.shapeProps.padding&&(o=r.pstyle(a.shapeProps.padding).pfValue),i){var l=i.bb,u=i.tex1,c=i.tex2,f=u.w/(u.w+c.w);s||(f=1-f);var h=this._getAdjustedBB(l,o,s,f);this._applyTransformMatrix(n,h,a,r)}else{var d=a.getBoundingBox(r),v=this._getAdjustedBB(d,o,!0,1);this._applyTransformMatrix(n,v,a,r)}}},{key:"_applyTransformMatrix",value:function(r,n,a,i){var s,o;Zg(r);var l=a.getRotation?a.getRotation(i):0;if(l!==0){var u=a.getRotationPoint(i),c=u.x,f=u.y;bo(r,r,[c,f]),Qg(r,r,l);var h=a.getRotationOffset(i);s=h.x+(n.xOffset||0),o=h.y+(n.yOffset||0)}else s=n.x1,o=n.y1;bo(r,r,[s,o]),pf(r,r,[n.w,n.h])}},{key:"_getAdjustedBB",value:function(r,n,a,i){var s=r.x1,o=r.y1,l=r.w,u=r.h,c=r.yOffset;n&&(s-=n,o-=n,l+=2*n,u+=2*n);var f=0,h=l*i;return a&&i<1?l=h:!a&&i<1&&(f=l-h,s+=f,l=h),{x1:s,y1:o,w:l,h:u,xOffset:f,yOffset:c}}},{key:"drawPickingRectangle",value:function(r,n,a){var i=this.atlasManager.getRenderTypeOpts(a),s=this.instanceCount;this.vertTypeBuffer.getView(s)[0]=_a;var o=this.indexBuffer.getView(s);Ba(n,o);var l=this.colorBuffer.getView(s);ua([0,0,0],1,l);var u=this.transformBuffer.getMatrixView(s);this.setTransformMatrix(r,u,i),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},{key:"drawNode",value:function(r,n,a){var i=this.simpleShapeOptions.get(a);if(this._isVisible(r,i)){var s=i.shapeProps,o=this._getVertTypeForShape(r,s.shape);if(o===void 0||i.isSimple&&!i.isSimple(r)){this.drawTexture(r,n,a);return}var l=this.instanceCount;if(this.vertTypeBuffer.getView(l)[0]=o,o===js||o===Ni){var u=i.getBoundingBox(r),c=this._getCornerRadius(r,s.radius,u),f=this.cornerRadiusBuffer.getView(l);f[0]=c,f[1]=c,f[2]=c,f[3]=c,o===Ni&&(f[0]=0,f[2]=0)}var h=this.indexBuffer.getView(l);Ba(n,h);var d=r.pstyle(s.color).value,v=r.pstyle(s.opacity).value,g=this.colorBuffer.getView(l);ua(d,v,g);var p=this.lineWidthBuffer.getView(l);if(p[0]=0,p[1]=0,s.border){var m=r.pstyle("border-width").value;if(m>0){var b=r.pstyle("border-color").value,y=r.pstyle("border-opacity").value,w=this.borderColorBuffer.getView(l);ua(b,y,w);var x=r.pstyle("border-position").value;if(x==="inside")p[0]=0,p[1]=-m;else if(x==="outside")p[0]=m,p[1]=0;else{var D=m/2;p[0]=D,p[1]=-D}}}var C=this.transformBuffer.getMatrixView(l);this.setTransformMatrix(r,C,i),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"_getVertTypeForShape",value:function(r,n){var a=r.pstyle(n).value;switch(a){case"rectangle":return _a;case"ellipse":return Oi;case"roundrectangle":case"round-rectangle":return js;case"bottom-round-rectangle":return Ni;default:return}}},{key:"_getCornerRadius",value:function(r,n,a){var i=a.w,s=a.h;if(r.pstyle(n).value==="auto")return Wn(i,s);var o=r.pstyle(n).pfValue,l=i/2,u=s/2;return Math.min(o,u,l)}},{key:"drawEdgeArrow",value:function(r,n,a){if(r.visible()){var i=r._private.rscratch,s,o,l;if(a==="source"?(s=i.arrowStartX,o=i.arrowStartY,l=i.srcArrowAngle):(s=i.arrowEndX,o=i.arrowEndY,l=i.tgtArrowAngle),!(isNaN(s)||s==null||isNaN(o)||o==null||isNaN(l)||l==null)){var u=r.pstyle(a+"-arrow-shape").value;if(u!=="none"){var c=r.pstyle(a+"-arrow-color").value,f=r.pstyle("opacity").value,h=r.pstyle("line-opacity").value,d=f*h,v=r.pstyle("width").pfValue,g=r.pstyle("arrow-scale").value,p=this.r.getArrowWidth(v,g),m=this.instanceCount,b=this.transformBuffer.getMatrixView(m);Zg(b),bo(b,b,[s,o]),pf(b,b,[p,p]),Qg(b,b,l),this.vertTypeBuffer.getView(m)[0]=Ac;var y=this.indexBuffer.getView(m);Ba(n,y);var w=this.colorBuffer.getView(m);ua(c,d,w),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"drawEdgeLine",value:function(r,n){if(r.visible()){var a=this._getEdgePoints(r);if(a){var i=r.pstyle("opacity").value,s=r.pstyle("line-opacity").value,o=r.pstyle("width").pfValue,l=r.pstyle("line-color").value,u=i*s;if(a.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),a.length==4){var c=this.instanceCount;this.vertTypeBuffer.getView(c)[0]=Jg;var f=this.indexBuffer.getView(c);Ba(n,f);var h=this.colorBuffer.getView(c);ua(l,u,h);var d=this.lineWidthBuffer.getView(c);d[0]=o;var v=this.pointAPointBBuffer.getView(c);v[0]=a[0],v[1]=a[1],v[2]=a[2],v[3]=a[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var g=0;g<a.length-2;g+=2){var p=this.instanceCount;this.vertTypeBuffer.getView(p)[0]=jg;var m=this.indexBuffer.getView(p);Ba(n,m);var b=this.colorBuffer.getView(p);ua(l,u,b);var y=this.lineWidthBuffer.getView(p);y[0]=o;var w=a[g-2],x=a[g-1],D=a[g],C=a[g+1],N=a[g+2],k=a[g+3],O=a[g+4],F=a[g+5];g==0&&(w=2*D-N+.001,x=2*C-k+.001),g==a.length-4&&(O=2*N-D+.001,F=2*k-C+.001);var S=this.pointAPointBBuffer.getView(p);S[0]=w,S[1]=x,S[2]=D,S[3]=C;var P=this.pointCPointDBuffer.getView(p);P[0]=N,P[1]=k,P[2]=O,P[3]=F,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"_isValidEdge",value:function(r){var n=r._private.rscratch;return!(n.badLine||n.allpts==null||isNaN(n.allpts[0]))}},{key:"_getEdgePoints",value:function(r){var n=r._private.rscratch;if(this._isValidEdge(r)){var a=n.allpts;if(a.length==4)return a;var i=this._getNumSegments(r);return this._getCurveSegmentPoints(a,i)}}},{key:"_getNumSegments",value:function(r){var n=15;return Math.min(Math.max(n,5),this.maxInstances)}},{key:"_getCurveSegmentPoints",value:function(r,n){if(r.length==4)return r;for(var a=Array((n+1)*2),i=0;i<=n;i++)if(i==0)a[0]=r[0],a[1]=r[1];else if(i==n)a[i*2]=r[r.length-2],a[i*2+1]=r[r.length-1];else{var s=i/n;this._setCurvePoint(r,s,a,i*2)}return a}},{key:"_setCurvePoint",value:function(r,n,a,i){if(r.length<=2)a[i]=r[0],a[i+1]=r[1];else{for(var s=Array(r.length-2),o=0;o<s.length;o+=2){var l=(1-n)*r[o]+n*r[o+2],u=(1-n)*r[o+1]+n*r[o+3];s[o]=l,s[o+1]=u}return this._setCurvePoint(s,n,a,i)}}},{key:"endBatch",value:function(){var r=this.gl,n=this.vao,a=this.vertexCount,i=this.instanceCount;if(i!==0){var s=this.renderTarget.picking?this.pickingProgram:this.program;r.useProgram(s),r.bindVertexArray(n);var o=wr(this.buffers),l;try{for(o.s();!(l=o.n()).done;){var u=l.value;u.bufferSubData(i)}}catch(v){o.e(v)}finally{o.f()}for(var c=this.batchManager.getAtlases(),f=0;f<c.length;f++)c[f].bufferIfNeeded(r);for(var h=0;h<c.length;h++)r.activeTexture(r.TEXTURE0+h),r.bindTexture(r.TEXTURE_2D,c[h].texture),r.uniform1i(s.uTextures[h],h);r.uniform1f(s.uZoom,tP(this.r)),r.uniformMatrix3fv(s.uPanZoomMatrix,!1,this.panZoomMatrix),r.uniform1i(s.uAtlasSize,this.batchManager.getAtlasSize());var d=ua(this.bgColor,1);r.uniform4fv(s.uBGColor,d),r.drawArraysInstanced(r.TRIANGLES,0,a,i),r.bindVertexArray(null),r.bindTexture(r.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:i,atlasCount:c.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var r=this.atlasManager.getDebugInfo(),n=r.reduce(function(s,o){return s+o.atlasCount},0),a=this.batchDebugInfo,i=a.reduce(function(s,o){return s+o.count},0);return{atlasInfo:r,totalAtlases:n,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:a.length,batchInfo:a,totalInstances:i}}}])}(),k0={};k0.initWebgl=function(t,e){var r=this,n=r.data.contexts[r.WEBGL];t.bgColor=CP(r),t.webglTexSize=Math.min(t.webglTexSize,n.getParameter(n.MAX_TEXTURE_SIZE)),t.webglTexRows=Math.min(t.webglTexRows,54),t.webglTexRowsNodes=Math.min(t.webglTexRowsNodes,54),t.webglBatchSize=Math.min(t.webglBatchSize,16384),t.webglTexPerBatch=Math.min(t.webglTexPerBatch,n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),r.webglDebug=t.webglDebug,r.webglDebugShowAtlases=t.webglDebugShowAtlases,r.pickingFrameBuffer=cP(n),r.pickingFrameBuffer.needsDraw=!0,r.drawing=new xP(r,n,t);var a=function(f){return function(h){return r.getTextAngle(h,f)}},i=function(f){return function(h){var d=h.pstyle(f);return d&&d.value}},s=function(f){return function(h){return h.pstyle("".concat(f,"-opacity")).value>0}},o=function(f){var h=f.pstyle("text-events").strValue==="yes";return h?Wo.USE_BB:Wo.IGNORE},l=function(f){var h=f.position(),d=h.x,v=h.y,g=f.outerWidth(),p=f.outerHeight();return{w:g,h:p,x1:d-g/2,y1:v-p/2}};r.drawing.addAtlasCollection("node",{texRows:t.webglTexRowsNodes}),r.drawing.addAtlasCollection("label",{texRows:t.webglTexRows}),r.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:e.getStyleKey,getBoundingBox:e.getElementBox,drawElement:e.drawElement}),r.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:l,isSimple:nP,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),r.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:l,isVisible:s("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),r.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:l,isVisible:s("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),r.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:o,getKey:Dc(e.getLabelKey,null),getBoundingBox:Rc(e.getLabelBox,null),drawClipped:!0,drawElement:e.drawLabel,getRotation:a(null),getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:i("label")}),r.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:o,getKey:Dc(e.getSourceLabelKey,"source"),getBoundingBox:Rc(e.getSourceLabelBox,"source"),drawClipped:!0,drawElement:e.drawSourceLabel,getRotation:a("source"),getRotationPoint:e.getSourceLabelRotationPoint,getRotationOffset:e.getSourceLabelRotationOffset,isVisible:i("source-label")}),r.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:o,getKey:Dc(e.getTargetLabelKey,"target"),getBoundingBox:Rc(e.getTargetLabelBox,"target"),drawClipped:!0,drawElement:e.drawTargetLabel,getRotation:a("target"),getRotationPoint:e.getTargetLabelRotationPoint,getRotationOffset:e.getTargetLabelRotationOffset,isVisible:i("target-label")});var u=Ds(function(){console.log("garbage collect flag set"),r.data.gc=!0},1e4);r.onUpdateEleCalcs(function(c,f){var h=!1;f&&f.length>0&&(h|=r.drawing.invalidate(f)),h&&u()}),TP(r)};function CP(t){var e=t.cy.container(),r=e&&e.style&&e.style.backgroundColor||"white";return ly(r)}function I0(t,e){var r=t._private.rscratch;return mr(r,"labelWrapCachedLines",e)||[]}var Dc=function(e,r){return function(n){var a=e(n),i=I0(n,r);return i.length>1?i.map(function(s,o){return"".concat(a,"_").concat(o)}):a}},Rc=function(e,r){return function(n,a){var i=e(n);if(typeof a=="string"){var s=a.indexOf("_");if(s>0){var o=Number(a.substring(s+1)),l=I0(n,r),u=i.h/l.length,c=u*o,f=i.y1+c;return{x1:i.x1,w:i.w,y1:f,h:u,yOffset:c}}}return i}};function TP(t){{var e=t.render;t.render=function(i){i=i||{};var s=t.cy;t.webgl&&(s.zoom()>D0?(SP(t),e.call(t,i)):(AP(t),B0(t,i,Xi.SCREEN)))}}{var r=t.matchCanvasSize;t.matchCanvasSize=function(i){r.call(t,i),t.pickingFrameBuffer.setFramebufferAttachmentSizes(t.canvasWidth,t.canvasHeight),t.pickingFrameBuffer.needsDraw=!0}}t.findNearestElements=function(i,s,o,l){return NP(t,i,s)};{var n=t.invalidateCachedZSortedEles;t.invalidateCachedZSortedEles=function(){n.call(t),t.pickingFrameBuffer.needsDraw=!0}}{var a=t.notify;t.notify=function(i,s){a.call(t,i,s),i==="viewport"||i==="bounds"?t.pickingFrameBuffer.needsDraw=!0:i==="background"&&t.drawing.invalidate(s,{type:"node-body"})}}}function SP(t){var e=t.data.contexts[t.WEBGL];e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}function AP(t){var e=function(n){n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.canvasWidth,t.canvasHeight),n.restore()};e(t.data.contexts[t.NODE]),e(t.data.contexts[t.DRAG])}function DP(t){var e=t.canvasWidth,r=t.canvasHeight,n=fd(t),a=n.pan,i=n.zoom,s=Tc();bo(s,s,[a.x,a.y]),pf(s,s,[i,i]);var o=Tc();dP(o,e,r);var l=Tc();return fP(l,o,s),l}function F0(t,e){var r=t.canvasWidth,n=t.canvasHeight,a=fd(t),i=a.pan,s=a.zoom;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,r,n),e.translate(i.x,i.y),e.scale(s,s)}function RP(t,e){t.drawSelectionRectangle(e,function(r){return F0(t,r)})}function LP(t){var e=t.data.contexts[t.NODE];e.save(),F0(t,e),e.strokeStyle="rgba(0, 0, 0, 0.3)",e.beginPath(),e.moveTo(-1e3,0),e.lineTo(1e3,0),e.stroke(),e.beginPath(),e.moveTo(0,-1e3),e.lineTo(0,1e3),e.stroke(),e.restore()}function MP(t){var e=function(a,i,s){for(var o=a.atlasManager.getAtlasCollection(i),l=t.data.contexts[t.NODE],u=o.atlases,c=0;c<u.length;c++){var f=u[c],h=f.canvas;if(h){var d=h.width,v=h.height,g=d*c,p=h.height*s,m=.4;l.save(),l.scale(m,m),l.drawImage(h,g,p),l.strokeStyle="black",l.rect(g,p,d,v),l.stroke(),l.restore()}}},r=0;e(t.drawing,"node",r++),e(t.drawing,"label",r++)}function PP(t,e,r,n,a){var i,s,o,l,u=fd(t),c=u.pan,f=u.zoom;{var h=rP(t,c,f,e,r),d=Ft(h,2),v=d[0],g=d[1],p=6;i=v-p/2,s=g-p/2,o=p,l=p}if(o===0||l===0)return[];var m=t.data.contexts[t.WEBGL];m.bindFramebuffer(m.FRAMEBUFFER,t.pickingFrameBuffer),t.pickingFrameBuffer.needsDraw&&(m.viewport(0,0,m.canvas.width,m.canvas.height),B0(t,null,Xi.PICKING),t.pickingFrameBuffer.needsDraw=!1);var b=o*l,y=new Uint8Array(b*4);m.readPixels(i,s,o,l,m.RGBA,m.UNSIGNED_BYTE,y),m.bindFramebuffer(m.FRAMEBUFFER,null);for(var w=new Set,x=0;x<b;x++){var D=y.slice(x*4,x*4+4),C=iP(D)-1;C>=0&&w.add(C)}return w}function NP(t,e,r){var n=PP(t,e,r),a=t.getCachedZSortedEles(),i,s,o=wr(n),l;try{for(o.s();!(l=o.n()).done;){var u=l.value,c=a[u];if(!i&&c.isNode()&&(i=c),!s&&c.isEdge()&&(s=c),i&&s)break}}catch(f){o.e(f)}finally{o.f()}return[i,s].filter(Boolean)}function Lc(t,e,r){var n=t.drawing;e+=1,r.isNode()?(n.drawNode(r,e,"node-underlay"),n.drawNode(r,e,"node-body"),n.drawTexture(r,e,"label"),n.drawNode(r,e,"node-overlay")):(n.drawEdgeLine(r,e),n.drawEdgeArrow(r,e,"source"),n.drawEdgeArrow(r,e,"target"),n.drawTexture(r,e,"label"),n.drawTexture(r,e,"edge-source-label"),n.drawTexture(r,e,"edge-target-label"))}function B0(t,e,r){var n;t.webglDebug&&(n=performance.now());var a=t.drawing,i=0;if(r.screen&&t.data.canvasNeedsRedraw[t.SELECT_BOX]&&RP(t,e),t.data.canvasNeedsRedraw[t.NODE]||r.picking){var s=t.data.contexts[t.WEBGL];r.screen?(s.clearColor(0,0,0,0),s.enable(s.BLEND),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA)):s.disable(s.BLEND),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT),s.viewport(0,0,s.canvas.width,s.canvas.height);var o=DP(t),l=t.getCachedZSortedEles();if(i=l.length,a.startFrame(o,r),r.screen){for(var u=0;u<l.nondrag.length;u++)Lc(t,u,l.nondrag[u]);for(var c=0;c<l.drag.length;c++)Lc(t,c,l.drag[c])}else if(r.picking)for(var f=0;f<l.length;f++)Lc(t,f,l[f]);a.endFrame(),r.screen&&t.webglDebugShowAtlases&&(LP(t),MP(t)),t.data.canvasNeedsRedraw[t.NODE]=!1,t.data.canvasNeedsRedraw[t.DRAG]=!1}if(t.webglDebug){var h=performance.now(),d=!1,v=Math.ceil(h-n),g=a.getDebugInfo(),p=["".concat(i," elements"),"".concat(g.totalInstances," instances"),"".concat(g.batchCount," batches"),"".concat(g.totalAtlases," atlases"),"".concat(g.wrappedCount," wrapped textures"),"".concat(g.simpleCount," simple shapes")].join(", ");if(d)console.log("WebGL (".concat(r.name,") - time ").concat(v,"ms, ").concat(p));else{console.log("WebGL (".concat(r.name,") - frame time ").concat(v,"ms")),console.log("Totals:"),console.log("  ".concat(p)),console.log("Texture Atlases Used:");var m=g.atlasInfo,b=wr(m),y;try{for(b.s();!(y=b.n()).done;){var w=y.value;console.log("  ".concat(w.type,": ").concat(w.keyCount," keys, ").concat(w.atlasCount," atlases"))}}catch(x){b.e(x)}finally{b.f()}console.log("")}}t.data.gc&&(console.log("Garbage Collect!"),t.data.gc=!1,a.gc())}var ta={};ta.drawPolygonPath=function(t,e,r,n,a,i){var s=n/2,o=a/2;t.beginPath&&t.beginPath(),t.moveTo(e+s*i[0],r+o*i[1]);for(var l=1;l<i.length/2;l++)t.lineTo(e+s*i[l*2],r+o*i[l*2+1]);t.closePath()};ta.drawRoundPolygonPath=function(t,e,r,n,a,i,s){s.forEach(function(o){return y0(t,o)}),t.closePath()};ta.drawRoundRectanglePath=function(t,e,r,n,a,i){var s=n/2,o=a/2,l=i==="auto"?Wn(n,a):Math.min(i,o,s);t.beginPath&&t.beginPath(),t.moveTo(e,r-o),t.arcTo(e+s,r-o,e+s,r,l),t.arcTo(e+s,r+o,e,r+o,l),t.arcTo(e-s,r+o,e-s,r,l),t.arcTo(e-s,r-o,e,r-o,l),t.lineTo(e,r-o),t.closePath()};ta.drawBottomRoundRectanglePath=function(t,e,r,n,a,i){var s=n/2,o=a/2,l=i==="auto"?Wn(n,a):i;t.beginPath&&t.beginPath(),t.moveTo(e,r-o),t.lineTo(e+s,r-o),t.lineTo(e+s,r),t.arcTo(e+s,r+o,e,r+o,l),t.arcTo(e-s,r+o,e-s,r,l),t.lineTo(e-s,r-o),t.lineTo(e,r-o),t.closePath()};ta.drawCutRectanglePath=function(t,e,r,n,a,i,s){var o=n/2,l=a/2,u=s==="auto"?Qf():s;t.beginPath&&t.beginPath(),t.moveTo(e-o+u,r-l),t.lineTo(e+o-u,r-l),t.lineTo(e+o,r-l+u),t.lineTo(e+o,r+l-u),t.lineTo(e+o-u,r+l),t.lineTo(e-o+u,r+l),t.lineTo(e-o,r+l-u),t.lineTo(e-o,r-l+u),t.closePath()};ta.drawBarrelPath=function(t,e,r,n,a){var i=n/2,s=a/2,o=e-i,l=e+i,u=r-s,c=r+s,f=tf(n,a),h=f.widthOffset,d=f.heightOffset,v=f.ctrlPtOffsetPct*h;t.beginPath&&t.beginPath(),t.moveTo(o,u+d),t.lineTo(o,c-d),t.quadraticCurveTo(o+v,c,o+h,c),t.lineTo(l-h,c),t.quadraticCurveTo(l-v,c,l,c-d),t.lineTo(l,u+d),t.quadraticCurveTo(l-v,u,l-h,u),t.lineTo(o+h,u),t.quadraticCurveTo(o+v,u,o,u+d),t.closePath()};var ep=Math.sin(0),tp=Math.cos(0),mf={},yf={},_0=Math.PI/40;for(var za=0*Math.PI;za<2*Math.PI;za+=_0)mf[za]=Math.sin(za),yf[za]=Math.cos(za);ta.drawEllipsePath=function(t,e,r,n,a){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,n/2,a/2,0,0,2*Math.PI);else for(var i,s,o=n/2,l=a/2,u=0*Math.PI;u<2*Math.PI;u+=_0)i=e-o*mf[u]*ep+o*yf[u]*tp,s=r+l*yf[u]*ep+l*mf[u]*tp,u===0?t.moveTo(i,s):t.lineTo(i,s);t.closePath()};var Os={};Os.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]};Os.bufferCanvasImage=function(t){var e=this.cy,r=e.mutableElements(),n=r.boundingBox(),a=this.findContainerClientCoords(),i=t.full?Math.ceil(n.w):a[2],s=t.full?Math.ceil(n.h):a[3],o=Ne(t.maxWidth)||Ne(t.maxHeight),l=this.getPixelRatio(),u=1;if(t.scale!==void 0)i*=t.scale,s*=t.scale,u=t.scale;else if(o){var c=1/0,f=1/0;Ne(t.maxWidth)&&(c=u*t.maxWidth/i),Ne(t.maxHeight)&&(f=u*t.maxHeight/s),u=Math.min(c,f),i*=u,s*=u}o||(i*=l,s*=l,u*=l);var h=document.createElement("canvas");h.width=i,h.height=s,h.style.width=i+"px",h.style.height=s+"px";var d=h.getContext("2d");if(i>0&&s>0){d.clearRect(0,0,i,s),d.globalCompositeOperation="source-over";var v=this.getCachedZSortedEles();if(t.full)d.translate(-n.x1*u,-n.y1*u),d.scale(u,u),this.drawElements(d,v),d.scale(1/u,1/u),d.translate(n.x1*u,n.y1*u);else{var g=e.pan(),p={x:g.x*u,y:g.y*u};u*=e.zoom(),d.translate(p.x,p.y),d.scale(u,u),this.drawElements(d,v),d.scale(1/u,1/u),d.translate(-p.x,-p.y)}t.bg&&(d.globalCompositeOperation="destination-over",d.fillStyle=t.bg,d.rect(0,0,i,s),d.fill())}return h};function OP(t,e){for(var r=atob(t),n=new ArrayBuffer(r.length),a=new Uint8Array(n),i=0;i<r.length;i++)a[i]=r.charCodeAt(i);return new Blob([n],{type:e})}function rp(t){var e=t.indexOf(",");return t.substr(e+1)}function z0(t,e,r){var n=function(){return e.toDataURL(r,t.quality)};switch(t.output){case"blob-promise":return new hi(function(a,i){try{e.toBlob(function(s){s!=null?a(s):i(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,t.quality)}catch(s){i(s)}});case"blob":return OP(rp(n()),r);case"base64":return rp(n());case"base64uri":default:return n()}}Os.png=function(t){return z0(t,this.bufferCanvasImage(t),"image/png")};Os.jpg=function(t){return z0(t,this.bufferCanvasImage(t),"image/jpeg")};var U0={};U0.nodeShapeImpl=function(t,e,r,n,a,i,s,o){switch(t){case"ellipse":return this.drawEllipsePath(e,r,n,a,i);case"polygon":return this.drawPolygonPath(e,r,n,a,i,s);case"round-polygon":return this.drawRoundPolygonPath(e,r,n,a,i,s,o);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,n,a,i,o);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,n,a,i,s,o);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,n,a,i,o);case"barrel":return this.drawBarrelPath(e,r,n,a,i)}};var kP=V0,Ze=V0.prototype;Ze.CANVAS_LAYERS=3;Ze.SELECT_BOX=0;Ze.DRAG=1;Ze.NODE=2;Ze.WEBGL=3;Ze.CANVAS_TYPES=["2d","2d","2d","webgl2"];Ze.BUFFER_COUNT=3;Ze.TEXTURE_BUFFER=0;Ze.MOTIONBLUR_BUFFER_NODE=1;Ze.MOTIONBLUR_BUFFER_DRAG=2;function V0(t){var e=this,r=e.cy.window(),n=r.document;t.webgl&&(Ze.CANVAS_LAYERS=e.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),e.data={canvases:new Array(Ze.CANVAS_LAYERS),contexts:new Array(Ze.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Ze.CANVAS_LAYERS),bufferCanvases:new Array(Ze.BUFFER_COUNT),bufferContexts:new Array(Ze.CANVAS_LAYERS)};var a="-webkit-tap-highlight-color",i="rgba(0,0,0,0)";e.data.canvasContainer=n.createElement("div");var s=e.data.canvasContainer.style;e.data.canvasContainer.style[a]=i,s.position="relative",s.zIndex="0",s.overflow="hidden";var o=t.cy.container();o.appendChild(e.data.canvasContainer),o.style[a]=i;var l={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};RA()&&(l["-ms-touch-action"]="none",l["touch-action"]="none");for(var u=0;u<Ze.CANVAS_LAYERS;u++){var c=e.data.canvases[u]=n.createElement("canvas"),f=Ze.CANVAS_TYPES[u];e.data.contexts[u]=c.getContext(f),e.data.contexts[u]||xt("Could not create canvas of type "+f),Object.keys(l).forEach(function(U){c.style[U]=l[U]}),c.style.position="absolute",c.setAttribute("data-id","layer"+u),c.style.zIndex=String(Ze.CANVAS_LAYERS-u),e.data.canvasContainer.appendChild(c),e.data.canvasNeedsRedraw[u]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[Ze.NODE].setAttribute("data-id","layer"+Ze.NODE+"-node"),e.data.canvases[Ze.SELECT_BOX].setAttribute("data-id","layer"+Ze.SELECT_BOX+"-selectbox"),e.data.canvases[Ze.DRAG].setAttribute("data-id","layer"+Ze.DRAG+"-drag"),e.data.canvases[Ze.WEBGL]&&e.data.canvases[Ze.WEBGL].setAttribute("data-id","layer"+Ze.WEBGL+"-webgl");for(var u=0;u<Ze.BUFFER_COUNT;u++)e.data.bufferCanvases[u]=n.createElement("canvas"),e.data.bufferContexts[u]=e.data.bufferCanvases[u].getContext("2d"),e.data.bufferCanvases[u].style.position="absolute",e.data.bufferCanvases[u].setAttribute("data-id","buffer"+u),e.data.bufferCanvases[u].style.zIndex=String(-u-1),e.data.bufferCanvases[u].style.visibility="hidden";e.pathsEnabled=!0;var h=dr(),d=function(V){return{x:(V.x1+V.x2)/2,y:(V.y1+V.y2)/2}},v=function(V){return{x:-V.w/2,y:-V.h/2}},g=function(V){var X=V[0]._private,M=X.oldBackgroundTimestamp===X.backgroundTimestamp;return!M},p=function(V){return V[0]._private.nodeKey},m=function(V){return V[0]._private.labelStyleKey},b=function(V){return V[0]._private.sourceLabelStyleKey},y=function(V){return V[0]._private.targetLabelStyleKey},w=function(V,X,M,B,z){return e.drawElement(V,X,M,!1,!1,z)},x=function(V,X,M,B,z){return e.drawElementText(V,X,M,B,"main",z)},D=function(V,X,M,B,z){return e.drawElementText(V,X,M,B,"source",z)},C=function(V,X,M,B,z){return e.drawElementText(V,X,M,B,"target",z)},N=function(V){return V.boundingBox(),V[0]._private.bodyBounds},k=function(V){return V.boundingBox(),V[0]._private.labelBounds.main||h},O=function(V){return V.boundingBox(),V[0]._private.labelBounds.source||h},F=function(V){return V.boundingBox(),V[0]._private.labelBounds.target||h},S=function(V,X){return X},P=function(V){return d(N(V))},E=function(V,X,M){var B=V?V+"-":"";return{x:X.x+M.pstyle(B+"text-margin-x").pfValue,y:X.y+M.pstyle(B+"text-margin-y").pfValue}},L=function(V,X,M){var B=V[0]._private.rscratch;return{x:B[X],y:B[M]}},A=function(V){return E("",L(V,"labelX","labelY"),V)},T=function(V){return E("source",L(V,"sourceLabelX","sourceLabelY"),V)},R=function(V){return E("target",L(V,"targetLabelX","targetLabelY"),V)},W=function(V){return v(N(V))},q=function(V){return v(O(V))},G=function(V){return v(F(V))},$=function(V){var X=k(V),M=v(k(V));if(V.isNode()){switch(V.pstyle("text-halign").value){case"left":M.x=-X.w-(X.leftPad||0);break;case"right":M.x=-(X.rightPad||0);break}switch(V.pstyle("text-valign").value){case"top":M.y=-X.h-(X.topPad||0);break;case"bottom":M.y=-(X.botPad||0);break}}return M},Q=e.data.eleTxrCache=new Bi(e,{getKey:p,doesEleInvalidateKey:g,drawElement:w,getBoundingBox:N,getRotationPoint:P,getRotationOffset:W,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),oe=e.data.lblTxrCache=new Bi(e,{getKey:m,drawElement:x,getBoundingBox:k,getRotationPoint:A,getRotationOffset:$,isVisible:S}),ie=e.data.slbTxrCache=new Bi(e,{getKey:b,drawElement:D,getBoundingBox:O,getRotationPoint:T,getRotationOffset:q,isVisible:S}),ae=e.data.tlbTxrCache=new Bi(e,{getKey:y,drawElement:C,getBoundingBox:F,getRotationPoint:R,getRotationOffset:G,isVisible:S}),Y=e.data.lyrTxrCache=new R0(e);e.onUpdateEleCalcs(function(V,X){Q.invalidateElements(X),oe.invalidateElements(X),ie.invalidateElements(X),ae.invalidateElements(X),Y.invalidateElements(X);for(var M=0;M<X.length;M++){var B=X[M]._private;B.oldBackgroundTimestamp=B.backgroundTimestamp}});var re=function(V){for(var X=0;X<V.length;X++)Y.enqueueElementRefinement(V[X].ele)};Q.onDequeue(re),oe.onDequeue(re),ie.onDequeue(re),ae.onDequeue(re),t.webgl&&e.initWebgl(t,{getStyleKey:p,getLabelKey:m,getSourceLabelKey:b,getTargetLabelKey:y,drawElement:w,drawLabel:x,drawSourceLabel:D,drawTargetLabel:C,getElementBox:N,getLabelBox:k,getSourceLabelBox:O,getTargetLabelBox:F,getElementRotationPoint:P,getElementRotationOffset:W,getLabelRotationPoint:A,getSourceLabelRotationPoint:T,getTargetLabelRotationPoint:R,getLabelRotationOffset:$,getSourceLabelRotationOffset:q,getTargetLabelRotationOffset:G})}Ze.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[Ze.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[Ze.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[Ze.SELECT_BOX]=e;break;case"gc":r.data.gc=!0;break}};var IP=typeof Path2D<"u";Ze.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};Ze.usePaths=function(){return IP&&this.pathsEnabled};Ze.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};Ze.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};Ze.makeOffscreenCanvas=function(t,e){var r;if((typeof OffscreenCanvas>"u"?"undefined":Vt(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(t,e);else{var n=this.cy.window(),a=n.document;r=a.createElement("canvas"),r.width=t,r.height=e}return r};[L0,nn,xn,cd,Ma,ea,vr,k0,ta,Os,U0].forEach(function(t){qe(Ze,t)});var FP=[{name:"null",impl:g0},{name:"base",impl:S0},{name:"canvas",impl:kP}],BP=[{type:"layout",extensions:l2},{type:"renderer",extensions:FP}],H0={},G0={};function q0(t,e,r){var n=r,a=function(N){dt("Can not register `"+e+"` for `"+t+"` since `"+N+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(vs.prototype[e])return a(e);vs.prototype[e]=r}else if(t==="collection"){if(Qt.prototype[e])return a(e);Qt.prototype[e]=r}else if(t==="layout"){for(var i=function(N){this.options=N,r.call(this,N),tt(this._private)||(this._private={}),this._private.cy=N.cy,this._private.listeners=[],this.createEmitter()},s=i.prototype=Object.create(r.prototype),o=[],l=0;l<o.length;l++){var u=o[l];s[u]=s[u]||function(){return this}}s.start&&!s.run?s.run=function(){return this.start(),this}:!s.start&&s.run&&(s.start=function(){return this.run(),this});var c=r.prototype.stop;s.stop=function(){var C=this.options;if(C&&C.animate){var N=this.animations;if(N)for(var k=0;k<N.length;k++)N[k].stop()}return c?c.call(this):this.emit("layoutstop"),this},s.destroy||(s.destroy=function(){return this}),s.cy=function(){return this._private.cy};var f=function(N){return N._private.cy},h={addEventFields:function(N,k){k.layout=N,k.cy=f(N),k.target=N},bubble:function(){return!0},parent:function(N){return f(N)}};qe(s,{createEmitter:function(){return this._private.emitter=new Dl(h,this),this},emitter:function(){return this._private.emitter},on:function(N,k){return this.emitter().on(N,k),this},one:function(N,k){return this.emitter().one(N,k),this},once:function(N,k){return this.emitter().one(N,k),this},removeListener:function(N,k){return this.emitter().removeListener(N,k),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(N,k){return this.emitter().emit(N,k),this}}),ct.eventAliasesOn(s),n=i}else if(t==="renderer"&&e!=="null"&&e!=="base"){var d=W0("renderer","base"),v=d.prototype,g=r,p=r.prototype,m=function(){d.apply(this,arguments),g.apply(this,arguments)},b=m.prototype;for(var y in v){var w=v[y],x=p[y]!=null;if(x)return a(y);b[y]=w}for(var D in p)b[D]=p[D];v.clientFunctions.forEach(function(C){b[C]=b[C]||function(){xt("Renderer does not implement `renderer."+C+"()` on its prototype")}}),n=m}else if(t==="__proto__"||t==="constructor"||t==="prototype")return xt(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return uy({map:H0,keys:[t,e],value:n})}function W0(t,e){return cy({map:H0,keys:[t,e]})}function _P(t,e,r,n,a){return uy({map:G0,keys:[t,e,r,n],value:a})}function zP(t,e,r,n){return cy({map:G0,keys:[t,e,r,n]})}var bf=function(){if(arguments.length===2)return W0.apply(null,arguments);if(arguments.length===3)return q0.apply(null,arguments);if(arguments.length===4)return zP.apply(null,arguments);if(arguments.length===5)return _P.apply(null,arguments);xt("Invalid extension access syntax")};vs.prototype.extension=bf;BP.forEach(function(t){t.extensions.forEach(function(e){q0(t.type,e.name,e.impl)})});var Yo=function(){if(!(this instanceof Yo))return new Yo;this.length=0},Da=Yo.prototype;Da.instanceString=function(){return"stylesheet"};Da.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};Da.css=function(t,e){var r=this.length-1;if(Ve(t))this[r].properties.push({name:t,value:e});else if(tt(t))for(var n=t,a=Object.keys(n),i=0;i<a.length;i++){var s=a[i],o=n[s];if(o!=null){var l=Wt.properties[s]||Wt.properties[ml(s)];if(l!=null){var u=l.name,c=o;this[r].properties.push({name:u,value:c})}}}return this};Da.style=Da.css;Da.generateStyle=function(t){var e=new Wt(t);return this.appendToStyle(e)};Da.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],n=r.selector,a=r.properties;t.selector(n);for(var i=0;i<a.length;i++){var s=a[i];t.css(s.name,s.value)}}return t};var UP="3.33.1",$n=function(e){if(e===void 0&&(e={}),tt(e))return new vs(e);if(Ve(e))return bf.apply(bf,arguments)};$n.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift($n),t.apply(null,e),this};$n.warnings=function(t){return my(t)};$n.version=UP;$n.stylesheet=$n.Stylesheet=Yo;var dd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function VP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Y0={exports:{}},Mc={exports:{}},Pc={exports:{}},np;function HP(){return np||(np=1,function(t,e){(function(n,a){t.exports=a()})(dd,function(){return function(r){var n={};function a(i){if(n[i])return n[i].exports;var s=n[i]={i,l:!1,exports:{}};return r[i].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=r,a.c=n,a.i=function(i){return i},a.d=function(i,s,o){a.o(i,s)||Object.defineProperty(i,s,{configurable:!1,enumerable:!0,get:o})},a.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(s,"a",s),s},a.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},a.p="",a(a.s=28)}([function(r,n,a){function i(){}i.QUALITY=1,i.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,i.DEFAULT_INCREMENTAL=!1,i.DEFAULT_ANIMATION_ON_LAYOUT=!0,i.DEFAULT_ANIMATION_DURING_LAYOUT=!1,i.DEFAULT_ANIMATION_PERIOD=50,i.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,i.DEFAULT_GRAPH_MARGIN=15,i.NODE_DIMENSIONS_INCLUDE_LABELS=!1,i.SIMPLE_NODE_SIZE=40,i.SIMPLE_NODE_HALF_SIZE=i.SIMPLE_NODE_SIZE/2,i.EMPTY_COMPOUND_NODE_SIZE=40,i.MIN_EDGE_LENGTH=1,i.WORLD_BOUNDARY=1e6,i.INITIAL_WORLD_BOUNDARY=i.WORLD_BOUNDARY/1e3,i.WORLD_CENTER_X=1200,i.WORLD_CENTER_Y=900,r.exports=i},function(r,n,a){var i=a(2),s=a(8),o=a(9);function l(c,f,h){i.call(this,h),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=h,this.bendpoints=[],this.source=c,this.target=f}l.prototype=Object.create(i.prototype);for(var u in i)l[u]=i[u];l.prototype.getSource=function(){return this.source},l.prototype.getTarget=function(){return this.target},l.prototype.isInterGraph=function(){return this.isInterGraph},l.prototype.getLength=function(){return this.length},l.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},l.prototype.getBendpoints=function(){return this.bendpoints},l.prototype.getLca=function(){return this.lca},l.prototype.getSourceInLca=function(){return this.sourceInLca},l.prototype.getTargetInLca=function(){return this.targetInLca},l.prototype.getOtherEnd=function(c){if(this.source===c)return this.target;if(this.target===c)return this.source;throw"Node is not incident with this edge"},l.prototype.getOtherEndInGraph=function(c,f){for(var h=this.getOtherEnd(c),d=f.getGraphManager().getRoot();;){if(h.getOwner()==f)return h;if(h.getOwner()==d)break;h=h.getOwner().getParent()}return null},l.prototype.updateLength=function(){var c=new Array(4);this.isOverlapingSourceAndTarget=s.getIntersection(this.target.getRect(),this.source.getRect(),c),this.isOverlapingSourceAndTarget||(this.lengthX=c[0]-c[2],this.lengthY=c[1]-c[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},l.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=l},function(r,n,a){function i(s){this.vGraphObject=s}r.exports=i},function(r,n,a){var i=a(2),s=a(10),o=a(13),l=a(0),u=a(16),c=a(5);function f(d,v,g,p){g==null&&p==null&&(p=v),i.call(this,p),d.graphManager!=null&&(d=d.graphManager),this.estimatedSize=s.MIN_VALUE,this.inclusionTreeDepth=s.MAX_VALUE,this.vGraphObject=p,this.edges=[],this.graphManager=d,g!=null&&v!=null?this.rect=new o(v.x,v.y,g.width,g.height):this.rect=new o}f.prototype=Object.create(i.prototype);for(var h in i)f[h]=i[h];f.prototype.getEdges=function(){return this.edges},f.prototype.getChild=function(){return this.child},f.prototype.getOwner=function(){return this.owner},f.prototype.getWidth=function(){return this.rect.width},f.prototype.setWidth=function(d){this.rect.width=d},f.prototype.getHeight=function(){return this.rect.height},f.prototype.setHeight=function(d){this.rect.height=d},f.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},f.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},f.prototype.getCenter=function(){return new c(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},f.prototype.getLocation=function(){return new c(this.rect.x,this.rect.y)},f.prototype.getRect=function(){return this.rect},f.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},f.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},f.prototype.setRect=function(d,v){this.rect.x=d.x,this.rect.y=d.y,this.rect.width=v.width,this.rect.height=v.height},f.prototype.setCenter=function(d,v){this.rect.x=d-this.rect.width/2,this.rect.y=v-this.rect.height/2},f.prototype.setLocation=function(d,v){this.rect.x=d,this.rect.y=v},f.prototype.moveBy=function(d,v){this.rect.x+=d,this.rect.y+=v},f.prototype.getEdgeListToNode=function(d){var v=[],g=this;return g.edges.forEach(function(p){if(p.target==d){if(p.source!=g)throw"Incorrect edge source!";v.push(p)}}),v},f.prototype.getEdgesBetween=function(d){var v=[],g=this;return g.edges.forEach(function(p){if(!(p.source==g||p.target==g))throw"Incorrect edge source and/or target";(p.target==d||p.source==d)&&v.push(p)}),v},f.prototype.getNeighborsList=function(){var d=new Set,v=this;return v.edges.forEach(function(g){if(g.source==v)d.add(g.target);else{if(g.target!=v)throw"Incorrect incidency!";d.add(g.source)}}),d},f.prototype.withChildren=function(){var d=new Set,v,g;if(d.add(this),this.child!=null)for(var p=this.child.getNodes(),m=0;m<p.length;m++)v=p[m],g=v.withChildren(),g.forEach(function(b){d.add(b)});return d},f.prototype.getNoOfChildren=function(){var d=0,v;if(this.child==null)d=1;else for(var g=this.child.getNodes(),p=0;p<g.length;p++)v=g[p],d+=v.getNoOfChildren();return d==0&&(d=1),d},f.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},f.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},f.prototype.scatter=function(){var d,v,g=-l.INITIAL_WORLD_BOUNDARY,p=l.INITIAL_WORLD_BOUNDARY;d=l.WORLD_CENTER_X+u.nextDouble()*(p-g)+g;var m=-l.INITIAL_WORLD_BOUNDARY,b=l.INITIAL_WORLD_BOUNDARY;v=l.WORLD_CENTER_Y+u.nextDouble()*(b-m)+m,this.rect.x=d,this.rect.y=v},f.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var d=this.getChild();if(d.updateBounds(!0),this.rect.x=d.getLeft(),this.rect.y=d.getTop(),this.setWidth(d.getRight()-d.getLeft()),this.setHeight(d.getBottom()-d.getTop()),l.NODE_DIMENSIONS_INCLUDE_LABELS){var v=d.getRight()-d.getLeft(),g=d.getBottom()-d.getTop();this.labelWidth&&(this.labelPosHorizontal=="left"?(this.rect.x-=this.labelWidth,this.setWidth(v+this.labelWidth)):this.labelPosHorizontal=="center"&&this.labelWidth>v?(this.rect.x-=(this.labelWidth-v)/2,this.setWidth(this.labelWidth)):this.labelPosHorizontal=="right"&&this.setWidth(v+this.labelWidth)),this.labelHeight&&(this.labelPosVertical=="top"?(this.rect.y-=this.labelHeight,this.setHeight(g+this.labelHeight)):this.labelPosVertical=="center"&&this.labelHeight>g?(this.rect.y-=(this.labelHeight-g)/2,this.setHeight(this.labelHeight)):this.labelPosVertical=="bottom"&&this.setHeight(g+this.labelHeight))}}},f.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==s.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},f.prototype.transform=function(d){var v=this.rect.x;v>l.WORLD_BOUNDARY?v=l.WORLD_BOUNDARY:v<-l.WORLD_BOUNDARY&&(v=-l.WORLD_BOUNDARY);var g=this.rect.y;g>l.WORLD_BOUNDARY?g=l.WORLD_BOUNDARY:g<-l.WORLD_BOUNDARY&&(g=-l.WORLD_BOUNDARY);var p=new c(v,g),m=d.inverseTransformPoint(p);this.setLocation(m.x,m.y)},f.prototype.getLeft=function(){return this.rect.x},f.prototype.getRight=function(){return this.rect.x+this.rect.width},f.prototype.getTop=function(){return this.rect.y},f.prototype.getBottom=function(){return this.rect.y+this.rect.height},f.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=f},function(r,n,a){var i=a(0);function s(){}for(var o in i)s[o]=i[o];s.MAX_ITERATIONS=2500,s.DEFAULT_EDGE_LENGTH=50,s.DEFAULT_SPRING_STRENGTH=.45,s.DEFAULT_REPULSION_STRENGTH=4500,s.DEFAULT_GRAVITY_STRENGTH=.4,s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,s.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,s.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,s.COOLING_ADAPTATION_FACTOR=.33,s.ADAPTATION_LOWER_NODE_LIMIT=1e3,s.ADAPTATION_UPPER_NODE_LIMIT=5e3,s.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,s.MAX_NODE_DISPLACEMENT=s.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,s.MIN_REPULSION_DIST=s.DEFAULT_EDGE_LENGTH/10,s.CONVERGENCE_CHECK_PERIOD=100,s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,s.MIN_EDGE_LENGTH=1,s.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=s},function(r,n,a){function i(s,o){s==null&&o==null?(this.x=0,this.y=0):(this.x=s,this.y=o)}i.prototype.getX=function(){return this.x},i.prototype.getY=function(){return this.y},i.prototype.setX=function(s){this.x=s},i.prototype.setY=function(s){this.y=s},i.prototype.getDifference=function(s){return new DimensionD(this.x-s.x,this.y-s.y)},i.prototype.getCopy=function(){return new i(this.x,this.y)},i.prototype.translate=function(s){return this.x+=s.width,this.y+=s.height,this},r.exports=i},function(r,n,a){var i=a(2),s=a(10),o=a(0),l=a(7),u=a(3),c=a(1),f=a(13),h=a(12),d=a(11);function v(p,m,b){i.call(this,b),this.estimatedSize=s.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=p,m!=null&&m instanceof l?this.graphManager=m:m!=null&&m instanceof Layout&&(this.graphManager=m.graphManager)}v.prototype=Object.create(i.prototype);for(var g in i)v[g]=i[g];v.prototype.getNodes=function(){return this.nodes},v.prototype.getEdges=function(){return this.edges},v.prototype.getGraphManager=function(){return this.graphManager},v.prototype.getParent=function(){return this.parent},v.prototype.getLeft=function(){return this.left},v.prototype.getRight=function(){return this.right},v.prototype.getTop=function(){return this.top},v.prototype.getBottom=function(){return this.bottom},v.prototype.isConnected=function(){return this.isConnected},v.prototype.add=function(p,m,b){if(m==null&&b==null){var y=p;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(y)>-1)throw"Node already in graph!";return y.owner=this,this.getNodes().push(y),y}else{var w=p;if(!(this.getNodes().indexOf(m)>-1&&this.getNodes().indexOf(b)>-1))throw"Source or target not in graph!";if(!(m.owner==b.owner&&m.owner==this))throw"Both owners must be this graph!";return m.owner!=b.owner?null:(w.source=m,w.target=b,w.isInterGraph=!1,this.getEdges().push(w),m.edges.push(w),b!=m&&b.edges.push(w),w)}},v.prototype.remove=function(p){var m=p;if(p instanceof u){if(m==null)throw"Node is null!";if(!(m.owner!=null&&m.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var b=m.edges.slice(),y,w=b.length,x=0;x<w;x++)y=b[x],y.isInterGraph?this.graphManager.remove(y):y.source.owner.remove(y);var D=this.nodes.indexOf(m);if(D==-1)throw"Node not in owner node list!";this.nodes.splice(D,1)}else if(p instanceof c){var y=p;if(y==null)throw"Edge is null!";if(!(y.source!=null&&y.target!=null))throw"Source and/or target is null!";if(!(y.source.owner!=null&&y.target.owner!=null&&y.source.owner==this&&y.target.owner==this))throw"Source and/or target owner is invalid!";var C=y.source.edges.indexOf(y),N=y.target.edges.indexOf(y);if(!(C>-1&&N>-1))throw"Source and/or target doesn't know this edge!";y.source.edges.splice(C,1),y.target!=y.source&&y.target.edges.splice(N,1);var D=y.source.owner.getEdges().indexOf(y);if(D==-1)throw"Not in owner's edge list!";y.source.owner.getEdges().splice(D,1)}},v.prototype.updateLeftTop=function(){for(var p=s.MAX_VALUE,m=s.MAX_VALUE,b,y,w,x=this.getNodes(),D=x.length,C=0;C<D;C++){var N=x[C];b=N.getTop(),y=N.getLeft(),p>b&&(p=b),m>y&&(m=y)}return p==s.MAX_VALUE?null:(x[0].getParent().paddingLeft!=null?w=x[0].getParent().paddingLeft:w=this.margin,this.left=m-w,this.top=p-w,new h(this.left,this.top))},v.prototype.updateBounds=function(p){for(var m=s.MAX_VALUE,b=-s.MAX_VALUE,y=s.MAX_VALUE,w=-s.MAX_VALUE,x,D,C,N,k,O=this.nodes,F=O.length,S=0;S<F;S++){var P=O[S];p&&P.child!=null&&P.updateBounds(),x=P.getLeft(),D=P.getRight(),C=P.getTop(),N=P.getBottom(),m>x&&(m=x),b<D&&(b=D),y>C&&(y=C),w<N&&(w=N)}var E=new f(m,y,b-m,w-y);m==s.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),O[0].getParent().paddingLeft!=null?k=O[0].getParent().paddingLeft:k=this.margin,this.left=E.x-k,this.right=E.x+E.width+k,this.top=E.y-k,this.bottom=E.y+E.height+k},v.calculateBounds=function(p){for(var m=s.MAX_VALUE,b=-s.MAX_VALUE,y=s.MAX_VALUE,w=-s.MAX_VALUE,x,D,C,N,k=p.length,O=0;O<k;O++){var F=p[O];x=F.getLeft(),D=F.getRight(),C=F.getTop(),N=F.getBottom(),m>x&&(m=x),b<D&&(b=D),y>C&&(y=C),w<N&&(w=N)}var S=new f(m,y,b-m,w-y);return S},v.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},v.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},v.prototype.calcEstimatedSize=function(){for(var p=0,m=this.nodes,b=m.length,y=0;y<b;y++){var w=m[y];p+=w.calcEstimatedSize()}return p==0?this.estimatedSize=o.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=p/Math.sqrt(this.nodes.length),this.estimatedSize},v.prototype.updateConnected=function(){var p=this;if(this.nodes.length==0){this.isConnected=!0;return}var m=new d,b=new Set,y=this.nodes[0],w,x,D=y.withChildren();for(D.forEach(function(S){m.push(S),b.add(S)});m.length!==0;){y=m.shift(),w=y.getEdges();for(var C=w.length,N=0;N<C;N++){var k=w[N];if(x=k.getOtherEndInGraph(y,this),x!=null&&!b.has(x)){var O=x.withChildren();O.forEach(function(S){m.push(S),b.add(S)})}}}if(this.isConnected=!1,b.size>=this.nodes.length){var F=0;b.forEach(function(S){S.owner==p&&F++}),F==this.nodes.length&&(this.isConnected=!0)}},r.exports=v},function(r,n,a){var i,s=a(1);function o(l){i=a(6),this.layout=l,this.graphs=[],this.edges=[]}o.prototype.addRoot=function(){var l=this.layout.newGraph(),u=this.layout.newNode(null),c=this.add(l,u);return this.setRootGraph(c),this.rootGraph},o.prototype.add=function(l,u,c,f,h){if(c==null&&f==null&&h==null){if(l==null)throw"Graph is null!";if(u==null)throw"Parent node is null!";if(this.graphs.indexOf(l)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(l),l.parent!=null)throw"Already has a parent!";if(u.child!=null)throw"Already has a child!";return l.parent=u,u.child=l,l}else{h=c,f=u,c=l;var d=f.getOwner(),v=h.getOwner();if(!(d!=null&&d.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(v!=null&&v.getGraphManager()==this))throw"Target not in this graph mgr!";if(d==v)return c.isInterGraph=!1,d.add(c,f,h);if(c.isInterGraph=!0,c.source=f,c.target=h,this.edges.indexOf(c)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(c),!(c.source!=null&&c.target!=null))throw"Edge source and/or target is null!";if(!(c.source.edges.indexOf(c)==-1&&c.target.edges.indexOf(c)==-1))throw"Edge already in source and/or target incidency list!";return c.source.edges.push(c),c.target.edges.push(c),c}},o.prototype.remove=function(l){if(l instanceof i){var u=l;if(u.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(u==this.rootGraph||u.parent!=null&&u.parent.graphManager==this))throw"Invalid parent node!";var c=[];c=c.concat(u.getEdges());for(var f,h=c.length,d=0;d<h;d++)f=c[d],u.remove(f);var v=[];v=v.concat(u.getNodes());var g;h=v.length;for(var d=0;d<h;d++)g=v[d],u.remove(g);u==this.rootGraph&&this.setRootGraph(null);var p=this.graphs.indexOf(u);this.graphs.splice(p,1),u.parent=null}else if(l instanceof s){if(f=l,f==null)throw"Edge is null!";if(!f.isInterGraph)throw"Not an inter-graph edge!";if(!(f.source!=null&&f.target!=null))throw"Source and/or target is null!";if(!(f.source.edges.indexOf(f)!=-1&&f.target.edges.indexOf(f)!=-1))throw"Source and/or target doesn't know this edge!";var p=f.source.edges.indexOf(f);if(f.source.edges.splice(p,1),p=f.target.edges.indexOf(f),f.target.edges.splice(p,1),!(f.source.owner!=null&&f.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(f.source.owner.getGraphManager().edges.indexOf(f)==-1)throw"Not in owner graph manager's edge list!";var p=f.source.owner.getGraphManager().edges.indexOf(f);f.source.owner.getGraphManager().edges.splice(p,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(this.allNodes==null){for(var l=[],u=this.getGraphs(),c=u.length,f=0;f<c;f++)l=l.concat(u[f].getNodes());this.allNodes=l}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(this.allEdges==null){var l=[],u=this.getGraphs();u.length;for(var c=0;c<u.length;c++)l=l.concat(u[c].getEdges());l=l.concat(this.edges),this.allEdges=l}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(l){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=l},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(l){if(l.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=l,l.parent==null&&(l.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(l,u){if(!(l!=null&&u!=null))throw"assert failed";if(l==u)return!0;var c=l.getOwner(),f;do{if(f=c.getParent(),f==null)break;if(f==u)return!0;if(c=f.getOwner(),c==null)break}while(!0);c=u.getOwner();do{if(f=c.getParent(),f==null)break;if(f==l)return!0;if(c=f.getOwner(),c==null)break}while(!0);return!1},o.prototype.calcLowestCommonAncestors=function(){for(var l,u,c,f,h,d=this.getAllEdges(),v=d.length,g=0;g<v;g++){if(l=d[g],u=l.source,c=l.target,l.lca=null,l.sourceInLca=u,l.targetInLca=c,u==c){l.lca=u.getOwner();continue}for(f=u.getOwner();l.lca==null;){for(l.targetInLca=c,h=c.getOwner();l.lca==null;){if(h==f){l.lca=h;break}if(h==this.rootGraph)break;if(l.lca!=null)throw"assert failed";l.targetInLca=h.getParent(),h=l.targetInLca.getOwner()}if(f==this.rootGraph)break;l.lca==null&&(l.sourceInLca=f.getParent(),f=l.sourceInLca.getOwner())}if(l.lca==null)throw"assert failed"}},o.prototype.calcLowestCommonAncestor=function(l,u){if(l==u)return l.getOwner();var c=l.getOwner();do{if(c==null)break;var f=u.getOwner();do{if(f==null)break;if(f==c)return f;f=f.getParent().getOwner()}while(!0);c=c.getParent().getOwner()}while(!0);return c},o.prototype.calcInclusionTreeDepths=function(l,u){l==null&&u==null&&(l=this.rootGraph,u=1);for(var c,f=l.getNodes(),h=f.length,d=0;d<h;d++)c=f[d],c.inclusionTreeDepth=u,c.child!=null&&this.calcInclusionTreeDepths(c.child,u+1)},o.prototype.includesInvalidEdge=function(){for(var l,u=[],c=this.edges.length,f=0;f<c;f++)l=this.edges[f],this.isOneAncestorOfOther(l.source,l.target)&&u.push(l);for(var f=0;f<u.length;f++)this.remove(u[f]);return!1},r.exports=o},function(r,n,a){var i=a(12);function s(){}s.calcSeparationAmount=function(o,l,u,c){if(!o.intersects(l))throw"assert failed";var f=new Array(2);this.decideDirectionsForOverlappingNodes(o,l,f),u[0]=Math.min(o.getRight(),l.getRight())-Math.max(o.x,l.x),u[1]=Math.min(o.getBottom(),l.getBottom())-Math.max(o.y,l.y),o.getX()<=l.getX()&&o.getRight()>=l.getRight()?u[0]+=Math.min(l.getX()-o.getX(),o.getRight()-l.getRight()):l.getX()<=o.getX()&&l.getRight()>=o.getRight()&&(u[0]+=Math.min(o.getX()-l.getX(),l.getRight()-o.getRight())),o.getY()<=l.getY()&&o.getBottom()>=l.getBottom()?u[1]+=Math.min(l.getY()-o.getY(),o.getBottom()-l.getBottom()):l.getY()<=o.getY()&&l.getBottom()>=o.getBottom()&&(u[1]+=Math.min(o.getY()-l.getY(),l.getBottom()-o.getBottom()));var h=Math.abs((l.getCenterY()-o.getCenterY())/(l.getCenterX()-o.getCenterX()));l.getCenterY()===o.getCenterY()&&l.getCenterX()===o.getCenterX()&&(h=1);var d=h*u[0],v=u[1]/h;u[0]<v?v=u[0]:d=u[1],u[0]=-1*f[0]*(v/2+c),u[1]=-1*f[1]*(d/2+c)},s.decideDirectionsForOverlappingNodes=function(o,l,u){o.getCenterX()<l.getCenterX()?u[0]=-1:u[0]=1,o.getCenterY()<l.getCenterY()?u[1]=-1:u[1]=1},s.getIntersection2=function(o,l,u){var c=o.getCenterX(),f=o.getCenterY(),h=l.getCenterX(),d=l.getCenterY();if(o.intersects(l))return u[0]=c,u[1]=f,u[2]=h,u[3]=d,!0;var v=o.getX(),g=o.getY(),p=o.getRight(),m=o.getX(),b=o.getBottom(),y=o.getRight(),w=o.getWidthHalf(),x=o.getHeightHalf(),D=l.getX(),C=l.getY(),N=l.getRight(),k=l.getX(),O=l.getBottom(),F=l.getRight(),S=l.getWidthHalf(),P=l.getHeightHalf(),E=!1,L=!1;if(c===h){if(f>d)return u[0]=c,u[1]=g,u[2]=h,u[3]=O,!1;if(f<d)return u[0]=c,u[1]=b,u[2]=h,u[3]=C,!1}else if(f===d){if(c>h)return u[0]=v,u[1]=f,u[2]=N,u[3]=d,!1;if(c<h)return u[0]=p,u[1]=f,u[2]=D,u[3]=d,!1}else{var A=o.height/o.width,T=l.height/l.width,R=(d-f)/(h-c),W=void 0,q=void 0,G=void 0,$=void 0,Q=void 0,oe=void 0;if(-A===R?c>h?(u[0]=m,u[1]=b,E=!0):(u[0]=p,u[1]=g,E=!0):A===R&&(c>h?(u[0]=v,u[1]=g,E=!0):(u[0]=y,u[1]=b,E=!0)),-T===R?h>c?(u[2]=k,u[3]=O,L=!0):(u[2]=N,u[3]=C,L=!0):T===R&&(h>c?(u[2]=D,u[3]=C,L=!0):(u[2]=F,u[3]=O,L=!0)),E&&L)return!1;if(c>h?f>d?(W=this.getCardinalDirection(A,R,4),q=this.getCardinalDirection(T,R,2)):(W=this.getCardinalDirection(-A,R,3),q=this.getCardinalDirection(-T,R,1)):f>d?(W=this.getCardinalDirection(-A,R,1),q=this.getCardinalDirection(-T,R,3)):(W=this.getCardinalDirection(A,R,2),q=this.getCardinalDirection(T,R,4)),!E)switch(W){case 1:$=g,G=c+-x/R,u[0]=G,u[1]=$;break;case 2:G=y,$=f+w*R,u[0]=G,u[1]=$;break;case 3:$=b,G=c+x/R,u[0]=G,u[1]=$;break;case 4:G=m,$=f+-w*R,u[0]=G,u[1]=$;break}if(!L)switch(q){case 1:oe=C,Q=h+-P/R,u[2]=Q,u[3]=oe;break;case 2:Q=F,oe=d+S*R,u[2]=Q,u[3]=oe;break;case 3:oe=O,Q=h+P/R,u[2]=Q,u[3]=oe;break;case 4:Q=k,oe=d+-S*R,u[2]=Q,u[3]=oe;break}}return!1},s.getCardinalDirection=function(o,l,u){return o>l?u:1+u%4},s.getIntersection=function(o,l,u,c){if(c==null)return this.getIntersection2(o,l,u);var f=o.x,h=o.y,d=l.x,v=l.y,g=u.x,p=u.y,m=c.x,b=c.y,y=void 0,w=void 0,x=void 0,D=void 0,C=void 0,N=void 0,k=void 0,O=void 0,F=void 0;return x=v-h,C=f-d,k=d*h-f*v,D=b-p,N=g-m,O=m*p-g*b,F=x*N-D*C,F===0?null:(y=(C*O-N*k)/F,w=(D*k-x*O)/F,new i(y,w))},s.angleOfVector=function(o,l,u,c){var f=void 0;return o!==u?(f=Math.atan((c-l)/(u-o)),u<o?f+=Math.PI:c<l&&(f+=this.TWO_PI)):c<l?f=this.ONE_AND_HALF_PI:f=this.HALF_PI,f},s.doIntersect=function(o,l,u,c){var f=o.x,h=o.y,d=l.x,v=l.y,g=u.x,p=u.y,m=c.x,b=c.y,y=(d-f)*(b-p)-(m-g)*(v-h);if(y===0)return!1;var w=((b-p)*(m-f)+(g-m)*(b-h))/y,x=((h-v)*(m-f)+(d-f)*(b-h))/y;return 0<w&&w<1&&0<x&&x<1},s.findCircleLineIntersections=function(o,l,u,c,f,h,d){var v=(u-o)*(u-o)+(c-l)*(c-l),g=2*((o-f)*(u-o)+(l-h)*(c-l)),p=(o-f)*(o-f)+(l-h)*(l-h)-d*d,m=g*g-4*v*p;if(m>=0){var b=(-g+Math.sqrt(g*g-4*v*p))/(2*v),y=(-g-Math.sqrt(g*g-4*v*p))/(2*v),w=null;return b>=0&&b<=1?[b]:y>=0&&y<=1?[y]:w}else return null},s.HALF_PI=.5*Math.PI,s.ONE_AND_HALF_PI=1.5*Math.PI,s.TWO_PI=2*Math.PI,s.THREE_PI=3*Math.PI,r.exports=s},function(r,n,a){function i(){}i.sign=function(s){return s>0?1:s<0?-1:0},i.floor=function(s){return s<0?Math.ceil(s):Math.floor(s)},i.ceil=function(s){return s<0?Math.floor(s):Math.ceil(s)},r.exports=i},function(r,n,a){function i(){}i.MAX_VALUE=2147483647,i.MIN_VALUE=-2147483648,r.exports=i},function(r,n,a){var i=function(){function f(h,d){for(var v=0;v<d.length;v++){var g=d[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,g.key,g)}}return function(h,d,v){return d&&f(h.prototype,d),v&&f(h,v),h}}();function s(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}var o=function(h){return{value:h,next:null,prev:null}},l=function(h,d,v,g){return h!==null?h.next=d:g.head=d,v!==null?v.prev=d:g.tail=d,d.prev=h,d.next=v,g.length++,d},u=function(h,d){var v=h.prev,g=h.next;return v!==null?v.next=g:d.head=g,g!==null?g.prev=v:d.tail=v,h.prev=h.next=null,d.length--,h},c=function(){function f(h){var d=this;s(this,f),this.length=0,this.head=null,this.tail=null,h!=null&&h.forEach(function(v){return d.push(v)})}return i(f,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(d,v){return l(v.prev,o(d),v,this)}},{key:"insertAfter",value:function(d,v){return l(v,o(d),v.next,this)}},{key:"insertNodeBefore",value:function(d,v){return l(v.prev,d,v,this)}},{key:"insertNodeAfter",value:function(d,v){return l(v,d,v.next,this)}},{key:"push",value:function(d){return l(this.tail,o(d),null,this)}},{key:"unshift",value:function(d){return l(null,o(d),this.head,this)}},{key:"remove",value:function(d){return u(d,this)}},{key:"pop",value:function(){return u(this.tail,this).value}},{key:"popNode",value:function(){return u(this.tail,this)}},{key:"shift",value:function(){return u(this.head,this).value}},{key:"shiftNode",value:function(){return u(this.head,this)}},{key:"get_object_at",value:function(d){if(d<=this.length()){for(var v=1,g=this.head;v<d;)g=g.next,v++;return g.value}}},{key:"set_object_at",value:function(d,v){if(d<=this.length()){for(var g=1,p=this.head;g<d;)p=p.next,g++;p.value=v}}}]),f}();r.exports=c},function(r,n,a){function i(s,o,l){this.x=null,this.y=null,s==null&&o==null&&l==null?(this.x=0,this.y=0):typeof s=="number"&&typeof o=="number"&&l==null?(this.x=s,this.y=o):s.constructor.name=="Point"&&o==null&&l==null&&(l=s,this.x=l.x,this.y=l.y)}i.prototype.getX=function(){return this.x},i.prototype.getY=function(){return this.y},i.prototype.getLocation=function(){return new i(this.x,this.y)},i.prototype.setLocation=function(s,o,l){s.constructor.name=="Point"&&o==null&&l==null?(l=s,this.setLocation(l.x,l.y)):typeof s=="number"&&typeof o=="number"&&l==null&&(parseInt(s)==s&&parseInt(o)==o?this.move(s,o):(this.x=Math.floor(s+.5),this.y=Math.floor(o+.5)))},i.prototype.move=function(s,o){this.x=s,this.y=o},i.prototype.translate=function(s,o){this.x+=s,this.y+=o},i.prototype.equals=function(s){if(s.constructor.name=="Point"){var o=s;return this.x==o.x&&this.y==o.y}return this==s},i.prototype.toString=function(){return new i().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=i},function(r,n,a){function i(s,o,l,u){this.x=0,this.y=0,this.width=0,this.height=0,s!=null&&o!=null&&l!=null&&u!=null&&(this.x=s,this.y=o,this.width=l,this.height=u)}i.prototype.getX=function(){return this.x},i.prototype.setX=function(s){this.x=s},i.prototype.getY=function(){return this.y},i.prototype.setY=function(s){this.y=s},i.prototype.getWidth=function(){return this.width},i.prototype.setWidth=function(s){this.width=s},i.prototype.getHeight=function(){return this.height},i.prototype.setHeight=function(s){this.height=s},i.prototype.getRight=function(){return this.x+this.width},i.prototype.getBottom=function(){return this.y+this.height},i.prototype.intersects=function(s){return!(this.getRight()<s.x||this.getBottom()<s.y||s.getRight()<this.x||s.getBottom()<this.y)},i.prototype.getCenterX=function(){return this.x+this.width/2},i.prototype.getMinX=function(){return this.getX()},i.prototype.getMaxX=function(){return this.getX()+this.width},i.prototype.getCenterY=function(){return this.y+this.height/2},i.prototype.getMinY=function(){return this.getY()},i.prototype.getMaxY=function(){return this.getY()+this.height},i.prototype.getWidthHalf=function(){return this.width/2},i.prototype.getHeightHalf=function(){return this.height/2},r.exports=i},function(r,n,a){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};function s(){}s.lastID=0,s.createID=function(o){return s.isPrimitive(o)?o:(o.uniqueID!=null||(o.uniqueID=s.getString(),s.lastID++),o.uniqueID)},s.getString=function(o){return o==null&&(o=s.lastID),"Object#"+o},s.isPrimitive=function(o){var l=typeof o>"u"?"undefined":i(o);return o==null||l!="object"&&l!="function"},r.exports=s},function(r,n,a){function i(g){if(Array.isArray(g)){for(var p=0,m=Array(g.length);p<g.length;p++)m[p]=g[p];return m}else return Array.from(g)}var s=a(0),o=a(7),l=a(3),u=a(1),c=a(6),f=a(5),h=a(17),d=a(29);function v(g){d.call(this),this.layoutQuality=s.QUALITY,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=s.DEFAULT_INCREMENTAL,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,g!=null&&(this.isRemoteUse=g)}v.RANDOM_SEED=1,v.prototype=Object.create(d.prototype),v.prototype.getGraphManager=function(){return this.graphManager},v.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},v.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},v.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},v.prototype.newGraphManager=function(){var g=new o(this);return this.graphManager=g,g},v.prototype.newGraph=function(g){return new c(null,this.graphManager,g)},v.prototype.newNode=function(g){return new l(this.graphManager,g)},v.prototype.newEdge=function(g){return new u(null,null,g)},v.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},v.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var g;return this.checkLayoutSuccess()?g=!1:g=this.layout(),s.ANIMATE==="during"?!1:(g&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,g)},v.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},v.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var g=this.graphManager.getAllEdges(),p=0;p<g.length;p++)g[p];for(var m=this.graphManager.getRoot().getNodes(),p=0;p<m.length;p++)m[p];this.update(this.graphManager.getRoot())}},v.prototype.update=function(g){if(g==null)this.update2();else if(g instanceof l){var p=g;if(p.getChild()!=null)for(var m=p.getChild().getNodes(),b=0;b<m.length;b++)update(m[b]);if(p.vGraphObject!=null){var y=p.vGraphObject;y.update(p)}}else if(g instanceof u){var w=g;if(w.vGraphObject!=null){var x=w.vGraphObject;x.update(w)}}else if(g instanceof c){var D=g;if(D.vGraphObject!=null){var C=D.vGraphObject;C.update(D)}}},v.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=s.QUALITY,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=s.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},v.prototype.transform=function(g){if(g==null)this.transform(new f(0,0));else{var p=new h,m=this.graphManager.getRoot().updateLeftTop();if(m!=null){p.setWorldOrgX(g.x),p.setWorldOrgY(g.y),p.setDeviceOrgX(m.x),p.setDeviceOrgY(m.y);for(var b=this.getAllNodes(),y,w=0;w<b.length;w++)y=b[w],y.transform(p)}}},v.prototype.positionNodesRandomly=function(g){if(g==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var p,m,b=g.getNodes(),y=0;y<b.length;y++)p=b[y],m=p.getChild(),m==null||m.getNodes().length==0?p.scatter():(this.positionNodesRandomly(m),p.updateBounds())},v.prototype.getFlatForest=function(){for(var g=[],p=!0,m=this.graphManager.getRoot().getNodes(),b=!0,y=0;y<m.length;y++)m[y].getChild()!=null&&(b=!1);if(!b)return g;var w=new Set,x=[],D=new Map,C=[];for(C=C.concat(m);C.length>0&&p;){for(x.push(C[0]);x.length>0&&p;){var N=x[0];x.splice(0,1),w.add(N);for(var k=N.getEdges(),y=0;y<k.length;y++){var O=k[y].getOtherEnd(N);if(D.get(N)!=O)if(!w.has(O))x.push(O),D.set(O,N);else{p=!1;break}}}if(!p)g=[];else{var F=[].concat(i(w));g.push(F);for(var y=0;y<F.length;y++){var S=F[y],P=C.indexOf(S);P>-1&&C.splice(P,1)}w=new Set,D=new Map}}return g},v.prototype.createDummyNodesForBendpoints=function(g){for(var p=[],m=g.source,b=this.graphManager.calcLowestCommonAncestor(g.source,g.target),y=0;y<g.bendpoints.length;y++){var w=this.newNode(null);w.setRect(new Point(0,0),new Dimension(1,1)),b.add(w);var x=this.newEdge(null);this.graphManager.add(x,m,w),p.add(w),m=w}var x=this.newEdge(null);return this.graphManager.add(x,m,g.target),this.edgeToDummyNodes.set(g,p),g.isInterGraph()?this.graphManager.remove(g):b.remove(g),p},v.prototype.createBendpointsFromDummyNodes=function(){var g=[];g=g.concat(this.graphManager.getAllEdges()),g=[].concat(i(this.edgeToDummyNodes.keys())).concat(g);for(var p=0;p<g.length;p++){var m=g[p];if(m.bendpoints.length>0){for(var b=this.edgeToDummyNodes.get(m),y=0;y<b.length;y++){var w=b[y],x=new f(w.getCenterX(),w.getCenterY()),D=m.bendpoints.get(y);D.x=x.x,D.y=x.y,w.getOwner().remove(w)}this.graphManager.add(m,m.source,m.target)}}},v.transform=function(g,p,m,b){if(m!=null&&b!=null){var y=p;if(g<=50){var w=p/m;y-=(p-w)/50*(50-g)}else{var x=p*b;y+=(x-p)/50*(g-50)}return y}else{var D,C;return g<=50?(D=9*p/500,C=p/10):(D=9*p/50,C=-8*p),D*g+C}},v.findCenterOfTree=function(g){var p=[];p=p.concat(g);var m=[],b=new Map,y=!1,w=null;(p.length==1||p.length==2)&&(y=!0,w=p[0]);for(var x=0;x<p.length;x++){var D=p[x],C=D.getNeighborsList().size;b.set(D,D.getNeighborsList().size),C==1&&m.push(D)}var N=[];for(N=N.concat(m);!y;){var k=[];k=k.concat(N),N=[];for(var x=0;x<p.length;x++){var D=p[x],O=p.indexOf(D);O>=0&&p.splice(O,1);var F=D.getNeighborsList();F.forEach(function(E){if(m.indexOf(E)<0){var L=b.get(E),A=L-1;A==1&&N.push(E),b.set(E,A)}})}m=m.concat(N),(p.length==1||p.length==2)&&(y=!0,w=p[0])}return w},v.prototype.setGraphManager=function(g){this.graphManager=g},r.exports=v},function(r,n,a){function i(){}i.seed=1,i.x=0,i.nextDouble=function(){return i.x=Math.sin(i.seed++)*1e4,i.x-Math.floor(i.x)},r.exports=i},function(r,n,a){var i=a(5);function s(o,l){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}s.prototype.getWorldOrgX=function(){return this.lworldOrgX},s.prototype.setWorldOrgX=function(o){this.lworldOrgX=o},s.prototype.getWorldOrgY=function(){return this.lworldOrgY},s.prototype.setWorldOrgY=function(o){this.lworldOrgY=o},s.prototype.getWorldExtX=function(){return this.lworldExtX},s.prototype.setWorldExtX=function(o){this.lworldExtX=o},s.prototype.getWorldExtY=function(){return this.lworldExtY},s.prototype.setWorldExtY=function(o){this.lworldExtY=o},s.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},s.prototype.setDeviceOrgX=function(o){this.ldeviceOrgX=o},s.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},s.prototype.setDeviceOrgY=function(o){this.ldeviceOrgY=o},s.prototype.getDeviceExtX=function(){return this.ldeviceExtX},s.prototype.setDeviceExtX=function(o){this.ldeviceExtX=o},s.prototype.getDeviceExtY=function(){return this.ldeviceExtY},s.prototype.setDeviceExtY=function(o){this.ldeviceExtY=o},s.prototype.transformX=function(o){var l=0,u=this.lworldExtX;return u!=0&&(l=this.ldeviceOrgX+(o-this.lworldOrgX)*this.ldeviceExtX/u),l},s.prototype.transformY=function(o){var l=0,u=this.lworldExtY;return u!=0&&(l=this.ldeviceOrgY+(o-this.lworldOrgY)*this.ldeviceExtY/u),l},s.prototype.inverseTransformX=function(o){var l=0,u=this.ldeviceExtX;return u!=0&&(l=this.lworldOrgX+(o-this.ldeviceOrgX)*this.lworldExtX/u),l},s.prototype.inverseTransformY=function(o){var l=0,u=this.ldeviceExtY;return u!=0&&(l=this.lworldOrgY+(o-this.ldeviceOrgY)*this.lworldExtY/u),l},s.prototype.inverseTransformPoint=function(o){var l=new i(this.inverseTransformX(o.x),this.inverseTransformY(o.y));return l},r.exports=s},function(r,n,a){function i(d){if(Array.isArray(d)){for(var v=0,g=Array(d.length);v<d.length;v++)g[v]=d[v];return g}else return Array.from(d)}var s=a(15),o=a(4),l=a(0),u=a(8),c=a(9);function f(){s.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}f.prototype=Object.create(s.prototype);for(var h in s)f[h]=s[h];f.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},f.prototype.calcIdealEdgeLengths=function(){for(var d,v,g,p,m,b,y,w=this.getGraphManager().getAllEdges(),x=0;x<w.length;x++)d=w[x],v=d.idealLength,d.isInterGraph&&(p=d.getSource(),m=d.getTarget(),b=d.getSourceInLca().getEstimatedSize(),y=d.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(d.idealLength+=b+y-2*l.SIMPLE_NODE_SIZE),g=d.getLca().getInclusionTreeDepth(),d.idealLength+=v*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(p.getInclusionTreeDepth()+m.getInclusionTreeDepth()-2*g))},f.prototype.initSpringEmbedder=function(){var d=this.getAllNodes().length;this.incremental?(d>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(d-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(d>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(d-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},f.prototype.calcSpringForces=function(){for(var d=this.getAllEdges(),v,g=0;g<d.length;g++)v=d[g],this.calcSpringForce(v,v.idealLength)},f.prototype.calcRepulsionForces=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g,p,m,b,y=this.getAllNodes(),w;if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&d&&this.updateGrid(),w=new Set,g=0;g<y.length;g++)m=y[g],this.calculateRepulsionForceOfANode(m,w,d,v),w.add(m);else for(g=0;g<y.length;g++)for(m=y[g],p=g+1;p<y.length;p++)b=y[p],m.getOwner()==b.getOwner()&&this.calcRepulsionForce(m,b)},f.prototype.calcGravitationalForces=function(){for(var d,v=this.getAllNodesToApplyGravitation(),g=0;g<v.length;g++)d=v[g],this.calcGravitationalForce(d)},f.prototype.moveNodes=function(){for(var d=this.getAllNodes(),v,g=0;g<d.length;g++)v=d[g],v.move()},f.prototype.calcSpringForce=function(d,v){var g=d.getSource(),p=d.getTarget(),m,b,y,w;if(this.uniformLeafNodeSizes&&g.getChild()==null&&p.getChild()==null)d.updateLengthSimple();else if(d.updateLength(),d.isOverlapingSourceAndTarget)return;m=d.getLength(),m!=0&&(b=d.edgeElasticity*(m-v),y=b*(d.lengthX/m),w=b*(d.lengthY/m),g.springForceX+=y,g.springForceY+=w,p.springForceX-=y,p.springForceY-=w)},f.prototype.calcRepulsionForce=function(d,v){var g=d.getRect(),p=v.getRect(),m=new Array(2),b=new Array(4),y,w,x,D,C,N,k;if(g.intersects(p)){u.calcSeparationAmount(g,p,m,o.DEFAULT_EDGE_LENGTH/2),N=2*m[0],k=2*m[1];var O=d.noOfChildren*v.noOfChildren/(d.noOfChildren+v.noOfChildren);d.repulsionForceX-=O*N,d.repulsionForceY-=O*k,v.repulsionForceX+=O*N,v.repulsionForceY+=O*k}else this.uniformLeafNodeSizes&&d.getChild()==null&&v.getChild()==null?(y=p.getCenterX()-g.getCenterX(),w=p.getCenterY()-g.getCenterY()):(u.getIntersection(g,p,b),y=b[2]-b[0],w=b[3]-b[1]),Math.abs(y)<o.MIN_REPULSION_DIST&&(y=c.sign(y)*o.MIN_REPULSION_DIST),Math.abs(w)<o.MIN_REPULSION_DIST&&(w=c.sign(w)*o.MIN_REPULSION_DIST),x=y*y+w*w,D=Math.sqrt(x),C=(d.nodeRepulsion/2+v.nodeRepulsion/2)*d.noOfChildren*v.noOfChildren/x,N=C*y/D,k=C*w/D,d.repulsionForceX-=N,d.repulsionForceY-=k,v.repulsionForceX+=N,v.repulsionForceY+=k},f.prototype.calcGravitationalForce=function(d){var v,g,p,m,b,y,w,x;v=d.getOwner(),g=(v.getRight()+v.getLeft())/2,p=(v.getTop()+v.getBottom())/2,m=d.getCenterX()-g,b=d.getCenterY()-p,y=Math.abs(m)+d.getWidth()/2,w=Math.abs(b)+d.getHeight()/2,d.getOwner()==this.graphManager.getRoot()?(x=v.getEstimatedSize()*this.gravityRangeFactor,(y>x||w>x)&&(d.gravitationForceX=-this.gravityConstant*m,d.gravitationForceY=-this.gravityConstant*b)):(x=v.getEstimatedSize()*this.compoundGravityRangeFactor,(y>x||w>x)&&(d.gravitationForceX=-this.gravityConstant*m*this.compoundGravityConstant,d.gravitationForceY=-this.gravityConstant*b*this.compoundGravityConstant))},f.prototype.isConverged=function(){var d,v=!1;return this.totalIterations>this.maxIterations/3&&(v=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),d=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,d||v},f.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},f.prototype.calcNoOfChildrenForAllNodes=function(){for(var d,v=this.graphManager.getAllNodes(),g=0;g<v.length;g++)d=v[g],d.noOfChildren=d.getNoOfChildren()},f.prototype.calcGrid=function(d){var v=0,g=0;v=parseInt(Math.ceil((d.getRight()-d.getLeft())/this.repulsionRange)),g=parseInt(Math.ceil((d.getBottom()-d.getTop())/this.repulsionRange));for(var p=new Array(v),m=0;m<v;m++)p[m]=new Array(g);for(var m=0;m<v;m++)for(var b=0;b<g;b++)p[m][b]=new Array;return p},f.prototype.addNodeToGrid=function(d,v,g){var p=0,m=0,b=0,y=0;p=parseInt(Math.floor((d.getRect().x-v)/this.repulsionRange)),m=parseInt(Math.floor((d.getRect().width+d.getRect().x-v)/this.repulsionRange)),b=parseInt(Math.floor((d.getRect().y-g)/this.repulsionRange)),y=parseInt(Math.floor((d.getRect().height+d.getRect().y-g)/this.repulsionRange));for(var w=p;w<=m;w++)for(var x=b;x<=y;x++)this.grid[w][x].push(d),d.setGridCoordinates(p,m,b,y)},f.prototype.updateGrid=function(){var d,v,g=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),d=0;d<g.length;d++)v=g[d],this.addNodeToGrid(v,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},f.prototype.calculateRepulsionForceOfANode=function(d,v,g,p){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&g||p){var m=new Set;d.surrounding=new Array;for(var b,y=this.grid,w=d.startX-1;w<d.finishX+2;w++)for(var x=d.startY-1;x<d.finishY+2;x++)if(!(w<0||x<0||w>=y.length||x>=y[0].length)){for(var D=0;D<y[w][x].length;D++)if(b=y[w][x][D],!(d.getOwner()!=b.getOwner()||d==b)&&!v.has(b)&&!m.has(b)){var C=Math.abs(d.getCenterX()-b.getCenterX())-(d.getWidth()/2+b.getWidth()/2),N=Math.abs(d.getCenterY()-b.getCenterY())-(d.getHeight()/2+b.getHeight()/2);C<=this.repulsionRange&&N<=this.repulsionRange&&m.add(b)}}d.surrounding=[].concat(i(m))}for(w=0;w<d.surrounding.length;w++)this.calcRepulsionForce(d,d.surrounding[w])},f.prototype.calcRepulsionRange=function(){return 0},r.exports=f},function(r,n,a){var i=a(1),s=a(4);function o(u,c,f){i.call(this,u,c,f),this.idealLength=s.DEFAULT_EDGE_LENGTH,this.edgeElasticity=s.DEFAULT_SPRING_STRENGTH}o.prototype=Object.create(i.prototype);for(var l in i)o[l]=i[l];r.exports=o},function(r,n,a){var i=a(3),s=a(4);function o(u,c,f,h){i.call(this,u,c,f,h),this.nodeRepulsion=s.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}o.prototype=Object.create(i.prototype);for(var l in i)o[l]=i[l];o.prototype.setGridCoordinates=function(u,c,f,h){this.startX=u,this.finishX=c,this.startY=f,this.finishY=h},r.exports=o},function(r,n,a){function i(s,o){this.width=0,this.height=0,s!==null&&o!==null&&(this.height=o,this.width=s)}i.prototype.getWidth=function(){return this.width},i.prototype.setWidth=function(s){this.width=s},i.prototype.getHeight=function(){return this.height},i.prototype.setHeight=function(s){this.height=s},r.exports=i},function(r,n,a){var i=a(14);function s(){this.map={},this.keys=[]}s.prototype.put=function(o,l){var u=i.createID(o);this.contains(u)||(this.map[u]=l,this.keys.push(o))},s.prototype.contains=function(o){return i.createID(o),this.map[o]!=null},s.prototype.get=function(o){var l=i.createID(o);return this.map[l]},s.prototype.keySet=function(){return this.keys},r.exports=s},function(r,n,a){var i=a(14);function s(){this.set={}}s.prototype.add=function(o){var l=i.createID(o);this.contains(l)||(this.set[l]=o)},s.prototype.remove=function(o){delete this.set[i.createID(o)]},s.prototype.clear=function(){this.set={}},s.prototype.contains=function(o){return this.set[i.createID(o)]==o},s.prototype.isEmpty=function(){return this.size()===0},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAllTo=function(o){for(var l=Object.keys(this.set),u=l.length,c=0;c<u;c++)o.push(this.set[l[c]])},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAll=function(o){for(var l=o.length,u=0;u<l;u++){var c=o[u];this.add(c)}},r.exports=s},function(r,n,a){function i(){}i.multMat=function(s,o){for(var l=[],u=0;u<s.length;u++){l[u]=[];for(var c=0;c<o[0].length;c++){l[u][c]=0;for(var f=0;f<s[0].length;f++)l[u][c]+=s[u][f]*o[f][c]}}return l},i.transpose=function(s){for(var o=[],l=0;l<s[0].length;l++){o[l]=[];for(var u=0;u<s.length;u++)o[l][u]=s[u][l]}return o},i.multCons=function(s,o){for(var l=[],u=0;u<s.length;u++)l[u]=s[u]*o;return l},i.minusOp=function(s,o){for(var l=[],u=0;u<s.length;u++)l[u]=s[u]-o[u];return l},i.dotProduct=function(s,o){for(var l=0,u=0;u<s.length;u++)l+=s[u]*o[u];return l},i.mag=function(s){return Math.sqrt(this.dotProduct(s,s))},i.normalize=function(s){for(var o=[],l=this.mag(s),u=0;u<s.length;u++)o[u]=s[u]/l;return o},i.multGamma=function(s){for(var o=[],l=0,u=0;u<s.length;u++)l+=s[u];l*=-1/s.length;for(var c=0;c<s.length;c++)o[c]=l+s[c];return o},i.multL=function(s,o,l){for(var u=[],c=[],f=[],h=0;h<o[0].length;h++){for(var d=0,v=0;v<o.length;v++)d+=-.5*o[v][h]*s[v];c[h]=d}for(var g=0;g<l.length;g++){for(var p=0,m=0;m<l.length;m++)p+=l[g][m]*c[m];f[g]=p}for(var b=0;b<o.length;b++){for(var y=0,w=0;w<o[0].length;w++)y+=o[b][w]*f[w];u[b]=y}return u},r.exports=i},function(r,n,a){var i=function(){function u(c,f){for(var h=0;h<f.length;h++){var d=f[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}return function(c,f,h){return f&&u(c.prototype,f),h&&u(c,h),c}}();function s(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}var o=a(11),l=function(){function u(c,f){s(this,u),(f!==null||f!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var h=void 0;c instanceof o?h=c.size():h=c.length,this._quicksort(c,0,h-1)}return i(u,[{key:"_quicksort",value:function(f,h,d){if(h<d){var v=this._partition(f,h,d);this._quicksort(f,h,v),this._quicksort(f,v+1,d)}}},{key:"_partition",value:function(f,h,d){for(var v=this._get(f,h),g=h,p=d;;){for(;this.compareFunction(v,this._get(f,p));)p--;for(;this.compareFunction(this._get(f,g),v);)g++;if(g<p)this._swap(f,g,p),g++,p--;else return p}}},{key:"_get",value:function(f,h){return f instanceof o?f.get_object_at(h):f[h]}},{key:"_set",value:function(f,h,d){f instanceof o?f.set_object_at(h,d):f[h]=d}},{key:"_swap",value:function(f,h,d){var v=this._get(f,h);this._set(f,h,this._get(f,d)),this._set(f,d,v)}},{key:"_defaultCompareFunction",value:function(f,h){return h>f}}]),u}();r.exports=l},function(r,n,a){function i(){}i.svd=function(s){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=s.length,this.n=s[0].length;var o=Math.min(this.m,this.n);this.s=function(Ue){for(var Ge=[];Ue-- >0;)Ge.push(0);return Ge}(Math.min(this.m+1,this.n)),this.U=function(Ue){var Ge=function st(vt){if(vt.length==0)return 0;for(var je=[],nt=0;nt<vt[0];nt++)je.push(st(vt.slice(1)));return je};return Ge(Ue)}([this.m,o]),this.V=function(Ue){var Ge=function st(vt){if(vt.length==0)return 0;for(var je=[],nt=0;nt<vt[0];nt++)je.push(st(vt.slice(1)));return je};return Ge(Ue)}([this.n,this.n]);for(var l=function(Ue){for(var Ge=[];Ue-- >0;)Ge.push(0);return Ge}(this.n),u=function(Ue){for(var Ge=[];Ue-- >0;)Ge.push(0);return Ge}(this.m),c=!0,f=Math.min(this.m-1,this.n),h=Math.max(0,Math.min(this.n-2,this.m)),d=0;d<Math.max(f,h);d++){if(d<f){this.s[d]=0;for(var v=d;v<this.m;v++)this.s[d]=i.hypot(this.s[d],s[v][d]);if(this.s[d]!==0){s[d][d]<0&&(this.s[d]=-this.s[d]);for(var g=d;g<this.m;g++)s[g][d]/=this.s[d];s[d][d]+=1}this.s[d]=-this.s[d]}for(var p=d+1;p<this.n;p++){if(function(Ue,Ge){return Ue&&Ge}(d<f,this.s[d]!==0)){for(var m=0,b=d;b<this.m;b++)m+=s[b][d]*s[b][p];m=-m/s[d][d];for(var y=d;y<this.m;y++)s[y][p]+=m*s[y][d]}l[p]=s[d][p]}if(function(Ue,Ge){return Ge}(c,d<f))for(var w=d;w<this.m;w++)this.U[w][d]=s[w][d];if(d<h){l[d]=0;for(var x=d+1;x<this.n;x++)l[d]=i.hypot(l[d],l[x]);if(l[d]!==0){l[d+1]<0&&(l[d]=-l[d]);for(var D=d+1;D<this.n;D++)l[D]/=l[d];l[d+1]+=1}if(l[d]=-l[d],function(Ue,Ge){return Ue&&Ge}(d+1<this.m,l[d]!==0)){for(var C=d+1;C<this.m;C++)u[C]=0;for(var N=d+1;N<this.n;N++)for(var k=d+1;k<this.m;k++)u[k]+=l[N]*s[k][N];for(var O=d+1;O<this.n;O++)for(var F=-l[O]/l[d+1],S=d+1;S<this.m;S++)s[S][O]+=F*u[S]}for(var P=d+1;P<this.n;P++)this.V[P][d]=l[P]}}var E=Math.min(this.n,this.m+1);f<this.n&&(this.s[f]=s[f][f]),this.m<E&&(this.s[E-1]=0),h+1<E&&(l[h]=s[h][E-1]),l[E-1]=0;{for(var L=f;L<o;L++){for(var A=0;A<this.m;A++)this.U[A][L]=0;this.U[L][L]=1}for(var T=f-1;T>=0;T--)if(this.s[T]!==0){for(var R=T+1;R<o;R++){for(var W=0,q=T;q<this.m;q++)W+=this.U[q][T]*this.U[q][R];W=-W/this.U[T][T];for(var G=T;G<this.m;G++)this.U[G][R]+=W*this.U[G][T]}for(var $=T;$<this.m;$++)this.U[$][T]=-this.U[$][T];this.U[T][T]=1+this.U[T][T];for(var Q=0;Q<T-1;Q++)this.U[Q][T]=0}else{for(var oe=0;oe<this.m;oe++)this.U[oe][T]=0;this.U[T][T]=1}}for(var ie=this.n-1;ie>=0;ie--){if(function(Ue,Ge){return Ue&&Ge}(ie<h,l[ie]!==0))for(var ae=ie+1;ae<o;ae++){for(var Y=0,re=ie+1;re<this.n;re++)Y+=this.V[re][ie]*this.V[re][ae];Y=-Y/this.V[ie+1][ie];for(var U=ie+1;U<this.n;U++)this.V[U][ae]+=Y*this.V[U][ie]}for(var V=0;V<this.n;V++)this.V[V][ie]=0;this.V[ie][ie]=1}for(var X=E-1,M=Math.pow(2,-52),B=Math.pow(2,-966);E>0;){var z=void 0,K=void 0;for(z=E-2;z>=-1&&z!==-1;z--)if(Math.abs(l[z])<=B+M*(Math.abs(this.s[z])+Math.abs(this.s[z+1]))){l[z]=0;break}if(z===E-2)K=4;else{var ee=void 0;for(ee=E-1;ee>=z&&ee!==z;ee--){var ne=(ee!==E?Math.abs(l[ee]):0)+(ee!==z+1?Math.abs(l[ee-1]):0);if(Math.abs(this.s[ee])<=B+M*ne){this.s[ee]=0;break}}ee===z?K=3:ee===E-1?K=1:(K=2,z=ee)}switch(z++,K){case 1:{var se=l[E-2];l[E-2]=0;for(var ue=E-2;ue>=z;ue--){var le=i.hypot(this.s[ue],se),ce=this.s[ue]/le,pe=se/le;this.s[ue]=le,ue!==z&&(se=-pe*l[ue-1],l[ue-1]=ce*l[ue-1]);for(var de=0;de<this.n;de++)le=ce*this.V[de][ue]+pe*this.V[de][E-1],this.V[de][E-1]=-pe*this.V[de][ue]+ce*this.V[de][E-1],this.V[de][ue]=le}}break;case 2:{var me=l[z-1];l[z-1]=0;for(var Ee=z;Ee<E;Ee++){var Ae=i.hypot(this.s[Ee],me),ke=this.s[Ee]/Ae,Pe=me/Ae;this.s[Ee]=Ae,me=-Pe*l[Ee],l[Ee]=ke*l[Ee];for(var Ie=0;Ie<this.m;Ie++)Ae=ke*this.U[Ie][Ee]+Pe*this.U[Ie][z-1],this.U[Ie][z-1]=-Pe*this.U[Ie][Ee]+ke*this.U[Ie][z-1],this.U[Ie][Ee]=Ae}}break;case 3:{var Me=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[E-1]),Math.abs(this.s[E-2])),Math.abs(l[E-2])),Math.abs(this.s[z])),Math.abs(l[z])),Te=this.s[E-1]/Me,j=this.s[E-2]/Me,I=l[E-2]/Me,J=this.s[z]/Me,H=l[z]/Me,Z=((j+Te)*(j-Te)+I*I)/2,te=Te*I*(Te*I),ve=0;(function(Ue,Ge){return Ue||Ge})(Z!==0,te!==0)&&(ve=Math.sqrt(Z*Z+te),Z<0&&(ve=-ve),ve=te/(Z+ve));for(var fe=(J+Te)*(J-Te)+ve,he=J*H,ge=z;ge<E-1;ge++){var we=i.hypot(fe,he),Oe=fe/we,Le=he/we;ge!==z&&(l[ge-1]=we),fe=Oe*this.s[ge]+Le*l[ge],l[ge]=Oe*l[ge]-Le*this.s[ge],he=Le*this.s[ge+1],this.s[ge+1]=Oe*this.s[ge+1];for(var Re=0;Re<this.n;Re++)we=Oe*this.V[Re][ge]+Le*this.V[Re][ge+1],this.V[Re][ge+1]=-Le*this.V[Re][ge]+Oe*this.V[Re][ge+1],this.V[Re][ge]=we;if(we=i.hypot(fe,he),Oe=fe/we,Le=he/we,this.s[ge]=we,fe=Oe*l[ge]+Le*this.s[ge+1],this.s[ge+1]=-Le*l[ge]+Oe*this.s[ge+1],he=Le*l[ge+1],l[ge+1]=Oe*l[ge+1],ge<this.m-1)for(var Se=0;Se<this.m;Se++)we=Oe*this.U[Se][ge]+Le*this.U[Se][ge+1],this.U[Se][ge+1]=-Le*this.U[Se][ge]+Oe*this.U[Se][ge+1],this.U[Se][ge]=we}l[E-2]=fe}break;case 4:{if(this.s[z]<=0){this.s[z]=this.s[z]<0?-this.s[z]:0;for(var Ce=0;Ce<=X;Ce++)this.V[Ce][z]=-this.V[Ce][z]}for(;z<X&&!(this.s[z]>=this.s[z+1]);){var He=this.s[z];if(this.s[z]=this.s[z+1],this.s[z+1]=He,z<this.n-1)for(var Fe=0;Fe<this.n;Fe++)He=this.V[Fe][z+1],this.V[Fe][z+1]=this.V[Fe][z],this.V[Fe][z]=He;if(z<this.m-1)for(var Be=0;Be<this.m;Be++)He=this.U[Be][z+1],this.U[Be][z+1]=this.U[Be][z],this.U[Be][z]=He;z++}E--}break}}var Qe={U:this.U,V:this.V,S:this.s};return Qe},i.hypot=function(s,o){var l=void 0;return Math.abs(s)>Math.abs(o)?(l=o/s,l=Math.abs(s)*Math.sqrt(1+l*l)):o!=0?(l=s/o,l=Math.abs(o)*Math.sqrt(1+l*l)):l=0,l},r.exports=i},function(r,n,a){var i=function(){function l(u,c){for(var f=0;f<c.length;f++){var h=c[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,c,f){return c&&l(u.prototype,c),f&&l(u,f),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var o=function(){function l(u,c){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;s(this,l),this.sequence1=u,this.sequence2=c,this.match_score=f,this.mismatch_penalty=h,this.gap_penalty=d,this.iMax=u.length+1,this.jMax=c.length+1,this.grid=new Array(this.iMax);for(var v=0;v<this.iMax;v++){this.grid[v]=new Array(this.jMax);for(var g=0;g<this.jMax;g++)this.grid[v][g]=0}this.tracebackGrid=new Array(this.iMax);for(var p=0;p<this.iMax;p++){this.tracebackGrid[p]=new Array(this.jMax);for(var m=0;m<this.jMax;m++)this.tracebackGrid[p][m]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return i(l,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var c=1;c<this.jMax;c++)this.grid[0][c]=this.grid[0][c-1]+this.gap_penalty,this.tracebackGrid[0][c]=[!1,!1,!0];for(var f=1;f<this.iMax;f++)this.grid[f][0]=this.grid[f-1][0]+this.gap_penalty,this.tracebackGrid[f][0]=[!1,!0,!1];for(var h=1;h<this.iMax;h++)for(var d=1;d<this.jMax;d++){var v=void 0;this.sequence1[h-1]===this.sequence2[d-1]?v=this.grid[h-1][d-1]+this.match_score:v=this.grid[h-1][d-1]+this.mismatch_penalty;var g=this.grid[h-1][d]+this.gap_penalty,p=this.grid[h][d-1]+this.gap_penalty,m=[v,g,p],b=this.arrayAllMaxIndexes(m);this.grid[h][d]=m[b[0]],this.tracebackGrid[h][d]=[b.includes(0),b.includes(1),b.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var c=[];for(c.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});c[0];){var f=c[0],h=this.tracebackGrid[f.pos[0]][f.pos[1]];h[0]&&c.push({pos:[f.pos[0]-1,f.pos[1]-1],seq1:this.sequence1[f.pos[0]-1]+f.seq1,seq2:this.sequence2[f.pos[1]-1]+f.seq2}),h[1]&&c.push({pos:[f.pos[0]-1,f.pos[1]],seq1:this.sequence1[f.pos[0]-1]+f.seq1,seq2:"-"+f.seq2}),h[2]&&c.push({pos:[f.pos[0],f.pos[1]-1],seq1:"-"+f.seq1,seq2:this.sequence2[f.pos[1]-1]+f.seq2}),f.pos[0]===0&&f.pos[1]===0&&this.alignments.push({sequence1:f.seq1,sequence2:f.seq2}),c.shift()}return this.alignments}},{key:"getAllIndexes",value:function(c,f){for(var h=[],d=-1;(d=c.indexOf(f,d+1))!==-1;)h.push(d);return h}},{key:"arrayAllMaxIndexes",value:function(c){return this.getAllIndexes(c,Math.max.apply(null,c))}}]),l}();r.exports=o},function(r,n,a){var i=function(){};i.FDLayout=a(18),i.FDLayoutConstants=a(4),i.FDLayoutEdge=a(19),i.FDLayoutNode=a(20),i.DimensionD=a(21),i.HashMap=a(22),i.HashSet=a(23),i.IGeometry=a(8),i.IMath=a(9),i.Integer=a(10),i.Point=a(12),i.PointD=a(5),i.RandomSeed=a(16),i.RectangleD=a(13),i.Transform=a(17),i.UniqueIDGeneretor=a(14),i.Quicksort=a(25),i.LinkedList=a(11),i.LGraphObject=a(2),i.LGraph=a(6),i.LEdge=a(1),i.LGraphManager=a(7),i.LNode=a(3),i.Layout=a(15),i.LayoutConstants=a(0),i.NeedlemanWunsch=a(27),i.Matrix=a(24),i.SVD=a(26),r.exports=i},function(r,n,a){function i(){this.listeners=[]}var s=i.prototype;s.addListener=function(o,l){this.listeners.push({event:o,callback:l})},s.removeListener=function(o,l){for(var u=this.listeners.length;u>=0;u--){var c=this.listeners[u];c.event===o&&c.callback===l&&this.listeners.splice(u,1)}},s.emit=function(o,l){for(var u=0;u<this.listeners.length;u++){var c=this.listeners[u];o===c.event&&c.callback(l)}},r.exports=i}])})}(Pc)),Pc.exports}var ap;function GP(){return ap||(ap=1,function(t,e){(function(n,a){t.exports=a(HP())})(dd,function(r){return(()=>{var n={45:(o,l,u)=>{var c={};c.layoutBase=u(551),c.CoSEConstants=u(806),c.CoSEEdge=u(767),c.CoSEGraph=u(880),c.CoSEGraphManager=u(578),c.CoSELayout=u(765),c.CoSENode=u(991),c.ConstraintHandler=u(902),o.exports=c},806:(o,l,u)=>{var c=u(551).FDLayoutConstants;function f(){}for(var h in c)f[h]=c[h];f.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,f.DEFAULT_RADIAL_SEPARATION=c.DEFAULT_EDGE_LENGTH,f.DEFAULT_COMPONENT_SEPERATION=60,f.TILE=!0,f.TILING_PADDING_VERTICAL=10,f.TILING_PADDING_HORIZONTAL=10,f.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,f.ENFORCE_CONSTRAINTS=!0,f.APPLY_LAYOUT=!0,f.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,f.TREE_REDUCTION_ON_INCREMENTAL=!0,f.PURE_INCREMENTAL=f.DEFAULT_INCREMENTAL,o.exports=f},767:(o,l,u)=>{var c=u(551).FDLayoutEdge;function f(d,v,g){c.call(this,d,v,g)}f.prototype=Object.create(c.prototype);for(var h in c)f[h]=c[h];o.exports=f},880:(o,l,u)=>{var c=u(551).LGraph;function f(d,v,g){c.call(this,d,v,g)}f.prototype=Object.create(c.prototype);for(var h in c)f[h]=c[h];o.exports=f},578:(o,l,u)=>{var c=u(551).LGraphManager;function f(d){c.call(this,d)}f.prototype=Object.create(c.prototype);for(var h in c)f[h]=c[h];o.exports=f},765:(o,l,u)=>{var c=u(551).FDLayout,f=u(578),h=u(880),d=u(991),v=u(767),g=u(806),p=u(902),m=u(551).FDLayoutConstants,b=u(551).LayoutConstants,y=u(551).Point,w=u(551).PointD,x=u(551).DimensionD,D=u(551).Layout,C=u(551).Integer,N=u(551).IGeometry,k=u(551).LGraph,O=u(551).Transform,F=u(551).LinkedList;function S(){c.call(this),this.toBeTiled={},this.constraints={}}S.prototype=Object.create(c.prototype);for(var P in c)S[P]=c[P];S.prototype.newGraphManager=function(){var E=new f(this);return this.graphManager=E,E},S.prototype.newGraph=function(E){return new h(null,this.graphManager,E)},S.prototype.newNode=function(E){return new d(this.graphManager,E)},S.prototype.newEdge=function(E){return new v(null,null,E)},S.prototype.initParameters=function(){c.prototype.initParameters.call(this,arguments),this.isSubLayout||(g.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=g.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=g.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=m.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=m.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=m.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=m.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},S.prototype.initSpringEmbedder=function(){c.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/m.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},S.prototype.layout=function(){var E=b.DEFAULT_CREATE_BENDS_AS_NEEDED;return E&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},S.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(g.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var L=new Set(this.getAllNodes()),A=this.nodesWithGravity.filter(function(W){return L.has(W)});this.graphManager.setAllNodesToApplyGravitation(A)}}else{var E=this.getFlatForest();if(E.length>0)this.positionNodesRadially(E);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var L=new Set(this.getAllNodes()),A=this.nodesWithGravity.filter(function(T){return L.has(T)});this.graphManager.setAllNodesToApplyGravitation(A),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(p.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),g.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},S.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%m.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var E=new Set(this.getAllNodes()),L=this.nodesWithGravity.filter(function(R){return E.has(R)});this.graphManager.setAllNodesToApplyGravitation(L),this.graphManager.updateBounds(),this.updateGrid(),g.PURE_INCREMENTAL?this.coolingFactor=m.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=m.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),g.PURE_INCREMENTAL?this.coolingFactor=m.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=m.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var A=!this.isTreeGrowing&&!this.isGrowthFinished,T=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(A,T),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},S.prototype.getPositionsData=function(){for(var E=this.graphManager.getAllNodes(),L={},A=0;A<E.length;A++){var T=E[A].rect,R=E[A].id;L[R]={id:R,x:T.getCenterX(),y:T.getCenterY(),w:T.width,h:T.height}}return L},S.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var E=!1;if(m.ANIMATE==="during")this.emit("layoutstarted");else{for(;!E;)E=this.tick();this.graphManager.updateBounds()}},S.prototype.moveNodes=function(){for(var E=this.getAllNodes(),L,A=0;A<E.length;A++)L=E[A],L.calculateDisplacement();Object.keys(this.constraints).length>0&&this.updateDisplacements();for(var A=0;A<E.length;A++)L=E[A],L.move()},S.prototype.initConstraintVariables=function(){var E=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var L=this.graphManager.getAllNodes(),A=0;A<L.length;A++){var T=L[A];this.idToNodeMap.set(T.id,T)}var R=function U(V){for(var X=V.getChild().getNodes(),M,B=0,z=0;z<X.length;z++)M=X[z],M.getChild()==null?E.fixedNodeSet.has(M.id)&&(B+=100):B+=U(M);return B};if(this.constraints.fixedNodeConstraint){this.constraints.fixedNodeConstraint.forEach(function(X){E.fixedNodeSet.add(X.nodeId)});for(var L=this.graphManager.getAllNodes(),T,A=0;A<L.length;A++)if(T=L[A],T.getChild()!=null){var W=R(T);W>0&&(T.fixedNodeWeight=W)}}if(this.constraints.relativePlacementConstraint){var q=new Map,G=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(U){E.fixedNodesOnHorizontal.add(U),E.fixedNodesOnVertical.add(U)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var $=this.constraints.alignmentConstraint.vertical,A=0;A<$.length;A++)this.dummyToNodeForVerticalAlignment.set("dummy"+A,[]),$[A].forEach(function(V){q.set(V,"dummy"+A),E.dummyToNodeForVerticalAlignment.get("dummy"+A).push(V),E.fixedNodeSet.has(V)&&E.fixedNodesOnHorizontal.add("dummy"+A)});if(this.constraints.alignmentConstraint.horizontal)for(var Q=this.constraints.alignmentConstraint.horizontal,A=0;A<Q.length;A++)this.dummyToNodeForHorizontalAlignment.set("dummy"+A,[]),Q[A].forEach(function(V){G.set(V,"dummy"+A),E.dummyToNodeForHorizontalAlignment.get("dummy"+A).push(V),E.fixedNodeSet.has(V)&&E.fixedNodesOnVertical.add("dummy"+A)})}if(g.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(U){var V,X,M;for(M=U.length-1;M>=2*U.length/3;M--)V=Math.floor(Math.random()*(M+1)),X=U[M],U[M]=U[V],U[V]=X;return U},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(U){if(U.left){var V=q.has(U.left)?q.get(U.left):U.left,X=q.has(U.right)?q.get(U.right):U.right;E.nodesInRelativeHorizontal.includes(V)||(E.nodesInRelativeHorizontal.push(V),E.nodeToRelativeConstraintMapHorizontal.set(V,[]),E.dummyToNodeForVerticalAlignment.has(V)?E.nodeToTempPositionMapHorizontal.set(V,E.idToNodeMap.get(E.dummyToNodeForVerticalAlignment.get(V)[0]).getCenterX()):E.nodeToTempPositionMapHorizontal.set(V,E.idToNodeMap.get(V).getCenterX())),E.nodesInRelativeHorizontal.includes(X)||(E.nodesInRelativeHorizontal.push(X),E.nodeToRelativeConstraintMapHorizontal.set(X,[]),E.dummyToNodeForVerticalAlignment.has(X)?E.nodeToTempPositionMapHorizontal.set(X,E.idToNodeMap.get(E.dummyToNodeForVerticalAlignment.get(X)[0]).getCenterX()):E.nodeToTempPositionMapHorizontal.set(X,E.idToNodeMap.get(X).getCenterX())),E.nodeToRelativeConstraintMapHorizontal.get(V).push({right:X,gap:U.gap}),E.nodeToRelativeConstraintMapHorizontal.get(X).push({left:V,gap:U.gap})}else{var M=G.has(U.top)?G.get(U.top):U.top,B=G.has(U.bottom)?G.get(U.bottom):U.bottom;E.nodesInRelativeVertical.includes(M)||(E.nodesInRelativeVertical.push(M),E.nodeToRelativeConstraintMapVertical.set(M,[]),E.dummyToNodeForHorizontalAlignment.has(M)?E.nodeToTempPositionMapVertical.set(M,E.idToNodeMap.get(E.dummyToNodeForHorizontalAlignment.get(M)[0]).getCenterY()):E.nodeToTempPositionMapVertical.set(M,E.idToNodeMap.get(M).getCenterY())),E.nodesInRelativeVertical.includes(B)||(E.nodesInRelativeVertical.push(B),E.nodeToRelativeConstraintMapVertical.set(B,[]),E.dummyToNodeForHorizontalAlignment.has(B)?E.nodeToTempPositionMapVertical.set(B,E.idToNodeMap.get(E.dummyToNodeForHorizontalAlignment.get(B)[0]).getCenterY()):E.nodeToTempPositionMapVertical.set(B,E.idToNodeMap.get(B).getCenterY())),E.nodeToRelativeConstraintMapVertical.get(M).push({bottom:B,gap:U.gap}),E.nodeToRelativeConstraintMapVertical.get(B).push({top:M,gap:U.gap})}});else{var oe=new Map,ie=new Map;this.constraints.relativePlacementConstraint.forEach(function(U){if(U.left){var V=q.has(U.left)?q.get(U.left):U.left,X=q.has(U.right)?q.get(U.right):U.right;oe.has(V)?oe.get(V).push(X):oe.set(V,[X]),oe.has(X)?oe.get(X).push(V):oe.set(X,[V])}else{var M=G.has(U.top)?G.get(U.top):U.top,B=G.has(U.bottom)?G.get(U.bottom):U.bottom;ie.has(M)?ie.get(M).push(B):ie.set(M,[B]),ie.has(B)?ie.get(B).push(M):ie.set(B,[M])}});var ae=function(V,X){var M=[],B=[],z=new F,K=new Set,ee=0;return V.forEach(function(ne,se){if(!K.has(se)){M[ee]=[],B[ee]=!1;var ue=se;for(z.push(ue),K.add(ue),M[ee].push(ue);z.length!=0;){ue=z.shift(),X.has(ue)&&(B[ee]=!0);var le=V.get(ue);le.forEach(function(ce){K.has(ce)||(z.push(ce),K.add(ce),M[ee].push(ce))})}ee++}}),{components:M,isFixed:B}},Y=ae(oe,E.fixedNodesOnHorizontal);this.componentsOnHorizontal=Y.components,this.fixedComponentsOnHorizontal=Y.isFixed;var re=ae(ie,E.fixedNodesOnVertical);this.componentsOnVertical=re.components,this.fixedComponentsOnVertical=re.isFixed}}},S.prototype.updateDisplacements=function(){var E=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(re){var U=E.idToNodeMap.get(re.nodeId);U.displacementX=0,U.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var L=this.constraints.alignmentConstraint.vertical,A=0;A<L.length;A++){for(var T=0,R=0;R<L[A].length;R++){if(this.fixedNodeSet.has(L[A][R])){T=0;break}T+=this.idToNodeMap.get(L[A][R]).displacementX}for(var W=T/L[A].length,R=0;R<L[A].length;R++)this.idToNodeMap.get(L[A][R]).displacementX=W}if(this.constraints.alignmentConstraint.horizontal)for(var q=this.constraints.alignmentConstraint.horizontal,A=0;A<q.length;A++){for(var G=0,R=0;R<q[A].length;R++){if(this.fixedNodeSet.has(q[A][R])){G=0;break}G+=this.idToNodeMap.get(q[A][R]).displacementY}for(var $=G/q[A].length,R=0;R<q[A].length;R++)this.idToNodeMap.get(q[A][R]).displacementY=$}}if(this.constraints.relativePlacementConstraint)if(g.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(re){if(!E.fixedNodesOnHorizontal.has(re)){var U=0;E.dummyToNodeForVerticalAlignment.has(re)?U=E.idToNodeMap.get(E.dummyToNodeForVerticalAlignment.get(re)[0]).displacementX:U=E.idToNodeMap.get(re).displacementX,E.nodeToRelativeConstraintMapHorizontal.get(re).forEach(function(V){if(V.right){var X=E.nodeToTempPositionMapHorizontal.get(V.right)-E.nodeToTempPositionMapHorizontal.get(re)-U;X<V.gap&&(U-=V.gap-X)}else{var X=E.nodeToTempPositionMapHorizontal.get(re)-E.nodeToTempPositionMapHorizontal.get(V.left)+U;X<V.gap&&(U+=V.gap-X)}}),E.nodeToTempPositionMapHorizontal.set(re,E.nodeToTempPositionMapHorizontal.get(re)+U),E.dummyToNodeForVerticalAlignment.has(re)?E.dummyToNodeForVerticalAlignment.get(re).forEach(function(V){E.idToNodeMap.get(V).displacementX=U}):E.idToNodeMap.get(re).displacementX=U}}),this.nodesInRelativeVertical.forEach(function(re){if(!E.fixedNodesOnHorizontal.has(re)){var U=0;E.dummyToNodeForHorizontalAlignment.has(re)?U=E.idToNodeMap.get(E.dummyToNodeForHorizontalAlignment.get(re)[0]).displacementY:U=E.idToNodeMap.get(re).displacementY,E.nodeToRelativeConstraintMapVertical.get(re).forEach(function(V){if(V.bottom){var X=E.nodeToTempPositionMapVertical.get(V.bottom)-E.nodeToTempPositionMapVertical.get(re)-U;X<V.gap&&(U-=V.gap-X)}else{var X=E.nodeToTempPositionMapVertical.get(re)-E.nodeToTempPositionMapVertical.get(V.top)+U;X<V.gap&&(U+=V.gap-X)}}),E.nodeToTempPositionMapVertical.set(re,E.nodeToTempPositionMapVertical.get(re)+U),E.dummyToNodeForHorizontalAlignment.has(re)?E.dummyToNodeForHorizontalAlignment.get(re).forEach(function(V){E.idToNodeMap.get(V).displacementY=U}):E.idToNodeMap.get(re).displacementY=U}});else{for(var A=0;A<this.componentsOnHorizontal.length;A++){var Q=this.componentsOnHorizontal[A];if(this.fixedComponentsOnHorizontal[A])for(var R=0;R<Q.length;R++)this.dummyToNodeForVerticalAlignment.has(Q[R])?this.dummyToNodeForVerticalAlignment.get(Q[R]).forEach(function(V){E.idToNodeMap.get(V).displacementX=0}):this.idToNodeMap.get(Q[R]).displacementX=0;else{for(var oe=0,ie=0,R=0;R<Q.length;R++)if(this.dummyToNodeForVerticalAlignment.has(Q[R])){var ae=this.dummyToNodeForVerticalAlignment.get(Q[R]);oe+=ae.length*this.idToNodeMap.get(ae[0]).displacementX,ie+=ae.length}else oe+=this.idToNodeMap.get(Q[R]).displacementX,ie++;for(var Y=oe/ie,R=0;R<Q.length;R++)this.dummyToNodeForVerticalAlignment.has(Q[R])?this.dummyToNodeForVerticalAlignment.get(Q[R]).forEach(function(V){E.idToNodeMap.get(V).displacementX=Y}):this.idToNodeMap.get(Q[R]).displacementX=Y}}for(var A=0;A<this.componentsOnVertical.length;A++){var Q=this.componentsOnVertical[A];if(this.fixedComponentsOnVertical[A])for(var R=0;R<Q.length;R++)this.dummyToNodeForHorizontalAlignment.has(Q[R])?this.dummyToNodeForHorizontalAlignment.get(Q[R]).forEach(function(X){E.idToNodeMap.get(X).displacementY=0}):this.idToNodeMap.get(Q[R]).displacementY=0;else{for(var oe=0,ie=0,R=0;R<Q.length;R++)if(this.dummyToNodeForHorizontalAlignment.has(Q[R])){var ae=this.dummyToNodeForHorizontalAlignment.get(Q[R]);oe+=ae.length*this.idToNodeMap.get(ae[0]).displacementY,ie+=ae.length}else oe+=this.idToNodeMap.get(Q[R]).displacementY,ie++;for(var Y=oe/ie,R=0;R<Q.length;R++)this.dummyToNodeForHorizontalAlignment.has(Q[R])?this.dummyToNodeForHorizontalAlignment.get(Q[R]).forEach(function(z){E.idToNodeMap.get(z).displacementY=Y}):this.idToNodeMap.get(Q[R]).displacementY=Y}}}},S.prototype.calculateNodesToApplyGravitationTo=function(){var E=[],L,A=this.graphManager.getGraphs(),T=A.length,R;for(R=0;R<T;R++)L=A[R],L.updateConnected(),L.isConnected||(E=E.concat(L.getNodes()));return E},S.prototype.createBendpoints=function(){var E=[];E=E.concat(this.graphManager.getAllEdges());var L=new Set,A;for(A=0;A<E.length;A++){var T=E[A];if(!L.has(T)){var R=T.getSource(),W=T.getTarget();if(R==W)T.getBendpoints().push(new w),T.getBendpoints().push(new w),this.createDummyNodesForBendpoints(T),L.add(T);else{var q=[];if(q=q.concat(R.getEdgeListToNode(W)),q=q.concat(W.getEdgeListToNode(R)),!L.has(q[0])){if(q.length>1){var G;for(G=0;G<q.length;G++){var $=q[G];$.getBendpoints().push(new w),this.createDummyNodesForBendpoints($)}}q.forEach(function(Q){L.add(Q)})}}}if(L.size==E.length)break}},S.prototype.positionNodesRadially=function(E){for(var L=new y(0,0),A=Math.ceil(Math.sqrt(E.length)),T=0,R=0,W=0,q=new w(0,0),G=0;G<E.length;G++){G%A==0&&(W=0,R=T,G!=0&&(R+=g.DEFAULT_COMPONENT_SEPERATION),T=0);var $=E[G],Q=D.findCenterOfTree($);L.x=W,L.y=R,q=S.radialLayout($,Q,L),q.y>T&&(T=Math.floor(q.y)),W=Math.floor(q.x+g.DEFAULT_COMPONENT_SEPERATION)}this.transform(new w(b.WORLD_CENTER_X-q.x/2,b.WORLD_CENTER_Y-q.y/2))},S.radialLayout=function(E,L,A){var T=Math.max(this.maxDiagonalInTree(E),g.DEFAULT_RADIAL_SEPARATION);S.branchRadialLayout(L,null,0,359,0,T);var R=k.calculateBounds(E),W=new O;W.setDeviceOrgX(R.getMinX()),W.setDeviceOrgY(R.getMinY()),W.setWorldOrgX(A.x),W.setWorldOrgY(A.y);for(var q=0;q<E.length;q++){var G=E[q];G.transform(W)}var $=new w(R.getMaxX(),R.getMaxY());return W.inverseTransformPoint($)},S.branchRadialLayout=function(E,L,A,T,R,W){var q=(T-A+1)/2;q<0&&(q+=180);var G=(q+A)%360,$=G*N.TWO_PI/360,Q=R*Math.cos($),oe=R*Math.sin($);E.setCenter(Q,oe);var ie=[];ie=ie.concat(E.getEdges());var ae=ie.length;L!=null&&ae--;for(var Y=0,re=ie.length,U,V=E.getEdgesBetween(L);V.length>1;){var X=V[0];V.splice(0,1);var M=ie.indexOf(X);M>=0&&ie.splice(M,1),re--,ae--}L!=null?U=(ie.indexOf(V[0])+1)%re:U=0;for(var B=Math.abs(T-A)/ae,z=U;Y!=ae;z=++z%re){var K=ie[z].getOtherEnd(E);if(K!=L){var ee=(A+Y*B)%360,ne=(ee+B)%360;S.branchRadialLayout(K,E,ee,ne,R+W,W),Y++}}},S.maxDiagonalInTree=function(E){for(var L=C.MIN_VALUE,A=0;A<E.length;A++){var T=E[A],R=T.getDiagonal();R>L&&(L=R)}return L},S.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},S.prototype.groupZeroDegreeMembers=function(){var E=this,L={};this.memberGroups={},this.idToDummyNode={};for(var A=[],T=this.graphManager.getAllNodes(),R=0;R<T.length;R++){var W=T[R],q=W.getParent();this.getNodeDegreeWithChildren(W)===0&&(q.id==null||!this.getToBeTiled(q))&&A.push(W)}for(var R=0;R<A.length;R++){var W=A[R],G=W.getParent().id;typeof L[G]>"u"&&(L[G]=[]),L[G]=L[G].concat(W)}Object.keys(L).forEach(function($){if(L[$].length>1){var Q="DummyCompound_"+$;E.memberGroups[Q]=L[$];var oe=L[$][0].getParent(),ie=new d(E.graphManager);ie.id=Q,ie.paddingLeft=oe.paddingLeft||0,ie.paddingRight=oe.paddingRight||0,ie.paddingBottom=oe.paddingBottom||0,ie.paddingTop=oe.paddingTop||0,E.idToDummyNode[Q]=ie;var ae=E.getGraphManager().add(E.newGraph(),ie),Y=oe.getChild();Y.add(ie);for(var re=0;re<L[$].length;re++){var U=L[$][re];Y.remove(U),ae.add(U)}}})},S.prototype.clearCompounds=function(){var E={},L={};this.performDFSOnCompounds();for(var A=0;A<this.compoundOrder.length;A++)L[this.compoundOrder[A].id]=this.compoundOrder[A],E[this.compoundOrder[A].id]=[].concat(this.compoundOrder[A].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[A].getChild()),this.compoundOrder[A].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(E,L)},S.prototype.clearZeroDegreeMembers=function(){var E=this,L=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(A){var T=E.idToDummyNode[A];if(L[A]=E.tileNodes(E.memberGroups[A],T.paddingLeft+T.paddingRight),T.rect.width=L[A].width,T.rect.height=L[A].height,T.setCenter(L[A].centerX,L[A].centerY),T.labelMarginLeft=0,T.labelMarginTop=0,g.NODE_DIMENSIONS_INCLUDE_LABELS){var R=T.rect.width,W=T.rect.height;T.labelWidth&&(T.labelPosHorizontal=="left"?(T.rect.x-=T.labelWidth,T.setWidth(R+T.labelWidth),T.labelMarginLeft=T.labelWidth):T.labelPosHorizontal=="center"&&T.labelWidth>R?(T.rect.x-=(T.labelWidth-R)/2,T.setWidth(T.labelWidth),T.labelMarginLeft=(T.labelWidth-R)/2):T.labelPosHorizontal=="right"&&T.setWidth(R+T.labelWidth)),T.labelHeight&&(T.labelPosVertical=="top"?(T.rect.y-=T.labelHeight,T.setHeight(W+T.labelHeight),T.labelMarginTop=T.labelHeight):T.labelPosVertical=="center"&&T.labelHeight>W?(T.rect.y-=(T.labelHeight-W)/2,T.setHeight(T.labelHeight),T.labelMarginTop=(T.labelHeight-W)/2):T.labelPosVertical=="bottom"&&T.setHeight(W+T.labelHeight))}})},S.prototype.repopulateCompounds=function(){for(var E=this.compoundOrder.length-1;E>=0;E--){var L=this.compoundOrder[E],A=L.id,T=L.paddingLeft,R=L.paddingTop,W=L.labelMarginLeft,q=L.labelMarginTop;this.adjustLocations(this.tiledMemberPack[A],L.rect.x,L.rect.y,T,R,W,q)}},S.prototype.repopulateZeroDegreeMembers=function(){var E=this,L=this.tiledZeroDegreePack;Object.keys(L).forEach(function(A){var T=E.idToDummyNode[A],R=T.paddingLeft,W=T.paddingTop,q=T.labelMarginLeft,G=T.labelMarginTop;E.adjustLocations(L[A],T.rect.x,T.rect.y,R,W,q,G)})},S.prototype.getToBeTiled=function(E){var L=E.id;if(this.toBeTiled[L]!=null)return this.toBeTiled[L];var A=E.getChild();if(A==null)return this.toBeTiled[L]=!1,!1;for(var T=A.getNodes(),R=0;R<T.length;R++){var W=T[R];if(this.getNodeDegree(W)>0)return this.toBeTiled[L]=!1,!1;if(W.getChild()==null){this.toBeTiled[W.id]=!1;continue}if(!this.getToBeTiled(W))return this.toBeTiled[L]=!1,!1}return this.toBeTiled[L]=!0,!0},S.prototype.getNodeDegree=function(E){E.id;for(var L=E.getEdges(),A=0,T=0;T<L.length;T++){var R=L[T];R.getSource().id!==R.getTarget().id&&(A=A+1)}return A},S.prototype.getNodeDegreeWithChildren=function(E){var L=this.getNodeDegree(E);if(E.getChild()==null)return L;for(var A=E.getChild().getNodes(),T=0;T<A.length;T++){var R=A[T];L+=this.getNodeDegreeWithChildren(R)}return L},S.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},S.prototype.fillCompexOrderByDFS=function(E){for(var L=0;L<E.length;L++){var A=E[L];A.getChild()!=null&&this.fillCompexOrderByDFS(A.getChild().getNodes()),this.getToBeTiled(A)&&this.compoundOrder.push(A)}},S.prototype.adjustLocations=function(E,L,A,T,R,W,q){L+=T+W,A+=R+q;for(var G=L,$=0;$<E.rows.length;$++){var Q=E.rows[$];L=G;for(var oe=0,ie=0;ie<Q.length;ie++){var ae=Q[ie];ae.rect.x=L,ae.rect.y=A,L+=ae.rect.width+E.horizontalPadding,ae.rect.height>oe&&(oe=ae.rect.height)}A+=oe+E.verticalPadding}},S.prototype.tileCompoundMembers=function(E,L){var A=this;this.tiledMemberPack=[],Object.keys(E).forEach(function(T){var R=L[T];if(A.tiledMemberPack[T]=A.tileNodes(E[T],R.paddingLeft+R.paddingRight),R.rect.width=A.tiledMemberPack[T].width,R.rect.height=A.tiledMemberPack[T].height,R.setCenter(A.tiledMemberPack[T].centerX,A.tiledMemberPack[T].centerY),R.labelMarginLeft=0,R.labelMarginTop=0,g.NODE_DIMENSIONS_INCLUDE_LABELS){var W=R.rect.width,q=R.rect.height;R.labelWidth&&(R.labelPosHorizontal=="left"?(R.rect.x-=R.labelWidth,R.setWidth(W+R.labelWidth),R.labelMarginLeft=R.labelWidth):R.labelPosHorizontal=="center"&&R.labelWidth>W?(R.rect.x-=(R.labelWidth-W)/2,R.setWidth(R.labelWidth),R.labelMarginLeft=(R.labelWidth-W)/2):R.labelPosHorizontal=="right"&&R.setWidth(W+R.labelWidth)),R.labelHeight&&(R.labelPosVertical=="top"?(R.rect.y-=R.labelHeight,R.setHeight(q+R.labelHeight),R.labelMarginTop=R.labelHeight):R.labelPosVertical=="center"&&R.labelHeight>q?(R.rect.y-=(R.labelHeight-q)/2,R.setHeight(R.labelHeight),R.labelMarginTop=(R.labelHeight-q)/2):R.labelPosVertical=="bottom"&&R.setHeight(q+R.labelHeight))}})},S.prototype.tileNodes=function(E,L){var A=this.tileNodesByFavoringDim(E,L,!0),T=this.tileNodesByFavoringDim(E,L,!1),R=this.getOrgRatio(A),W=this.getOrgRatio(T),q;return W<R?q=T:q=A,q},S.prototype.getOrgRatio=function(E){var L=E.width,A=E.height,T=L/A;return T<1&&(T=1/T),T},S.prototype.calcIdealRowWidth=function(E,L){var A=g.TILING_PADDING_VERTICAL,T=g.TILING_PADDING_HORIZONTAL,R=E.length,W=0,q=0,G=0;E.forEach(function(re){W+=re.getWidth(),q+=re.getHeight(),re.getWidth()>G&&(G=re.getWidth())});var $=W/R,Q=q/R,oe=Math.pow(A-T,2)+4*($+T)*(Q+A)*R,ie=(T-A+Math.sqrt(oe))/(2*($+T)),ae;L?(ae=Math.ceil(ie),ae==ie&&ae++):ae=Math.floor(ie);var Y=ae*($+T)-T;return G>Y&&(Y=G),Y+=T*2,Y},S.prototype.tileNodesByFavoringDim=function(E,L,A){var T=g.TILING_PADDING_VERTICAL,R=g.TILING_PADDING_HORIZONTAL,W=g.TILING_COMPARE_BY,q={rows:[],rowWidth:[],rowHeight:[],width:0,height:L,verticalPadding:T,horizontalPadding:R,centerX:0,centerY:0};W&&(q.idealRowWidth=this.calcIdealRowWidth(E,A));var G=function(U){return U.rect.width*U.rect.height},$=function(U,V){return G(V)-G(U)};E.sort(function(re,U){var V=$;return q.idealRowWidth?(V=W,V(re.id,U.id)):V(re,U)});for(var Q=0,oe=0,ie=0;ie<E.length;ie++){var ae=E[ie];Q+=ae.getCenterX(),oe+=ae.getCenterY()}q.centerX=Q/E.length,q.centerY=oe/E.length;for(var ie=0;ie<E.length;ie++){var ae=E[ie];if(q.rows.length==0)this.insertNodeToRow(q,ae,0,L);else if(this.canAddHorizontal(q,ae.rect.width,ae.rect.height)){var Y=q.rows.length-1;q.idealRowWidth||(Y=this.getShortestRowIndex(q)),this.insertNodeToRow(q,ae,Y,L)}else this.insertNodeToRow(q,ae,q.rows.length,L);this.shiftToLastRow(q)}return q},S.prototype.insertNodeToRow=function(E,L,A,T){var R=T;if(A==E.rows.length){var W=[];E.rows.push(W),E.rowWidth.push(R),E.rowHeight.push(0)}var q=E.rowWidth[A]+L.rect.width;E.rows[A].length>0&&(q+=E.horizontalPadding),E.rowWidth[A]=q,E.width<q&&(E.width=q);var G=L.rect.height;A>0&&(G+=E.verticalPadding);var $=0;G>E.rowHeight[A]&&($=E.rowHeight[A],E.rowHeight[A]=G,$=E.rowHeight[A]-$),E.height+=$,E.rows[A].push(L)},S.prototype.getShortestRowIndex=function(E){for(var L=-1,A=Number.MAX_VALUE,T=0;T<E.rows.length;T++)E.rowWidth[T]<A&&(L=T,A=E.rowWidth[T]);return L},S.prototype.getLongestRowIndex=function(E){for(var L=-1,A=Number.MIN_VALUE,T=0;T<E.rows.length;T++)E.rowWidth[T]>A&&(L=T,A=E.rowWidth[T]);return L},S.prototype.canAddHorizontal=function(E,L,A){if(E.idealRowWidth){var T=E.rows.length-1,R=E.rowWidth[T];return R+L+E.horizontalPadding<=E.idealRowWidth}var W=this.getShortestRowIndex(E);if(W<0)return!0;var q=E.rowWidth[W];if(q+E.horizontalPadding+L<=E.width)return!0;var G=0;E.rowHeight[W]<A&&W>0&&(G=A+E.verticalPadding-E.rowHeight[W]);var $;E.width-q>=L+E.horizontalPadding?$=(E.height+G)/(q+L+E.horizontalPadding):$=(E.height+G)/E.width,G=A+E.verticalPadding;var Q;return E.width<L?Q=(E.height+G)/L:Q=(E.height+G)/E.width,Q<1&&(Q=1/Q),$<1&&($=1/$),$<Q},S.prototype.shiftToLastRow=function(E){var L=this.getLongestRowIndex(E),A=E.rowWidth.length-1,T=E.rows[L],R=T[T.length-1],W=R.width+E.horizontalPadding;if(E.width-E.rowWidth[A]>W&&L!=A){T.splice(-1,1),E.rows[A].push(R),E.rowWidth[L]=E.rowWidth[L]-W,E.rowWidth[A]=E.rowWidth[A]+W,E.width=E.rowWidth[instance.getLongestRowIndex(E)];for(var q=Number.MIN_VALUE,G=0;G<T.length;G++)T[G].height>q&&(q=T[G].height);L>0&&(q+=E.verticalPadding);var $=E.rowHeight[L]+E.rowHeight[A];E.rowHeight[L]=q,E.rowHeight[A]<R.height+E.verticalPadding&&(E.rowHeight[A]=R.height+E.verticalPadding);var Q=E.rowHeight[L]+E.rowHeight[A];E.height+=Q-$,this.shiftToLastRow(E)}},S.prototype.tilingPreLayout=function(){g.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},S.prototype.tilingPostLayout=function(){g.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},S.prototype.reduceTrees=function(){for(var E=[],L=!0,A;L;){var T=this.graphManager.getAllNodes(),R=[];L=!1;for(var W=0;W<T.length;W++)if(A=T[W],A.getEdges().length==1&&!A.getEdges()[0].isInterGraph&&A.getChild()==null){if(g.PURE_INCREMENTAL){var q=A.getEdges()[0].getOtherEnd(A),G=new x(A.getCenterX()-q.getCenterX(),A.getCenterY()-q.getCenterY());R.push([A,A.getEdges()[0],A.getOwner(),G])}else R.push([A,A.getEdges()[0],A.getOwner()]);L=!0}if(L==!0){for(var $=[],Q=0;Q<R.length;Q++)R[Q][0].getEdges().length==1&&($.push(R[Q]),R[Q][0].getOwner().remove(R[Q][0]));E.push($),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=E},S.prototype.growTree=function(E){for(var L=E.length,A=E[L-1],T,R=0;R<A.length;R++)T=A[R],this.findPlaceforPrunedNode(T),T[2].add(T[0]),T[2].add(T[1],T[1].source,T[1].target);E.splice(E.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},S.prototype.findPlaceforPrunedNode=function(E){var L,A,T=E[0];if(T==E[1].source?A=E[1].target:A=E[1].source,g.PURE_INCREMENTAL)T.setCenter(A.getCenterX()+E[3].getWidth(),A.getCenterY()+E[3].getHeight());else{var R=A.startX,W=A.finishX,q=A.startY,G=A.finishY,$=0,Q=0,oe=0,ie=0,ae=[$,oe,Q,ie];if(q>0)for(var Y=R;Y<=W;Y++)ae[0]+=this.grid[Y][q-1].length+this.grid[Y][q].length-1;if(W<this.grid.length-1)for(var Y=q;Y<=G;Y++)ae[1]+=this.grid[W+1][Y].length+this.grid[W][Y].length-1;if(G<this.grid[0].length-1)for(var Y=R;Y<=W;Y++)ae[2]+=this.grid[Y][G+1].length+this.grid[Y][G].length-1;if(R>0)for(var Y=q;Y<=G;Y++)ae[3]+=this.grid[R-1][Y].length+this.grid[R][Y].length-1;for(var re=C.MAX_VALUE,U,V,X=0;X<ae.length;X++)ae[X]<re?(re=ae[X],U=1,V=X):ae[X]==re&&U++;if(U==3&&re==0)ae[0]==0&&ae[1]==0&&ae[2]==0?L=1:ae[0]==0&&ae[1]==0&&ae[3]==0?L=0:ae[0]==0&&ae[2]==0&&ae[3]==0?L=3:ae[1]==0&&ae[2]==0&&ae[3]==0&&(L=2);else if(U==2&&re==0){var M=Math.floor(Math.random()*2);ae[0]==0&&ae[1]==0?M==0?L=0:L=1:ae[0]==0&&ae[2]==0?M==0?L=0:L=2:ae[0]==0&&ae[3]==0?M==0?L=0:L=3:ae[1]==0&&ae[2]==0?M==0?L=1:L=2:ae[1]==0&&ae[3]==0?M==0?L=1:L=3:M==0?L=2:L=3}else if(U==4&&re==0){var M=Math.floor(Math.random()*4);L=M}else L=V;L==0?T.setCenter(A.getCenterX(),A.getCenterY()-A.getHeight()/2-m.DEFAULT_EDGE_LENGTH-T.getHeight()/2):L==1?T.setCenter(A.getCenterX()+A.getWidth()/2+m.DEFAULT_EDGE_LENGTH+T.getWidth()/2,A.getCenterY()):L==2?T.setCenter(A.getCenterX(),A.getCenterY()+A.getHeight()/2+m.DEFAULT_EDGE_LENGTH+T.getHeight()/2):T.setCenter(A.getCenterX()-A.getWidth()/2-m.DEFAULT_EDGE_LENGTH-T.getWidth()/2,A.getCenterY())}},o.exports=S},991:(o,l,u)=>{var c=u(551).FDLayoutNode,f=u(551).IMath;function h(v,g,p,m){c.call(this,v,g,p,m)}h.prototype=Object.create(c.prototype);for(var d in c)h[d]=c[d];h.prototype.calculateDisplacement=function(){var v=this.graphManager.getLayout();this.getChild()!=null&&this.fixedNodeWeight?(this.displacementX+=v.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=v.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=v.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=v.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>v.coolingFactor*v.maxNodeDisplacement&&(this.displacementX=v.coolingFactor*v.maxNodeDisplacement*f.sign(this.displacementX)),Math.abs(this.displacementY)>v.coolingFactor*v.maxNodeDisplacement&&(this.displacementY=v.coolingFactor*v.maxNodeDisplacement*f.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},h.prototype.propogateDisplacementToChildren=function(v,g){for(var p=this.getChild().getNodes(),m,b=0;b<p.length;b++)m=p[b],m.getChild()==null?(m.displacementX+=v,m.displacementY+=g):m.propogateDisplacementToChildren(v,g)},h.prototype.move=function(){var v=this.graphManager.getLayout();(this.child==null||this.child.getNodes().length==0)&&(this.moveBy(this.displacementX,this.displacementY),v.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},h.prototype.setPred1=function(v){this.pred1=v},h.prototype.getPred1=function(){return pred1},h.prototype.getPred2=function(){return pred2},h.prototype.setNext=function(v){this.next=v},h.prototype.getNext=function(){return next},h.prototype.setProcessed=function(v){this.processed=v},h.prototype.isProcessed=function(){return processed},o.exports=h},902:(o,l,u)=>{function c(p){if(Array.isArray(p)){for(var m=0,b=Array(p.length);m<p.length;m++)b[m]=p[m];return b}else return Array.from(p)}var f=u(806),h=u(551).LinkedList,d=u(551).Matrix,v=u(551).SVD;function g(){}g.handleConstraints=function(p){var m={};m.fixedNodeConstraint=p.constraints.fixedNodeConstraint,m.alignmentConstraint=p.constraints.alignmentConstraint,m.relativePlacementConstraint=p.constraints.relativePlacementConstraint;for(var b=new Map,y=new Map,w=[],x=[],D=p.getAllNodes(),C=0,N=0;N<D.length;N++){var k=D[N];k.getChild()==null&&(y.set(k.id,C++),w.push(k.getCenterX()),x.push(k.getCenterY()),b.set(k.id,k))}m.relativePlacementConstraint&&m.relativePlacementConstraint.forEach(function(j){!j.gap&&j.gap!=0&&(j.left?j.gap=f.DEFAULT_EDGE_LENGTH+b.get(j.left).getWidth()/2+b.get(j.right).getWidth()/2:j.gap=f.DEFAULT_EDGE_LENGTH+b.get(j.top).getHeight()/2+b.get(j.bottom).getHeight()/2)});var O=function(I,J){return{x:I.x-J.x,y:I.y-J.y}},F=function(I){var J=0,H=0;return I.forEach(function(Z){J+=w[y.get(Z)],H+=x[y.get(Z)]}),{x:J/I.size,y:H/I.size}},S=function(I,J,H,Z,te){function ve(Se,Ce){var He=new Set(Se),Fe=!0,Be=!1,Qe=void 0;try{for(var Ue=Ce[Symbol.iterator](),Ge;!(Fe=(Ge=Ue.next()).done);Fe=!0){var st=Ge.value;He.add(st)}}catch(vt){Be=!0,Qe=vt}finally{try{!Fe&&Ue.return&&Ue.return()}finally{if(Be)throw Qe}}return He}var fe=new Map;I.forEach(function(Se,Ce){fe.set(Ce,0)}),I.forEach(function(Se,Ce){Se.forEach(function(He){fe.set(He.id,fe.get(He.id)+1)})});var he=new Map,ge=new Map,we=new h;fe.forEach(function(Se,Ce){Se==0?(we.push(Ce),H||(J=="horizontal"?he.set(Ce,y.has(Ce)?w[y.get(Ce)]:Z.get(Ce)):he.set(Ce,y.has(Ce)?x[y.get(Ce)]:Z.get(Ce)))):he.set(Ce,Number.NEGATIVE_INFINITY),H&&ge.set(Ce,new Set([Ce]))}),H&&te.forEach(function(Se){var Ce=[];if(Se.forEach(function(Be){H.has(Be)&&Ce.push(Be)}),Ce.length>0){var He=0;Ce.forEach(function(Be){J=="horizontal"?(he.set(Be,y.has(Be)?w[y.get(Be)]:Z.get(Be)),He+=he.get(Be)):(he.set(Be,y.has(Be)?x[y.get(Be)]:Z.get(Be)),He+=he.get(Be))}),He=He/Ce.length,Se.forEach(function(Be){H.has(Be)||he.set(Be,He)})}else{var Fe=0;Se.forEach(function(Be){J=="horizontal"?Fe+=y.has(Be)?w[y.get(Be)]:Z.get(Be):Fe+=y.has(Be)?x[y.get(Be)]:Z.get(Be)}),Fe=Fe/Se.length,Se.forEach(function(Be){he.set(Be,Fe)})}});for(var Oe=function(){var Ce=we.shift(),He=I.get(Ce);He.forEach(function(Fe){if(he.get(Fe.id)<he.get(Ce)+Fe.gap)if(H&&H.has(Fe.id)){var Be=void 0;if(J=="horizontal"?Be=y.has(Fe.id)?w[y.get(Fe.id)]:Z.get(Fe.id):Be=y.has(Fe.id)?x[y.get(Fe.id)]:Z.get(Fe.id),he.set(Fe.id,Be),Be<he.get(Ce)+Fe.gap){var Qe=he.get(Ce)+Fe.gap-Be;ge.get(Ce).forEach(function(Ue){he.set(Ue,he.get(Ue)-Qe)})}}else he.set(Fe.id,he.get(Ce)+Fe.gap);fe.set(Fe.id,fe.get(Fe.id)-1),fe.get(Fe.id)==0&&we.push(Fe.id),H&&ge.set(Fe.id,ve(ge.get(Ce),ge.get(Fe.id)))})};we.length!=0;)Oe();if(H){var Le=new Set;I.forEach(function(Se,Ce){Se.length==0&&Le.add(Ce)});var Re=[];ge.forEach(function(Se,Ce){if(Le.has(Ce)){var He=!1,Fe=!0,Be=!1,Qe=void 0;try{for(var Ue=Se[Symbol.iterator](),Ge;!(Fe=(Ge=Ue.next()).done);Fe=!0){var st=Ge.value;H.has(st)&&(He=!0)}}catch(nt){Be=!0,Qe=nt}finally{try{!Fe&&Ue.return&&Ue.return()}finally{if(Be)throw Qe}}if(!He){var vt=!1,je=void 0;Re.forEach(function(nt,Nt){nt.has([].concat(c(Se))[0])&&(vt=!0,je=Nt)}),vt?Se.forEach(function(nt){Re[je].add(nt)}):Re.push(new Set(Se))}}}),Re.forEach(function(Se,Ce){var He=Number.POSITIVE_INFINITY,Fe=Number.POSITIVE_INFINITY,Be=Number.NEGATIVE_INFINITY,Qe=Number.NEGATIVE_INFINITY,Ue=!0,Ge=!1,st=void 0;try{for(var vt=Se[Symbol.iterator](),je;!(Ue=(je=vt.next()).done);Ue=!0){var nt=je.value,Nt=void 0;J=="horizontal"?Nt=y.has(nt)?w[y.get(nt)]:Z.get(nt):Nt=y.has(nt)?x[y.get(nt)]:Z.get(nt);var Cr=he.get(nt);Nt<He&&(He=Nt),Nt>Be&&(Be=Nt),Cr<Fe&&(Fe=Cr),Cr>Qe&&(Qe=Cr)}}catch(an){Ge=!0,st=an}finally{try{!Ue&&vt.return&&vt.return()}finally{if(Ge)throw st}}var Cn=(He+Be)/2-(Fe+Qe)/2,lr=!0,Mt=!1,Ct=void 0;try{for(var Dt=Se[Symbol.iterator](),qr;!(lr=(qr=Dt.next()).done);lr=!0){var _t=qr.value;he.set(_t,he.get(_t)+Cn)}}catch(an){Mt=!0,Ct=an}finally{try{!lr&&Dt.return&&Dt.return()}finally{if(Mt)throw Ct}}})}return he},P=function(I){var J=0,H=0,Z=0,te=0;if(I.forEach(function(ge){ge.left?w[y.get(ge.left)]-w[y.get(ge.right)]>=0?J++:H++:x[y.get(ge.top)]-x[y.get(ge.bottom)]>=0?Z++:te++}),J>H&&Z>te)for(var ve=0;ve<y.size;ve++)w[ve]=-1*w[ve],x[ve]=-1*x[ve];else if(J>H)for(var fe=0;fe<y.size;fe++)w[fe]=-1*w[fe];else if(Z>te)for(var he=0;he<y.size;he++)x[he]=-1*x[he]},E=function(I){var J=[],H=new h,Z=new Set,te=0;return I.forEach(function(ve,fe){if(!Z.has(fe)){J[te]=[];var he=fe;for(H.push(he),Z.add(he),J[te].push(he);H.length!=0;){he=H.shift();var ge=I.get(he);ge.forEach(function(we){Z.has(we.id)||(H.push(we.id),Z.add(we.id),J[te].push(we.id))})}te++}}),J},L=function(I){var J=new Map;return I.forEach(function(H,Z){J.set(Z,[])}),I.forEach(function(H,Z){H.forEach(function(te){J.get(Z).push(te),J.get(te.id).push({id:Z,gap:te.gap,direction:te.direction})})}),J},A=function(I){var J=new Map;return I.forEach(function(H,Z){J.set(Z,[])}),I.forEach(function(H,Z){H.forEach(function(te){J.get(te.id).push({id:Z,gap:te.gap,direction:te.direction})})}),J},T=[],R=[],W=!1,q=!1,G=new Set,$=new Map,Q=new Map,oe=[];if(m.fixedNodeConstraint&&m.fixedNodeConstraint.forEach(function(j){G.add(j.nodeId)}),m.relativePlacementConstraint&&(m.relativePlacementConstraint.forEach(function(j){j.left?($.has(j.left)?$.get(j.left).push({id:j.right,gap:j.gap,direction:"horizontal"}):$.set(j.left,[{id:j.right,gap:j.gap,direction:"horizontal"}]),$.has(j.right)||$.set(j.right,[])):($.has(j.top)?$.get(j.top).push({id:j.bottom,gap:j.gap,direction:"vertical"}):$.set(j.top,[{id:j.bottom,gap:j.gap,direction:"vertical"}]),$.has(j.bottom)||$.set(j.bottom,[]))}),Q=L($),oe=E(Q)),f.TRANSFORM_ON_CONSTRAINT_HANDLING){if(m.fixedNodeConstraint&&m.fixedNodeConstraint.length>1)m.fixedNodeConstraint.forEach(function(j,I){T[I]=[j.position.x,j.position.y],R[I]=[w[y.get(j.nodeId)],x[y.get(j.nodeId)]]}),W=!0;else if(m.alignmentConstraint)(function(){var j=0;if(m.alignmentConstraint.vertical){for(var I=m.alignmentConstraint.vertical,J=function(he){var ge=new Set;I[he].forEach(function(Le){ge.add(Le)});var we=new Set([].concat(c(ge)).filter(function(Le){return G.has(Le)})),Oe=void 0;we.size>0?Oe=w[y.get(we.values().next().value)]:Oe=F(ge).x,I[he].forEach(function(Le){T[j]=[Oe,x[y.get(Le)]],R[j]=[w[y.get(Le)],x[y.get(Le)]],j++})},H=0;H<I.length;H++)J(H);W=!0}if(m.alignmentConstraint.horizontal){for(var Z=m.alignmentConstraint.horizontal,te=function(he){var ge=new Set;Z[he].forEach(function(Le){ge.add(Le)});var we=new Set([].concat(c(ge)).filter(function(Le){return G.has(Le)})),Oe=void 0;we.size>0?Oe=w[y.get(we.values().next().value)]:Oe=F(ge).y,Z[he].forEach(function(Le){T[j]=[w[y.get(Le)],Oe],R[j]=[w[y.get(Le)],x[y.get(Le)]],j++})},ve=0;ve<Z.length;ve++)te(ve);W=!0}m.relativePlacementConstraint&&(q=!0)})();else if(m.relativePlacementConstraint){for(var ie=0,ae=0,Y=0;Y<oe.length;Y++)oe[Y].length>ie&&(ie=oe[Y].length,ae=Y);if(ie<Q.size/2)P(m.relativePlacementConstraint),W=!1,q=!1;else{var re=new Map,U=new Map,V=[];oe[ae].forEach(function(j){$.get(j).forEach(function(I){I.direction=="horizontal"?(re.has(j)?re.get(j).push(I):re.set(j,[I]),re.has(I.id)||re.set(I.id,[]),V.push({left:j,right:I.id})):(U.has(j)?U.get(j).push(I):U.set(j,[I]),U.has(I.id)||U.set(I.id,[]),V.push({top:j,bottom:I.id}))})}),P(V),q=!1;var X=S(re,"horizontal"),M=S(U,"vertical");oe[ae].forEach(function(j,I){R[I]=[w[y.get(j)],x[y.get(j)]],T[I]=[],X.has(j)?T[I][0]=X.get(j):T[I][0]=w[y.get(j)],M.has(j)?T[I][1]=M.get(j):T[I][1]=x[y.get(j)]}),W=!0}}if(W){for(var B=void 0,z=d.transpose(T),K=d.transpose(R),ee=0;ee<z.length;ee++)z[ee]=d.multGamma(z[ee]),K[ee]=d.multGamma(K[ee]);var ne=d.multMat(z,d.transpose(K)),se=v.svd(ne);B=d.multMat(se.V,d.transpose(se.U));for(var ue=0;ue<y.size;ue++){var le=[w[ue],x[ue]],ce=[B[0][0],B[1][0]],pe=[B[0][1],B[1][1]];w[ue]=d.dotProduct(le,ce),x[ue]=d.dotProduct(le,pe)}q&&P(m.relativePlacementConstraint)}}if(f.ENFORCE_CONSTRAINTS){if(m.fixedNodeConstraint&&m.fixedNodeConstraint.length>0){var de={x:0,y:0};m.fixedNodeConstraint.forEach(function(j,I){var J={x:w[y.get(j.nodeId)],y:x[y.get(j.nodeId)]},H=j.position,Z=O(H,J);de.x+=Z.x,de.y+=Z.y}),de.x/=m.fixedNodeConstraint.length,de.y/=m.fixedNodeConstraint.length,w.forEach(function(j,I){w[I]+=de.x}),x.forEach(function(j,I){x[I]+=de.y}),m.fixedNodeConstraint.forEach(function(j){w[y.get(j.nodeId)]=j.position.x,x[y.get(j.nodeId)]=j.position.y})}if(m.alignmentConstraint){if(m.alignmentConstraint.vertical)for(var me=m.alignmentConstraint.vertical,Ee=function(I){var J=new Set;me[I].forEach(function(te){J.add(te)});var H=new Set([].concat(c(J)).filter(function(te){return G.has(te)})),Z=void 0;H.size>0?Z=w[y.get(H.values().next().value)]:Z=F(J).x,J.forEach(function(te){G.has(te)||(w[y.get(te)]=Z)})},Ae=0;Ae<me.length;Ae++)Ee(Ae);if(m.alignmentConstraint.horizontal)for(var ke=m.alignmentConstraint.horizontal,Pe=function(I){var J=new Set;ke[I].forEach(function(te){J.add(te)});var H=new Set([].concat(c(J)).filter(function(te){return G.has(te)})),Z=void 0;H.size>0?Z=x[y.get(H.values().next().value)]:Z=F(J).y,J.forEach(function(te){G.has(te)||(x[y.get(te)]=Z)})},Ie=0;Ie<ke.length;Ie++)Pe(Ie)}m.relativePlacementConstraint&&function(){var j=new Map,I=new Map,J=new Map,H=new Map,Z=new Map,te=new Map,ve=new Set,fe=new Set;if(G.forEach(function(Ot){ve.add(Ot),fe.add(Ot)}),m.alignmentConstraint){if(m.alignmentConstraint.vertical)for(var he=m.alignmentConstraint.vertical,ge=function(Ye){J.set("dummy"+Ye,[]),he[Ye].forEach(function(at){j.set(at,"dummy"+Ye),J.get("dummy"+Ye).push(at),G.has(at)&&ve.add("dummy"+Ye)}),Z.set("dummy"+Ye,w[y.get(he[Ye][0])])},we=0;we<he.length;we++)ge(we);if(m.alignmentConstraint.horizontal)for(var Oe=m.alignmentConstraint.horizontal,Le=function(Ye){H.set("dummy"+Ye,[]),Oe[Ye].forEach(function(at){I.set(at,"dummy"+Ye),H.get("dummy"+Ye).push(at),G.has(at)&&fe.add("dummy"+Ye)}),te.set("dummy"+Ye,x[y.get(Oe[Ye][0])])},Re=0;Re<Oe.length;Re++)Le(Re)}var Se=new Map,Ce=new Map,He=function(Ye){$.get(Ye).forEach(function(at){var kt=void 0,er=void 0;at.direction=="horizontal"?(kt=j.get(Ye)?j.get(Ye):Ye,j.get(at.id)?er={id:j.get(at.id),gap:at.gap,direction:at.direction}:er=at,Se.has(kt)?Se.get(kt).push(er):Se.set(kt,[er]),Se.has(er.id)||Se.set(er.id,[])):(kt=I.get(Ye)?I.get(Ye):Ye,I.get(at.id)?er={id:I.get(at.id),gap:at.gap,direction:at.direction}:er=at,Ce.has(kt)?Ce.get(kt).push(er):Ce.set(kt,[er]),Ce.has(er.id)||Ce.set(er.id,[]))})},Fe=!0,Be=!1,Qe=void 0;try{for(var Ue=$.keys()[Symbol.iterator](),Ge;!(Fe=(Ge=Ue.next()).done);Fe=!0){var st=Ge.value;He(st)}}catch(Ot){Be=!0,Qe=Ot}finally{try{!Fe&&Ue.return&&Ue.return()}finally{if(Be)throw Qe}}var vt=L(Se),je=L(Ce),nt=E(vt),Nt=E(je),Cr=A(Se),Cn=A(Ce),lr=[],Mt=[];nt.forEach(function(Ot,Ye){lr[Ye]=[],Ot.forEach(function(at){Cr.get(at).length==0&&lr[Ye].push(at)})}),Nt.forEach(function(Ot,Ye){Mt[Ye]=[],Ot.forEach(function(at){Cn.get(at).length==0&&Mt[Ye].push(at)})});var Ct=S(Se,"horizontal",ve,Z,lr),Dt=S(Ce,"vertical",fe,te,Mt),qr=function(Ye){J.get(Ye)?J.get(Ye).forEach(function(at){w[y.get(at)]=Ct.get(Ye)}):w[y.get(Ye)]=Ct.get(Ye)},_t=!0,an=!1,ks=void 0;try{for(var yi=Ct.keys()[Symbol.iterator](),Is;!(_t=(Is=yi.next()).done);_t=!0){var bi=Is.value;qr(bi)}}catch(Ot){an=!0,ks=Ot}finally{try{!_t&&yi.return&&yi.return()}finally{if(an)throw ks}}var Il=function(Ye){H.get(Ye)?H.get(Ye).forEach(function(at){x[y.get(at)]=Dt.get(Ye)}):x[y.get(Ye)]=Dt.get(Ye)},wi=!0,Fs=!1,Tn=void 0;try{for(var ra=Dt.keys()[Symbol.iterator](),na;!(wi=(na=ra.next()).done);wi=!0){var bi=na.value;Il(bi)}}catch(Ot){Fs=!0,Tn=Ot}finally{try{!wi&&ra.return&&ra.return()}finally{if(Fs)throw Tn}}}()}for(var Me=0;Me<D.length;Me++){var Te=D[Me];Te.getChild()==null&&Te.setCenter(w[y.get(Te.id)],x[y.get(Te.id)])}},o.exports=g},551:o=>{o.exports=r}},a={};function i(o){var l=a[o];if(l!==void 0)return l.exports;var u=a[o]={exports:{}};return n[o](u,u.exports,i),u.exports}var s=i(45);return s})()})}(Mc)),Mc.exports}(function(t,e){(function(n,a){t.exports=a(GP())})(dd,function(r){return(()=>{var n={658:o=>{o.exports=Object.assign!=null?Object.assign.bind(Object):function(l){for(var u=arguments.length,c=Array(u>1?u-1:0),f=1;f<u;f++)c[f-1]=arguments[f];return c.forEach(function(h){Object.keys(h).forEach(function(d){return l[d]=h[d]})}),l}},548:(o,l,u)=>{var c=function(){function d(v,g){var p=[],m=!0,b=!1,y=void 0;try{for(var w=v[Symbol.iterator](),x;!(m=(x=w.next()).done)&&(p.push(x.value),!(g&&p.length===g));m=!0);}catch(D){b=!0,y=D}finally{try{!m&&w.return&&w.return()}finally{if(b)throw y}}return p}return function(v,g){if(Array.isArray(v))return v;if(Symbol.iterator in Object(v))return d(v,g);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=u(140).layoutBase.LinkedList,h={};h.getTopMostNodes=function(d){for(var v={},g=0;g<d.length;g++)v[d[g].id()]=!0;var p=d.filter(function(m,b){typeof m=="number"&&(m=b);for(var y=m.parent()[0];y!=null;){if(v[y.id()])return!1;y=y.parent()[0]}return!0});return p},h.connectComponents=function(d,v,g,p){var m=new f,b=new Set,y=[],w=void 0,x=void 0,D=void 0,C=!1,N=1,k=[],O=[],F=function(){var P=d.collection();O.push(P);var E=g[0],L=d.collection();L.merge(E).merge(E.descendants().intersection(v)),y.push(E),L.forEach(function(R){m.push(R),b.add(R),P.merge(R)});for(var A=function(){E=m.shift();var W=d.collection();E.neighborhood().nodes().forEach(function(Q){v.intersection(E.edgesWith(Q)).length>0&&W.merge(Q)});for(var q=0;q<W.length;q++){var G=W[q];if(w=g.intersection(G.union(G.ancestors())),w!=null&&!b.has(w[0])){var $=w.union(w.descendants());$.forEach(function(Q){m.push(Q),b.add(Q),P.merge(Q),g.has(Q)&&y.push(Q)})}}};m.length!=0;)A();if(P.forEach(function(R){v.intersection(R.connectedEdges()).forEach(function(W){P.has(W.source())&&P.has(W.target())&&P.merge(W)})}),y.length==g.length&&(C=!0),!C||C&&N>1){x=y[0],D=x.connectedEdges().length,y.forEach(function(R){R.connectedEdges().length<D&&(D=R.connectedEdges().length,x=R)}),k.push(x.id());var T=d.collection();T.merge(y[0]),y.forEach(function(R){T.merge(R)}),y=[],g=g.difference(T),N++}};do F();while(!C);return p&&k.length>0&&p.set("dummy"+(p.size+1),k),O},h.relocateComponent=function(d,v,g){if(!g.fixedNodeConstraint){var p=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY,b=Number.POSITIVE_INFINITY,y=Number.NEGATIVE_INFINITY;if(g.quality=="draft"){var w=!0,x=!1,D=void 0;try{for(var C=v.nodeIndexes[Symbol.iterator](),N;!(w=(N=C.next()).done);w=!0){var k=N.value,O=c(k,2),F=O[0],S=O[1],P=g.cy.getElementById(F);if(P){var E=P.boundingBox(),L=v.xCoords[S]-E.w/2,A=v.xCoords[S]+E.w/2,T=v.yCoords[S]-E.h/2,R=v.yCoords[S]+E.h/2;L<p&&(p=L),A>m&&(m=A),T<b&&(b=T),R>y&&(y=R)}}}catch(Q){x=!0,D=Q}finally{try{!w&&C.return&&C.return()}finally{if(x)throw D}}var W=d.x-(m+p)/2,q=d.y-(y+b)/2;v.xCoords=v.xCoords.map(function(Q){return Q+W}),v.yCoords=v.yCoords.map(function(Q){return Q+q})}else{Object.keys(v).forEach(function(Q){var oe=v[Q],ie=oe.getRect().x,ae=oe.getRect().x+oe.getRect().width,Y=oe.getRect().y,re=oe.getRect().y+oe.getRect().height;ie<p&&(p=ie),ae>m&&(m=ae),Y<b&&(b=Y),re>y&&(y=re)});var G=d.x-(m+p)/2,$=d.y-(y+b)/2;Object.keys(v).forEach(function(Q){var oe=v[Q];oe.setCenter(oe.getCenterX()+G,oe.getCenterY()+$)})}}},h.calcBoundingBox=function(d,v,g,p){for(var m=Number.MAX_SAFE_INTEGER,b=Number.MIN_SAFE_INTEGER,y=Number.MAX_SAFE_INTEGER,w=Number.MIN_SAFE_INTEGER,x=void 0,D=void 0,C=void 0,N=void 0,k=d.descendants().not(":parent"),O=k.length,F=0;F<O;F++){var S=k[F];x=v[p.get(S.id())]-S.width()/2,D=v[p.get(S.id())]+S.width()/2,C=g[p.get(S.id())]-S.height()/2,N=g[p.get(S.id())]+S.height()/2,m>x&&(m=x),b<D&&(b=D),y>C&&(y=C),w<N&&(w=N)}var P={};return P.topLeftX=m,P.topLeftY=y,P.width=b-m,P.height=w-y,P},h.calcParentsWithoutChildren=function(d,v){var g=d.collection();return v.nodes(":parent").forEach(function(p){var m=!1;p.children().forEach(function(b){b.css("display")!="none"&&(m=!0)}),m||g.merge(p)}),g},o.exports=h},816:(o,l,u)=>{var c=u(548),f=u(140).CoSELayout,h=u(140).CoSENode,d=u(140).layoutBase.PointD,v=u(140).layoutBase.DimensionD,g=u(140).layoutBase.LayoutConstants,p=u(140).layoutBase.FDLayoutConstants,m=u(140).CoSEConstants,b=function(w,x){var D=w.cy,C=w.eles,N=C.nodes(),k=C.edges(),O=void 0,F=void 0,S=void 0,P={};w.randomize&&(O=x.nodeIndexes,F=x.xCoords,S=x.yCoords);var E=function(Q){return typeof Q=="function"},L=function(Q,oe){return E(Q)?Q(oe):Q},A=c.calcParentsWithoutChildren(D,C),T=function $(Q,oe,ie,ae){for(var Y=oe.length,re=0;re<Y;re++){var U=oe[re],V=null;U.intersection(A).length==0&&(V=U.children());var X=void 0,M=U.layoutDimensions({nodeDimensionsIncludeLabels:ae.nodeDimensionsIncludeLabels});if(U.outerWidth()!=null&&U.outerHeight()!=null)if(ae.randomize)if(!U.isParent())X=Q.add(new h(ie.graphManager,new d(F[O.get(U.id())]-M.w/2,S[O.get(U.id())]-M.h/2),new v(parseFloat(M.w),parseFloat(M.h))));else{var B=c.calcBoundingBox(U,F,S,O);U.intersection(A).length==0?X=Q.add(new h(ie.graphManager,new d(B.topLeftX,B.topLeftY),new v(B.width,B.height))):X=Q.add(new h(ie.graphManager,new d(B.topLeftX,B.topLeftY),new v(parseFloat(M.w),parseFloat(M.h))))}else X=Q.add(new h(ie.graphManager,new d(U.position("x")-M.w/2,U.position("y")-M.h/2),new v(parseFloat(M.w),parseFloat(M.h))));else X=Q.add(new h(this.graphManager));if(X.id=U.data("id"),X.nodeRepulsion=L(ae.nodeRepulsion,U),X.paddingLeft=parseInt(U.css("padding")),X.paddingTop=parseInt(U.css("padding")),X.paddingRight=parseInt(U.css("padding")),X.paddingBottom=parseInt(U.css("padding")),ae.nodeDimensionsIncludeLabels&&(X.labelWidth=U.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,X.labelHeight=U.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,X.labelPosVertical=U.css("text-valign"),X.labelPosHorizontal=U.css("text-halign")),P[U.data("id")]=X,isNaN(X.rect.x)&&(X.rect.x=0),isNaN(X.rect.y)&&(X.rect.y=0),V!=null&&V.length>0){var z=void 0;z=ie.getGraphManager().add(ie.newGraph(),X),$(z,V,ie,ae)}}},R=function(Q,oe,ie){for(var ae=0,Y=0,re=0;re<ie.length;re++){var U=ie[re],V=P[U.data("source")],X=P[U.data("target")];if(V&&X&&V!==X&&V.getEdgesBetween(X).length==0){var M=oe.add(Q.newEdge(),V,X);M.id=U.id(),M.idealLength=L(w.idealEdgeLength,U),M.edgeElasticity=L(w.edgeElasticity,U),ae+=M.idealLength,Y++}}w.idealEdgeLength!=null&&(Y>0?m.DEFAULT_EDGE_LENGTH=p.DEFAULT_EDGE_LENGTH=ae/Y:E(w.idealEdgeLength)?m.DEFAULT_EDGE_LENGTH=p.DEFAULT_EDGE_LENGTH=50:m.DEFAULT_EDGE_LENGTH=p.DEFAULT_EDGE_LENGTH=w.idealEdgeLength,m.MIN_REPULSION_DIST=p.MIN_REPULSION_DIST=p.DEFAULT_EDGE_LENGTH/10,m.DEFAULT_RADIAL_SEPARATION=p.DEFAULT_EDGE_LENGTH)},W=function(Q,oe){oe.fixedNodeConstraint&&(Q.constraints.fixedNodeConstraint=oe.fixedNodeConstraint),oe.alignmentConstraint&&(Q.constraints.alignmentConstraint=oe.alignmentConstraint),oe.relativePlacementConstraint&&(Q.constraints.relativePlacementConstraint=oe.relativePlacementConstraint)};w.nestingFactor!=null&&(m.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=p.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=w.nestingFactor),w.gravity!=null&&(m.DEFAULT_GRAVITY_STRENGTH=p.DEFAULT_GRAVITY_STRENGTH=w.gravity),w.numIter!=null&&(m.MAX_ITERATIONS=p.MAX_ITERATIONS=w.numIter),w.gravityRange!=null&&(m.DEFAULT_GRAVITY_RANGE_FACTOR=p.DEFAULT_GRAVITY_RANGE_FACTOR=w.gravityRange),w.gravityCompound!=null&&(m.DEFAULT_COMPOUND_GRAVITY_STRENGTH=p.DEFAULT_COMPOUND_GRAVITY_STRENGTH=w.gravityCompound),w.gravityRangeCompound!=null&&(m.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=p.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=w.gravityRangeCompound),w.initialEnergyOnIncremental!=null&&(m.DEFAULT_COOLING_FACTOR_INCREMENTAL=p.DEFAULT_COOLING_FACTOR_INCREMENTAL=w.initialEnergyOnIncremental),w.tilingCompareBy!=null&&(m.TILING_COMPARE_BY=w.tilingCompareBy),w.quality=="proof"?g.QUALITY=2:g.QUALITY=0,m.NODE_DIMENSIONS_INCLUDE_LABELS=p.NODE_DIMENSIONS_INCLUDE_LABELS=g.NODE_DIMENSIONS_INCLUDE_LABELS=w.nodeDimensionsIncludeLabels,m.DEFAULT_INCREMENTAL=p.DEFAULT_INCREMENTAL=g.DEFAULT_INCREMENTAL=!w.randomize,m.ANIMATE=p.ANIMATE=g.ANIMATE=w.animate,m.TILE=w.tile,m.TILING_PADDING_VERTICAL=typeof w.tilingPaddingVertical=="function"?w.tilingPaddingVertical.call():w.tilingPaddingVertical,m.TILING_PADDING_HORIZONTAL=typeof w.tilingPaddingHorizontal=="function"?w.tilingPaddingHorizontal.call():w.tilingPaddingHorizontal,m.DEFAULT_INCREMENTAL=p.DEFAULT_INCREMENTAL=g.DEFAULT_INCREMENTAL=!0,m.PURE_INCREMENTAL=!w.randomize,g.DEFAULT_UNIFORM_LEAF_NODE_SIZES=w.uniformNodeDimensions,w.step=="transformed"&&(m.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,m.ENFORCE_CONSTRAINTS=!1,m.APPLY_LAYOUT=!1),w.step=="enforced"&&(m.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,m.ENFORCE_CONSTRAINTS=!0,m.APPLY_LAYOUT=!1),w.step=="cose"&&(m.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,m.ENFORCE_CONSTRAINTS=!1,m.APPLY_LAYOUT=!0),w.step=="all"&&(w.randomize?m.TRANSFORM_ON_CONSTRAINT_HANDLING=!0:m.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,m.ENFORCE_CONSTRAINTS=!0,m.APPLY_LAYOUT=!0),w.fixedNodeConstraint||w.alignmentConstraint||w.relativePlacementConstraint?m.TREE_REDUCTION_ON_INCREMENTAL=!1:m.TREE_REDUCTION_ON_INCREMENTAL=!0;var q=new f,G=q.newGraphManager();return T(G.addRoot(),c.getTopMostNodes(N),q,w),R(q,G,k),W(q,w),q.runLayout(),P};o.exports={coseLayout:b}},212:(o,l,u)=>{var c=function(){function w(x,D){for(var C=0;C<D.length;C++){var N=D[C];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,D,C){return D&&w(x.prototype,D),C&&w(x,C),x}}();function f(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")}var h=u(658),d=u(548),v=u(657),g=v.spectralLayout,p=u(816),m=p.coseLayout,b=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:function(x){return 4500},idealEdgeLength:function(x){return 50},edgeElasticity:function(x){return .45},nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingCompareBy:void 0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:function(){},stop:function(){}}),y=function(){function w(x){f(this,w),this.options=h({},b,x)}return c(w,[{key:"run",value:function(){var D=this,C=this.options,N=C.cy,k=C.eles,O=[],F=[],S=void 0,P=[];C.fixedNodeConstraint&&(!Array.isArray(C.fixedNodeConstraint)||C.fixedNodeConstraint.length==0)&&(C.fixedNodeConstraint=void 0),C.alignmentConstraint&&(C.alignmentConstraint.vertical&&(!Array.isArray(C.alignmentConstraint.vertical)||C.alignmentConstraint.vertical.length==0)&&(C.alignmentConstraint.vertical=void 0),C.alignmentConstraint.horizontal&&(!Array.isArray(C.alignmentConstraint.horizontal)||C.alignmentConstraint.horizontal.length==0)&&(C.alignmentConstraint.horizontal=void 0)),C.relativePlacementConstraint&&(!Array.isArray(C.relativePlacementConstraint)||C.relativePlacementConstraint.length==0)&&(C.relativePlacementConstraint=void 0);var E=C.fixedNodeConstraint||C.alignmentConstraint||C.relativePlacementConstraint;E&&(C.tile=!1,C.packComponents=!1);var L=void 0,A=!1;if(N.layoutUtilities&&C.packComponents&&(L=N.layoutUtilities("get"),L||(L=N.layoutUtilities()),A=!0),k.nodes().length>0)if(A){var W=d.getTopMostNodes(C.eles.nodes());if(S=d.connectComponents(N,C.eles,W),S.forEach(function(ne){var se=ne.boundingBox();P.push({x:se.x1+se.w/2,y:se.y1+se.h/2})}),C.randomize&&S.forEach(function(ne){C.eles=ne,O.push(g(C))}),C.quality=="default"||C.quality=="proof"){var q=N.collection();if(C.tile){var G=new Map,$=[],Q=[],oe=0,ie={nodeIndexes:G,xCoords:$,yCoords:Q},ae=[];if(S.forEach(function(ne,se){ne.edges().length==0&&(ne.nodes().forEach(function(ue,le){q.merge(ne.nodes()[le]),ue.isParent()||(ie.nodeIndexes.set(ne.nodes()[le].id(),oe++),ie.xCoords.push(ne.nodes()[0].position().x),ie.yCoords.push(ne.nodes()[0].position().y))}),ae.push(se))}),q.length>1){var Y=q.boundingBox();P.push({x:Y.x1+Y.w/2,y:Y.y1+Y.h/2}),S.push(q),O.push(ie);for(var re=ae.length-1;re>=0;re--)S.splice(ae[re],1),O.splice(ae[re],1),P.splice(ae[re],1)}}S.forEach(function(ne,se){C.eles=ne,F.push(m(C,O[se])),d.relocateComponent(P[se],F[se],C)})}else S.forEach(function(ne,se){d.relocateComponent(P[se],O[se],C)});var U=new Set;if(S.length>1){var V=[],X=k.filter(function(ne){return ne.css("display")=="none"});S.forEach(function(ne,se){var ue=void 0;if(C.quality=="draft"&&(ue=O[se].nodeIndexes),ne.nodes().not(X).length>0){var le={};le.edges=[],le.nodes=[];var ce=void 0;ne.nodes().not(X).forEach(function(pe){if(C.quality=="draft")if(!pe.isParent())ce=ue.get(pe.id()),le.nodes.push({x:O[se].xCoords[ce]-pe.boundingbox().w/2,y:O[se].yCoords[ce]-pe.boundingbox().h/2,width:pe.boundingbox().w,height:pe.boundingbox().h});else{var de=d.calcBoundingBox(pe,O[se].xCoords,O[se].yCoords,ue);le.nodes.push({x:de.topLeftX,y:de.topLeftY,width:de.width,height:de.height})}else F[se][pe.id()]&&le.nodes.push({x:F[se][pe.id()].getLeft(),y:F[se][pe.id()].getTop(),width:F[se][pe.id()].getWidth(),height:F[se][pe.id()].getHeight()})}),ne.edges().forEach(function(pe){var de=pe.source(),me=pe.target();if(de.css("display")!="none"&&me.css("display")!="none")if(C.quality=="draft"){var Ee=ue.get(de.id()),Ae=ue.get(me.id()),ke=[],Pe=[];if(de.isParent()){var Ie=d.calcBoundingBox(de,O[se].xCoords,O[se].yCoords,ue);ke.push(Ie.topLeftX+Ie.width/2),ke.push(Ie.topLeftY+Ie.height/2)}else ke.push(O[se].xCoords[Ee]),ke.push(O[se].yCoords[Ee]);if(me.isParent()){var Me=d.calcBoundingBox(me,O[se].xCoords,O[se].yCoords,ue);Pe.push(Me.topLeftX+Me.width/2),Pe.push(Me.topLeftY+Me.height/2)}else Pe.push(O[se].xCoords[Ae]),Pe.push(O[se].yCoords[Ae]);le.edges.push({startX:ke[0],startY:ke[1],endX:Pe[0],endY:Pe[1]})}else F[se][de.id()]&&F[se][me.id()]&&le.edges.push({startX:F[se][de.id()].getCenterX(),startY:F[se][de.id()].getCenterY(),endX:F[se][me.id()].getCenterX(),endY:F[se][me.id()].getCenterY()})}),le.nodes.length>0&&(V.push(le),U.add(se))}});var M=L.packComponents(V,C.randomize).shifts;if(C.quality=="draft")O.forEach(function(ne,se){var ue=ne.xCoords.map(function(ce){return ce+M[se].dx}),le=ne.yCoords.map(function(ce){return ce+M[se].dy});ne.xCoords=ue,ne.yCoords=le});else{var B=0;U.forEach(function(ne){Object.keys(F[ne]).forEach(function(se){var ue=F[ne][se];ue.setCenter(ue.getCenterX()+M[B].dx,ue.getCenterY()+M[B].dy)}),B++})}}}else{var T=C.eles.boundingBox();if(P.push({x:T.x1+T.w/2,y:T.y1+T.h/2}),C.randomize){var R=g(C);O.push(R)}C.quality=="default"||C.quality=="proof"?(F.push(m(C,O[0])),d.relocateComponent(P[0],F[0],C)):d.relocateComponent(P[0],O[0],C)}var z=function(se,ue){if(C.quality=="default"||C.quality=="proof"){typeof se=="number"&&(se=ue);var le=void 0,ce=void 0,pe=se.data("id");return F.forEach(function(me){pe in me&&(le={x:me[pe].getRect().getCenterX(),y:me[pe].getRect().getCenterY()},ce=me[pe])}),C.nodeDimensionsIncludeLabels&&(ce.labelWidth&&(ce.labelPosHorizontal=="left"?le.x+=ce.labelWidth/2:ce.labelPosHorizontal=="right"&&(le.x-=ce.labelWidth/2)),ce.labelHeight&&(ce.labelPosVertical=="top"?le.y+=ce.labelHeight/2:ce.labelPosVertical=="bottom"&&(le.y-=ce.labelHeight/2))),le==null&&(le={x:se.position("x"),y:se.position("y")}),{x:le.x,y:le.y}}else{var de=void 0;return O.forEach(function(me){var Ee=me.nodeIndexes.get(se.id());Ee!=null&&(de={x:me.xCoords[Ee],y:me.yCoords[Ee]})}),de==null&&(de={x:se.position("x"),y:se.position("y")}),{x:de.x,y:de.y}}};if(C.quality=="default"||C.quality=="proof"||C.randomize){var K=d.calcParentsWithoutChildren(N,k),ee=k.filter(function(ne){return ne.css("display")=="none"});C.eles=k.not(ee),k.nodes().not(":parent").not(ee).layoutPositions(D,C,z),K.length>0&&K.forEach(function(ne){ne.position(z(ne))})}else console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")}}]),w}();o.exports=y},657:(o,l,u)=>{var c=u(548),f=u(140).layoutBase.Matrix,h=u(140).layoutBase.SVD,d=function(g){var p=g.cy,m=g.eles,b=m.nodes(),y=m.nodes(":parent"),w=new Map,x=new Map,D=new Map,C=[],N=[],k=[],O=[],F=[],S=[],P=[],E=[],L=void 0,A=1e8,T=1e-9,R=g.piTol,W=g.samplingType,q=g.nodeSeparation,G=void 0,$=function(){for(var I=0,J=0,H=!1;J<G;){I=Math.floor(Math.random()*L),H=!1;for(var Z=0;Z<J;Z++)if(O[Z]==I){H=!0;break}if(!H)O[J]=I,J++;else continue}},Q=function(I,J,H){for(var Z=[],te=0,ve=0,fe=0,he=void 0,ge=[],we=0,Oe=1,Le=0;Le<L;Le++)ge[Le]=A;for(Z[ve]=I,ge[I]=0;ve>=te;){fe=Z[te++];for(var Re=C[fe],Se=0;Se<Re.length;Se++)he=x.get(Re[Se]),ge[he]==A&&(ge[he]=ge[fe]+1,Z[++ve]=he);S[fe][J]=ge[fe]*q}if(H){for(var Ce=0;Ce<L;Ce++)S[Ce][J]<F[Ce]&&(F[Ce]=S[Ce][J]);for(var He=0;He<L;He++)F[He]>we&&(we=F[He],Oe=He)}return Oe},oe=function(I){var J=void 0;if(I){J=Math.floor(Math.random()*L);for(var Z=0;Z<L;Z++)F[Z]=A;for(var te=0;te<G;te++)O[te]=J,J=Q(J,te,I)}else{$();for(var H=0;H<G;H++)Q(O[H],H,I)}for(var ve=0;ve<L;ve++)for(var fe=0;fe<G;fe++)S[ve][fe]*=S[ve][fe];for(var he=0;he<G;he++)P[he]=[];for(var ge=0;ge<G;ge++)for(var we=0;we<G;we++)P[ge][we]=S[O[we]][ge]},ie=function(){for(var I=h.svd(P),J=I.S,H=I.U,Z=I.V,te=J[0]*J[0]*J[0],ve=[],fe=0;fe<G;fe++){ve[fe]=[];for(var he=0;he<G;he++)ve[fe][he]=0,fe==he&&(ve[fe][he]=J[fe]/(J[fe]*J[fe]+te/(J[fe]*J[fe])))}E=f.multMat(f.multMat(Z,ve),f.transpose(H))},ae=function(){for(var I=void 0,J=void 0,H=[],Z=[],te=[],ve=[],fe=0;fe<L;fe++)H[fe]=Math.random(),Z[fe]=Math.random();H=f.normalize(H),Z=f.normalize(Z);for(var he=T,ge=T,we=void 0;;){for(var Oe=0;Oe<L;Oe++)te[Oe]=H[Oe];if(H=f.multGamma(f.multL(f.multGamma(te),S,E)),I=f.dotProduct(te,H),H=f.normalize(H),he=f.dotProduct(te,H),we=Math.abs(he/ge),we<=1+R&&we>=1)break;ge=he}for(var Le=0;Le<L;Le++)te[Le]=H[Le];for(ge=T;;){for(var Re=0;Re<L;Re++)ve[Re]=Z[Re];if(ve=f.minusOp(ve,f.multCons(te,f.dotProduct(te,ve))),Z=f.multGamma(f.multL(f.multGamma(ve),S,E)),J=f.dotProduct(ve,Z),Z=f.normalize(Z),he=f.dotProduct(ve,Z),we=Math.abs(he/ge),we<=1+R&&we>=1)break;ge=he}for(var Se=0;Se<L;Se++)ve[Se]=Z[Se];N=f.multCons(te,Math.sqrt(Math.abs(I))),k=f.multCons(ve,Math.sqrt(Math.abs(J)))};c.connectComponents(p,m,c.getTopMostNodes(b),w),y.forEach(function(j){c.connectComponents(p,m,c.getTopMostNodes(j.descendants().intersection(m)),w)});for(var Y=0,re=0;re<b.length;re++)b[re].isParent()||x.set(b[re].id(),Y++);var U=!0,V=!1,X=void 0;try{for(var M=w.keys()[Symbol.iterator](),B;!(U=(B=M.next()).done);U=!0){var z=B.value;x.set(z,Y++)}}catch(j){V=!0,X=j}finally{try{!U&&M.return&&M.return()}finally{if(V)throw X}}for(var K=0;K<x.size;K++)C[K]=[];y.forEach(function(j){for(var I=j.children().intersection(m);I.nodes(":childless").length==0;)I=I.nodes()[0].children().intersection(m);var J=0,H=I.nodes(":childless")[0].connectedEdges().length;I.nodes(":childless").forEach(function(Z,te){Z.connectedEdges().length<H&&(H=Z.connectedEdges().length,J=te)}),D.set(j.id(),I.nodes(":childless")[J].id())}),b.forEach(function(j){var I=void 0;j.isParent()?I=x.get(D.get(j.id())):I=x.get(j.id()),j.neighborhood().nodes().forEach(function(J){m.intersection(j.edgesWith(J)).length>0&&(J.isParent()?C[I].push(D.get(J.id())):C[I].push(J.id()))})});var ee=function(I){var J=x.get(I),H=void 0;w.get(I).forEach(function(Z){p.getElementById(Z).isParent()?H=D.get(Z):H=Z,C[J].push(H),C[x.get(H)].push(I)})},ne=!0,se=!1,ue=void 0;try{for(var le=w.keys()[Symbol.iterator](),ce;!(ne=(ce=le.next()).done);ne=!0){var pe=ce.value;ee(pe)}}catch(j){se=!0,ue=j}finally{try{!ne&&le.return&&le.return()}finally{if(se)throw ue}}L=x.size;var de=void 0;if(L>2){G=L<g.sampleSize?L:g.sampleSize;for(var me=0;me<L;me++)S[me]=[];for(var Ee=0;Ee<G;Ee++)E[Ee]=[];return g.quality=="draft"||g.step=="all"?(oe(W),ie(),ae(),de={nodeIndexes:x,xCoords:N,yCoords:k}):(x.forEach(function(j,I){N.push(p.getElementById(I).position("x")),k.push(p.getElementById(I).position("y"))}),de={nodeIndexes:x,xCoords:N,yCoords:k}),de}else{var Ae=x.keys(),ke=p.getElementById(Ae.next().value),Pe=ke.position(),Ie=ke.outerWidth();if(N.push(Pe.x),k.push(Pe.y),L==2){var Me=p.getElementById(Ae.next().value),Te=Me.outerWidth();N.push(Pe.x+Ie/2+Te/2+g.idealEdgeLength),k.push(Pe.y)}return de={nodeIndexes:x,xCoords:N,yCoords:k},de}};o.exports={spectralLayout:d}},579:(o,l,u)=>{var c=u(212),f=function(d){d&&d("layout","fcose",c)};typeof cytoscape<"u"&&f(cytoscape),o.exports=f},140:o=>{o.exports=r}},a={};function i(o){var l=a[o];if(l!==void 0)return l.exports;var u=a[o]={exports:{}};return n[o](u,u.exports,i),u.exports}var s=i(579);return s})()})})(Y0);var qP=Y0.exports;const WP=VP(qP);$n.use(WP);const YP={name:"GraphView",props:{graph:{type:Object,required:!0},layout:{type:String,default:"cose"},height:{type:String,default:"420px"}},setup(t){const e=ze(null);let r=null;const n=ze(!0);let a=null;const i=ze("auto"),s=ze(60),o=ze(40),l=ze(800),u=ze(80),c=ze(200),f=ze(6e3),h=ze(150),d=ze(.25),v=ze(120),g=()=>{n.value=!1},p=()=>{n.value=!0},m=()=>{a&&clearTimeout(a),a=setTimeout(()=>{n.value=!0},800)},b=St(()=>{const O=t.graph||{};return Array.isArray(O.nodes)&&O.nodes.length>0}),y=O=>{const F=(O.nodes||[]).map(P=>({data:{id:String(P.id),label:P.label??String(P.id)}})),S=(O.edges||[]).map(P=>({data:{source:String(P.source),target:String(P.target),label:P.weight!=null?String(P.weight):""}}));return[...F,...S]},w=O=>({name:"concentric",animate:!1,padding:s.value,startAngle:3/2*Math.PI,sweep:2*Math.PI,equidistant:!0,minNodeSpacing:o.value}),x=()=>{if(!r)return;const O=r.elements().components(),F=l.value;let S=0;O.forEach(P=>{P.layout({name:"fcose",animate:!1,randomize:!0,fit:!1,padding:30,quality:"default",nodeSeparation:u.value,componentSpacing:c.value,nodeRepulsion:()=>f.value,idealEdgeLength:()=>h.value,edgeElasticity:()=>.2,gravity:d.value}).run();const L=P.boundingBox(),A=S-L.x1,T=0-L.y1;r.batch(()=>{P.nodes().forEach(R=>{const W=R.position();R.position({x:W.x+A,y:W.y+T})})}),S+=L.w+F}),r.fit(void 0,v.value)},D=O=>{if(!r)return;const F=(O.nodes||[]).length,S=i.value;S==="fcose-components"||S==="auto"&&F>60?x():(r.layout(w()).run(),r.fit(void 0,v.value))},C=async()=>{if(await Qr(),!e.value)return;const O=t.graph||{nodes:[],edges:[]};r=$n({container:e.value,elements:y(O),style:[{selector:"node",style:{"background-color":"#1677ff",label:"data(label)","font-size":10,color:"#333","text-opacity":0,"min-zoomed-font-size":10}},{selector:"edge",style:{"line-color":"#9ca3af",width:1.5,"curve-style":"bezier","target-arrow-shape":"triangle","target-arrow-color":"#9ca3af","arrow-scale":.8,label:"data(label)","font-size":8,color:"#666","text-opacity":0,"min-zoomed-font-size":8}},{selector:".hovered",style:{"text-opacity":1}},{selector:"node:selected",style:{"background-color":"#0d5ccc","text-opacity":1}},{selector:"edge:selected",style:{"line-color":"#0d5ccc","target-arrow-color":"#0d5ccc","text-opacity":1}}],wheelSensitivity:.2}),D(O),r.on("select","node",F=>{const P=F.target.closedNeighborhood();r.elements().difference(P).addClass("faded")}),r.on("unselect","node",()=>{r.elements().removeClass("faded")}),r.style().selector(".faded").style({opacity:.25}).update(),r.on("mouseover","node",F=>{const S=F.target;S.addClass("hovered"),S.connectedEdges().addClass("hovered")}),r.on("mouseout","node",F=>{const S=F.target;S.removeClass("hovered"),S.connectedEdges().removeClass("hovered")}),r.on("mouseover","edge",F=>{F.target.addClass("hovered")}),r.on("mouseout","edge",F=>{F.target.removeClass("hovered")})},N=()=>{r&&(r.destroy(),r=null)},k=()=>{if(e.value)if(!r)C();else{const O=t.graph||{nodes:[],edges:[]};r.elements().remove(),r.add(y(O)),D(O)}};return ys(C),al(N),_n(()=>t.graph,()=>{k()},{deep:!0}),_n([i,s,o,l,u,c,f,h,d,v],()=>{r&&D(t.graph||{nodes:[]})}),{containerRef:e,hasData:b,collapsed:n,openPanel:g,closePanel:p,onControlChange:m,layoutMode:i,concentricPadding:s,minNodeSpacingCtl:o,componentsSpacing:l,fcoseNodeSeparation:u,fcoseComponentSpacing:c,fcoseNodeRepulsion:f,fcoseIdealEdgeLen:h,fcoseGravity:d,fitPadding:v}}},XP={ref:"containerRef",class:"cy-container"},KP={key:0,class:"empty"},$P={class:"row header"},ZP={class:"row"},QP={class:"row"},JP={class:"row"},jP={class:"row"},eN={class:"row"},tN={class:"row"},rN={class:"row"},nN={class:"row"},aN={class:"row"},iN={class:"row"},sN={class:"row"};function oN(t,e,r,n,a,i){return be(),xe("div",{class:"graph-view",style:Zn({height:r.height})},[_("div",XP,null,512),n.hasData?Ke("",!0):(be(),xe("div",KP,"")),n.collapsed?(be(),xe("button",{key:1,class:"layout-toggle",onClick:e[0]||(e[0]=br((...s)=>n.openPanel&&n.openPanel(...s),["stop"]))},"")):(be(),xe("div",{key:2,class:"layout-controls",onMousedown:e[23]||(e[23]=br(()=>{},["stop"])),onWheel:e[24]||(e[24]=br(()=>{},["stop"])),onTouchstart:e[25]||(e[25]=br(()=>{},["stop"]))},[_("div",$P,[e[26]||(e[26]=_("div",{class:"title"},"",-1)),_("button",{class:"close-btn",onClick:e[1]||(e[1]=br((...s)=>n.closePanel&&n.closePanel(...s),["stop"]))},"")]),_("div",ZP,[e[28]||(e[28]=_("label",null,"",-1)),ut(_("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>n.layoutMode=s),class:"ctl-input",onChange:e[3]||(e[3]=(...s)=>n.onControlChange&&n.onControlChange(...s))},e[27]||(e[27]=[_("option",{value:"auto"},"",-1),_("option",{value:"concentric"},"()",-1),_("option",{value:"fcose-components"}," fcose()",-1)]),544),[[rs,n.layoutMode]])]),n.layoutMode!=="fcose-components"?(be(),xe(ft,{key:0},[_("div",QP,[_("label",null,"Padding: "+De(n.concentricPadding),1),ut(_("input",{class:"ctl-range",type:"range",min:"0",max:"200",step:"5","onUpdate:modelValue":e[4]||(e[4]=s=>n.concentricPadding=s),onChange:e[5]||(e[5]=(...s)=>n.onControlChange&&n.onControlChange(...s))},null,544),[[Tt,n.concentricPadding,void 0,{number:!0}]])]),_("div",JP,[_("label",null,": "+De(n.minNodeSpacingCtl),1),ut(_("input",{class:"ctl-range",type:"range",min:"0",max:"200",step:"5","onUpdate:modelValue":e[6]||(e[6]=s=>n.minNodeSpacingCtl=s),onChange:e[7]||(e[7]=(...s)=>n.onControlChange&&n.onControlChange(...s))},null,544),[[Tt,n.minNodeSpacingCtl,void 0,{number:!0}]])]),_("div",jP,[_("label",null,"Fit: "+De(n.fitPadding),1),ut(_("input",{class:"ctl-range",type:"range",min:"0",max:"300",step:"5","onUpdate:modelValue":e[8]||(e[8]=s=>n.fitPadding=s),onChange:e[9]||(e[9]=(...s)=>n.onControlChange&&n.onControlChange(...s))},null,544),[[Tt,n.fitPadding,void 0,{number:!0}]])])],64)):(be(),xe(ft,{key:1},[_("div",eN,[_("label",null,": "+De(n.componentsSpacing),1),ut(_("input",{class:"ctl-range",type:"range",min:"100",max:"1200",step:"50","onUpdate:modelValue":e[10]||(e[10]=s=>n.componentsSpacing=s),onChange:e[11]||(e[11]=(...s)=>n.onControlChange&&n.onControlChange(...s))},null,544),[[Tt,n.componentsSpacing,void 0,{number:!0}]])]),_("div",tN,[_("label",null,"nodeSeparation: "+De(n.fcoseNodeSeparation),1),ut(_("input",{class:"ctl-range",type:"range",min:"0",max:"300",step:"5","onUpdate:modelValue":e[12]||(e[12]=s=>n.fcoseNodeSeparation=s),onChange:e[13]||(e[13]=(...s)=>n.onControlChange&&n.onControlChange(...s))},null,544),[[Tt,n.fcoseNodeSeparation,void 0,{number:!0}]])]),_("div",rN,[_("label",null,"componentSpacing: "+De(n.fcoseComponentSpacing),1),ut(_("input",{class:"ctl-range",type:"range",min:"0",max:"600",step:"10","onUpdate:modelValue":e[14]||(e[14]=s=>n.fcoseComponentSpacing=s),onChange:e[15]||(e[15]=(...s)=>n.onControlChange&&n.onControlChange(...s))},null,544),[[Tt,n.fcoseComponentSpacing,void 0,{number:!0}]])]),_("div",nN,[_("label",null,"nodeRepulsion: "+De(n.fcoseNodeRepulsion),1),ut(_("input",{class:"ctl-range",type:"range",min:"0",max:"40000",step:"500","onUpdate:modelValue":e[16]||(e[16]=s=>n.fcoseNodeRepulsion=s),onChange:e[17]||(e[17]=(...s)=>n.onControlChange&&n.onControlChange(...s))},null,544),[[Tt,n.fcoseNodeRepulsion,void 0,{number:!0}]])]),_("div",aN,[_("label",null,"idealEdgeLength: "+De(n.fcoseIdealEdgeLen),1),ut(_("input",{class:"ctl-range",type:"range",min:"10",max:"400",step:"10","onUpdate:modelValue":e[18]||(e[18]=s=>n.fcoseIdealEdgeLen=s),onChange:e[19]||(e[19]=(...s)=>n.onControlChange&&n.onControlChange(...s))},null,544),[[Tt,n.fcoseIdealEdgeLen,void 0,{number:!0}]])]),_("div",iN,[_("label",null,"gravity: "+De(n.fcoseGravity),1),ut(_("input",{class:"ctl-range",type:"range",min:"0",max:"2",step:"0.05","onUpdate:modelValue":e[20]||(e[20]=s=>n.fcoseGravity=s)},null,512),[[Tt,n.fcoseGravity,void 0,{number:!0}]])]),_("div",sN,[_("label",null,"Fit: "+De(n.fitPadding),1),ut(_("input",{class:"ctl-range",type:"range",min:"0",max:"300",step:"5","onUpdate:modelValue":e[21]||(e[21]=s=>n.fitPadding=s),onChange:e[22]||(e[22]=(...s)=>n.onControlChange&&n.onControlChange(...s))},null,544),[[Tt,n.fitPadding,void 0,{number:!0}]])])],64))],32))],4)}const lN=hr(YP,[["render",oN],["__scopeId","data-v-fb07ae11"]]),uN={name:"ErrorModal",props:{visible:{type:Boolean,default:!1},message:{type:String,default:""},detail:{type:String,default:""}},emits:["close"],setup(t,{emit:e}){return{onClose:()=>e("close")}}},cN={class:"modal-content"},fN={class:"modal-header"},dN={class:"modal-body"},hN={class:"message"},vN={key:0,class:"detail"},gN={class:"modal-footer"};function pN(t,e,r,n,a,i){return r.visible?(be(),xe("div",{key:0,class:"modal-overlay",onClick:e[2]||(e[2]=br((...s)=>n.onClose&&n.onClose(...s),["self"]))},[_("div",cN,[_("div",fN,[e[3]||(e[3]=_("h3",null,"",-1)),_("button",{class:"modal-close",onClick:e[0]||(e[0]=(...s)=>n.onClose&&n.onClose(...s))},"")]),_("div",dN,[_("p",hN,De(r.message),1),r.detail?(be(),xe("p",vN,De(r.detail),1)):Ke("",!0)]),_("div",gN,[_("button",{class:"btn btn-primary",onClick:e[1]||(e[1]=(...s)=>n.onClose&&n.onClose(...s))},"")])])])):Ke("",!0)}const mN=hr(uN,[["render",pN],["__scopeId","data-v-53e8ac29"]]),eo="/api/identification",yN=()=>({Authorization:`Bearer ${localStorage.getItem("token")||""}`,"Content-Type":"application/json"}),Nc={async createTask(t,e,r={}){const n=await fetch(`${eo}/tasks`,{method:"POST",headers:yN(),body:JSON.stringify({file_id:t,algorithm_key:e,params:r})}),a=await n.json().catch(()=>null);if(!n.ok||(a==null?void 0:a.status)!=="success")throw new Error((a==null?void 0:a.message)||` (HTTP ${n.status})`);return a},async getTask(t){const e=await fetch(`${eo}/tasks/${encodeURIComponent(t)}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")||""}`}}),r=await e.json().catch(()=>null);if(!e.ok||(r==null?void 0:r.status)!=="success")throw new Error((r==null?void 0:r.message)||` (HTTP ${e.status})`);return r},async getResult(t){const e=await fetch(`${eo}/tasks/${encodeURIComponent(t)}/result`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")||""}`}}),r=await e.json().catch(()=>null);if(!e.ok||(r==null?void 0:r.status)!=="success")throw new Error((r==null?void 0:r.message)||` (HTTP ${e.status})`);return r},async cancelTask(t){const e=await fetch(`${eo}/tasks/${encodeURIComponent(t)}/cancel`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")||""}`}}),r=await e.json().catch(()=>null);if(!e.ok||(r==null?void 0:r.status)!=="success")throw new Error((r==null?void 0:r.message)||` (HTTP ${e.status})`);return r}},bN={name:"IdentificationPage",components:{GraphView:lN,ErrorModal:mN},setup(){const t=ze(null),e=ze([]),r=ze([]),n=ze(""),a=2,i=ze(1),s=ze(null),o=ze(!1),l=ze(!1),u=ze(""),c=ze(!1),f=ze(null),h=ze(!1),d=ze(""),v=ze(null),g=St(()=>{const H=(n.value||"").trim().toLowerCase();return H?e.value.filter(Z=>{const te=(Z.original_name||"").toLowerCase(),ve=(Z.mime_type||"").toLowerCase();return te.includes(H)||ve.includes(H)}):e.value}),p=St(()=>g.value.length),m=()=>{const H=i.value*a;r.value=g.value.slice(0,H)},b=ze(""),y=ze(!1),w=ze(""),x=ze(""),D=(H,Z="")=>{y.value=!0,w.value=H||"",x.value=Z||""},C=()=>{y.value=!1,w.value="",x.value=""},N=ze(""),k=ze(!1),O=ze(0),F=ze(""),S=ze([]),P=ze(null),E=ze(10),L=ze(null),A=ze([]),T=ze(!1),R=ze(""),W="http://localhost:5001/api",q=typeof window<"u"?localStorage.getItem("token"):"",G=St(()=>A.value.filter(H=>(H.status||"active")==="active")),$=async()=>{var H;T.value=!0,R.value="";try{const te=await(await fetch(`${W}/algorithms?page=1&page_size=100`,{headers:{Authorization:`Bearer ${q}`}})).json();te.status==="success"?A.value=Array.isArray((H=te.data)==null?void 0:H.items)?te.data.items:[]:R.value=te.message||""}catch(Z){R.value=Z.message||""}finally{T.value=!1}},Q=St(()=>t.value&&b.value&&!k.value),oe=St(()=>{var te,ve,fe;const H=(fe=(ve=(te=v.value)==null?void 0:te.graph)==null?void 0:ve.meta)==null?void 0:fe.nodes;return Number.isFinite(Number(H))?Number(H):P.value?Object.keys(P.value).length:0}),ie=H=>{const Z=Number(H);return Number.isFinite(Z)?Z.toFixed(4):"-"},ae=St(()=>{const H=Array.isArray(S.value)?S.value.slice():[];return H.sort((Z,te)=>{const ve=Number(Z==null?void 0:Z.output),fe=Number(te==null?void 0:te.output),he=Number.isFinite(ve)?ve:-1/0;return(Number.isFinite(fe)?fe:-1/0)-he}),H}),Y=St(()=>{const H=ae.value.length;if(H<=0)return 0;const Z=oe.value>0?Math.min(10,oe.value):Math.min(10,H),te=Number(E.value),ve=Number.isFinite(te)&&te>0?te:Z;return oe.value>0&&oe.value<10?H:Math.min(ve,H)}),re=St(()=>ae.value.slice(0,Y.value)),U=St(()=>r.value.length<p.value),V=async()=>{var H,Z,te,ve;o.value=!0,u.value="",i.value=1;try{const fe=await Je.get("/api/uploads",{params:{page:1,page_size:100}});if(((H=fe.data)==null?void 0:H.status)==="success"){const he=fe.data.data||{},ge=Array.isArray(he.items)?he.items:Array.isArray(he)?he:[];e.value=ge,i.value=1,r.value=g.value.slice(0,a),await Qr();const we=s.value;we&&(we.scrollTop=0),K()}else u.value=((Z=fe.data)==null?void 0:Z.message)||"",r.value=[],p.value=0}catch(fe){u.value=((ve=(te=fe.response)==null?void 0:te.data)==null?void 0:ve.message)||fe.message||"",r.value=[],p.value=0}finally{o.value=!1}},X=()=>{if(!U.value)return;const H=i.value+1,te=(H-1)*a+a;r.value=g.value.slice(0,te),i.value=H},M=()=>{const H=s.value;if(!H||o.value)return;H.scrollTop+H.clientHeight>=H.scrollHeight-16&&U.value&&!l.value&&(l.value=!0,X(),l.value=!1)},B=H=>H&&H.scrollHeight>H.clientHeight+1,z=async()=>{await Qr();const H=s.value;if(!H)return;let Z=0;for(;U.value&&!B(H)&&Z<50;)X(),await Qr(),Z++},K=async()=>{await Qr();const H=s.value;H&&(H.removeEventListener("scroll",M),H.addEventListener("scroll",M,{passive:!0}),await z())},ee=()=>{const H=s.value;H&&H.removeEventListener("scroll",M)};_n(n,async()=>{if(c.value){i.value=1,m(),await Qr();const H=s.value;H&&(H.scrollTop=0),await z()}}),ys(async()=>{$()}),al(()=>{ee(),Ie()});const ne=H=>{f.value=H,pe()},se=()=>{f.value&&(t.value=f.value)},ue=async H=>{var Z,te,ve,fe;if(H){h.value=!0,d.value="",v.value=null;try{const he=await Je.get(`${W}/network/graph`,{params:{file_id:H.id},headers:{Authorization:`Bearer ${q}`}});if(((Z=he.data)==null?void 0:Z.status)==="success")v.value=he.data.data;else throw new Error(((te=he.data)==null?void 0:te.message)||"")}catch(he){d.value=((fe=(ve=he.response)==null?void 0:ve.data)==null?void 0:fe.message)||he.message||""}finally{h.value=!1}}},le=()=>{v.value=null,d.value=""},ce=async()=>{c.value=!0,e.value.length===0&&await V(),await Qr(),K()},pe=()=>{c.value=!1,ee(),n.value="",i.value=1,m()},de=H=>{if(!H)return"-";const Z=H.lastIndexOf(".");return Z>0?H.substring(0,Z):H},me=H=>{if(!H)return"-";const Z=H.lastIndexOf(".");return Z>0&&H.substring(Z+1).toUpperCase()||"-"},Ee=H=>{if(H==null)return"-";const Z=["B","KB","MB","GB","TB"];let te=Number(H),ve=0;for(;te>=1024&&ve<Z.length-1;)te/=1024,ve++;return`${te.toFixed(ve>0?1:0)} ${Z[ve]}`},Ae=H=>{if(!H)return"-";try{return new Date(H).toLocaleString("zh-CN")}catch{return H}},ke=()=>{const H=A.value.find(Z=>Z.algo_key==b.value);return((H==null?void 0:H.description)||"").trim()||""},Pe=()=>{const H=A.value.find(ve=>ve.algo_key==b.value);if(!H)return"";const Z=H.type?`: ${H.type}`:"",te=`: ${H.status==="active"?"":""}`;return[Z,te].filter(Boolean).join("")},Ie=()=>{L.value&&(clearInterval(L.value),L.value=null)},Me=async H=>(Ie(),new Promise((Z,te)=>{const ve=Date.now(),fe=10*60*1e3;L.value=setInterval(async()=>{var he;try{if(!H)return;if(Date.now()-ve>fe){Ie(),te(new Error(""));return}const ge=await Nc.getTask(H),we=(ge==null?void 0:ge.data)||{},Oe=Number(we.progress);if(O.value=Number.isFinite(Oe)?Math.max(0,Math.min(100,Math.floor(Oe))):O.value,F.value=we.message||we.stage||"...",we.status==="succeeded")Ie(),Z(we);else if(we.status==="failed"){Ie();const Le=((he=we.error)==null?void 0:he.message)||we.message||"";te(new Error(Le))}else we.status==="cancelled"&&(Ie(),te(new Error("")))}catch(ge){Ie(),te(ge)}},1e3)}));return{selectedExistingFile:t,existingFiles:e,displayedExistingFiles:r,totalExistingFiles:p,existingSearch:n,filesListRef:s,loadingExistingFiles:o,existingFilesError:u,showFileModal:c,selectedAlgorithm:b,isProcessing:k,progress:O,statusMessage:F,results:S,algorithms:A,availableAlgorithms:G,algLoading:T,algError:R,fetchAlgorithms:$,canStartIdentification:Q,hasMoreExistingFiles:U,loadExistingFiles:V,loadMoreExistingFiles:X,tempSelectedFile:f,visualLoading:h,visualError:d,visualData:v,openFileModal:ce,closeFileModal:pe,selectTempFileAndClose:ne,confirmTempFile:se,visualizeNetwork:ue,clearVisualization:le,getFileNameWithoutExt:de,getFileExtension:me,formatFileSize:Ee,formatDate:Ae,getAlgorithmDescription:ke,getAlgorithmParams:Pe,startIdentification:async()=>{var H,Z;if(!t.value||!b.value){alert("");return}Ie(),k.value=!0,O.value=0,F.value="...",S.value=[],P.value=null,N.value="";try{const te=await Nc.createTask(t.value.id,String(b.value),{}),ve=(H=te==null?void 0:te.data)==null?void 0:H.task_id;if(!ve)throw new Error(" task_id");N.value=ve,F.value="...",await Me(ve),F.value="...";const fe=await Nc.getResult(ve),he=((Z=fe==null?void 0:fe.data)==null?void 0:Z.result)||{};P.value=he;const ge=Object.entries(he).map(([we,Oe])=>({input:String(we),output:Oe}));S.value=ge,F.value="",O.value=100}catch(te){console.error(":",te);const ve=((te==null?void 0:te.message)||String(te)||"").trim();F.value=": "+(ve||""),ve.includes("")||ve.includes("ALGO_IMPL_NOT_FOUND")?D("",ve):D("",ve)}finally{k.value=!1}},resetForm:()=>{Ie(),t.value=null,b.value="",N.value="",S.value=[],P.value=null,E.value=10,O.value=0,F.value=""},exportResults:()=>{if(S.value.length===0){alert("");return}const H=[["","ID",""],...re.value.map((fe,he)=>[he+1,fe.input,ie(fe.output)])].map(fe=>fe.join(",")).join(`
`),Z=new Blob([H],{type:"text/csv;charset=utf-8;"}),te=document.createElement("a"),ve=URL.createObjectURL(Z);te.setAttribute("href",ve),te.setAttribute("download",`_${new Date().getTime()}.csv`),te.style.visibility="hidden",document.body.appendChild(te),te.click(),document.body.removeChild(te)},clearResults:()=>{S.value=[],P.value=null,E.value=10,O.value=0,F.value=""},currentTaskId:N,networkNodeCount:oe,sortedResults:ae,displayedResults:re,topK:E,effectiveTopK:Y,formatResultValue:ie,showErrorModal:y,errorModalMessage:w,errorModalDetail:x,closeErrorModal:C}}},wN={class:"identification-container"},EN={class:"content-wrapper"},xN={class:"left-panel"},CN={class:"card"},TN={class:"form-group"},SN=["disabled"],AN={key:0,class:"placeholder"},DN={key:1,class:"selected-file"},RN={key:0,class:"file-hint"},LN={key:0,class:"confirm-bar"},MN={class:"confirm-info"},PN={class:"name"},NN={class:"meta"},ON={class:"file-type"},kN={class:"file-size"},IN={class:"file-date"},FN={class:"confirm-actions"},BN={key:1,class:"file-actions"},_N={class:"modal-content"},zN={class:"modal-header"},UN={class:"modal-body"},VN={key:0,class:"loading-state"},HN={key:1,class:"error-state"},GN={class:"existing-filter-bar"},qN={key:0,class:"empty-state"},WN={key:1,class:"files-list",ref:"filesListRef"},YN=["onClick"],XN={class:"file-info"},KN={class:"file-name"},$N={class:"file-meta"},ZN={class:"file-type"},QN={class:"file-size"},JN={class:"file-date"},jN={class:"file-checkbox"},eO=["checked","onChange"],tO={class:"card"},rO={class:"form-group"},nO=["disabled"],aO=["value","disabled"],iO={key:0,class:"form-hint"},sO={key:1,class:"form-error"},oO={key:0,class:"algorithm-info"},lO={class:"action-buttons"},uO=["disabled"],cO={class:"right-panel"},fO={key:0,class:"card"},dO={key:0,class:"loading-state"},hO={key:1,class:"error-state"},vO={class:"action-buttons"},gO=["disabled"],pO={key:2,class:"visual-content"},mO={class:"visual-meta"},yO={key:0,class:"warning"},bO={class:"action-buttons"},wO={class:"card"},EO={key:0,class:"progress-section"},xO={class:"progress-bar"},CO={class:"progress-text"},TO={class:"status-text"},SO={key:1,class:"results-section"},AO={class:"summary-item"},DO={class:"value"},RO={key:0,class:"summary-item topk-item"},LO={class:"topk-hint"},MO={key:1,class:"summary-item"},PO={class:"table-wrapper"},NO={class:"results-table"},OO={class:"data-cell"},kO={class:"result-cell"},IO={class:"action-buttons"},FO={key:2,class:"empty-state"};function BO(t,e,r,n,a,i){var l,u,c,f,h,d,v,g,p,m,b,y,w,x,D,C,N,k,O,F,S;const s=vn("ErrorModal"),o=vn("GraphView");return be(),xe("div",wN,[Bt(s,{visible:n.showErrorModal,message:n.errorModalMessage,detail:n.errorModalDetail,onClose:n.closeErrorModal},null,8,["visible","message","detail","onClose"]),e[37]||(e[37]=_("div",{class:"page-header"},[_("h1",null,""),_("p",{class:"subtitle"},"")],-1)),_("div",EN,[_("div",xN,[_("div",CN,[e[19]||(e[19]=_("h2",null,"",-1)),_("div",TN,[e[18]||(e[18]=_("label",null,"",-1)),_("button",{onClick:e[0]||(e[0]=(...P)=>n.openFileModal&&n.openFileModal(...P)),class:"form-control file-select-btn",disabled:n.loadingExistingFiles},[n.selectedExistingFile?(be(),xe("span",DN,De(n.getFileNameWithoutExt(n.selectedExistingFile.original_name)),1)):(be(),xe("span",AN,""))],8,SN),n.selectedExistingFile?(be(),xe("p",RN,De(n.getFileExtension(n.selectedExistingFile.original_name))+"  "+De(n.formatFileSize(n.selectedExistingFile.size_bytes)),1)):Ke("",!0)]),n.tempSelectedFile&&((l=n.tempSelectedFile)==null?void 0:l.id)!==((u=n.selectedExistingFile)==null?void 0:u.id)?(be(),xe("div",LN,[_("div",MN,[_("div",PN,De(n.getFileNameWithoutExt(n.tempSelectedFile.original_name)),1),_("div",NN,[_("span",ON,De(n.getFileExtension(n.tempSelectedFile.original_name)),1),_("span",kN,De(n.formatFileSize(n.tempSelectedFile.size_bytes)),1),_("span",IN,De(n.formatDate(n.tempSelectedFile.created_at)),1)])]),_("div",FN,[_("button",{class:"btn btn-primary",onClick:e[1]||(e[1]=(...P)=>n.confirmTempFile&&n.confirmTempFile(...P))},""),_("button",{class:"btn btn-secondary",onClick:e[2]||(e[2]=(...P)=>n.openFileModal&&n.openFileModal(...P))},"")])])):Ke("",!0),n.selectedExistingFile&&!(n.tempSelectedFile&&((c=n.tempSelectedFile)==null?void 0:c.id)!==((f=n.selectedExistingFile)==null?void 0:f.id))?(be(),xe("div",BN,[_("button",{class:"btn btn-primary",onClick:e[3]||(e[3]=P=>n.visualizeNetwork(n.selectedExistingFile))},"")])):Ke("",!0)]),n.showFileModal?(be(),xe("div",{key:0,class:"modal-overlay",onClick:e[7]||(e[7]=br((...P)=>n.closeFileModal&&n.closeFileModal(...P),["self"]))},[_("div",_N,[_("div",zN,[e[20]||(e[20]=_("h3",null,"",-1)),_("button",{class:"modal-close",onClick:e[4]||(e[4]=(...P)=>n.closeFileModal&&n.closeFileModal(...P))},"")]),_("div",UN,[n.loadingExistingFiles?(be(),xe("div",VN,e[21]||(e[21]=[_("p",null,"...",-1)]))):n.existingFilesError?(be(),xe("div",HN,[_("p",null,De(n.existingFilesError),1),_("button",{onClick:e[5]||(e[5]=(...P)=>n.loadExistingFiles&&n.loadExistingFiles(...P)),class:"retry-btn"},"")])):(be(),xe(ft,{key:2},[_("div",GN,[ut(_("input",{"onUpdate:modelValue":e[6]||(e[6]=P=>n.existingSearch=P),type:"text",class:"existing-search-input",placeholder:"..."},null,512),[[Tt,n.existingSearch]])]),n.totalExistingFiles===0?(be(),xe("div",qN,e[22]||(e[22]=[_("p",null,"",-1)]))):(be(),xe("div",WN,[(be(!0),xe(ft,null,pr(n.displayedExistingFiles,P=>{var E,L;return be(),xe("div",{key:P.id,class:Rt(["file-item",{selected:((E=n.tempSelectedFile)==null?void 0:E.id)===P.id}]),onClick:A=>n.selectTempFileAndClose(P)},[_("div",XN,[_("div",KN,De(n.getFileNameWithoutExt(P.original_name)),1),_("div",$N,[_("span",ZN,De(n.getFileExtension(P.original_name)),1),_("span",QN,De(n.formatFileSize(P.size_bytes)),1),_("span",JN,De(n.formatDate(P.created_at)),1)])]),_("div",jN,[_("input",{type:"radio",checked:((L=n.tempSelectedFile)==null?void 0:L.id)===P.id,onChange:A=>n.selectTempFileAndClose(P)},null,40,eO)])],10,YN)}),128))],512))],64))])])])):Ke("",!0),_("div",tO,[e[27]||(e[27]=_("h2",null,"",-1)),_("div",rO,[e[24]||(e[24]=_("label",null,"",-1)),ut(_("select",{"onUpdate:modelValue":e[8]||(e[8]=P=>n.selectedAlgorithm=P),class:"form-control",disabled:n.algLoading},[e[23]||(e[23]=_("option",{value:""},"--  --",-1)),(be(!0),xe(ft,null,pr(n.availableAlgorithms,P=>(be(),xe("option",{key:P.id,value:P.algo_key,disabled:!P.algo_key},De((P.type?P.name+" - "+P.type:P.name)+(P.algo_key?"":" algo_key")),9,aO))),128))],8,nO),[[rs,n.selectedAlgorithm]]),n.algLoading?(be(),xe("div",iO,"...")):n.algError?(be(),xe("div",sO,[Ar(De(n.algError)+" ",1),_("button",{class:"link-btn",type:"button",onClick:e[9]||(e[9]=(...P)=>n.fetchAlgorithms&&n.fetchAlgorithms(...P))},"")])):Ke("",!0)]),n.selectedAlgorithm?(be(),xe("div",oO,[_("p",null,[e[25]||(e[25]=_("strong",null,":",-1)),Ar(" "+De(n.getAlgorithmDescription()),1)]),_("p",null,[e[26]||(e[26]=_("strong",null,":",-1)),Ar(" "+De(n.getAlgorithmParams()),1)])])):Ke("",!0)]),_("div",lO,[_("button",{onClick:e[10]||(e[10]=(...P)=>n.startIdentification&&n.startIdentification(...P)),disabled:!n.canStartIdentification,class:"btn btn-primary"},"  ",8,uO),_("button",{onClick:e[11]||(e[11]=(...P)=>n.resetForm&&n.resetForm(...P)),class:"btn btn-secondary"},"  ")])]),_("div",cO,[(n.visualLoading||n.visualError||n.visualData)&&!(n.tempSelectedFile&&((h=n.tempSelectedFile)==null?void 0:h.id)!==((d=n.selectedExistingFile)==null?void 0:d.id))?(be(),xe("div",fO,[e[29]||(e[29]=_("h2",null,"",-1)),n.visualLoading?(be(),xe("div",dO,e[28]||(e[28]=[_("p",null,"...",-1)]))):n.visualError?(be(),xe("div",hO,[_("p",null,De(n.visualError),1),_("div",vO,[_("button",{class:"btn btn-primary",disabled:!n.selectedExistingFile,onClick:e[12]||(e[12]=P=>n.visualizeNetwork(n.selectedExistingFile))},"",8,gO),_("button",{class:"btn btn-secondary",onClick:e[13]||(e[13]=(...P)=>n.clearVisualization&&n.clearVisualization(...P))},"")])])):(be(),xe("div",pO,[_("div",mO,[_("span",null,""+De(n.getFileNameWithoutExt((g=(v=n.visualData)==null?void 0:v.file)==null?void 0:g.original_name)),1),_("span",null,""+De(((b=(m=(p=n.visualData)==null?void 0:p.graph)==null?void 0:m.meta)==null?void 0:b.nodes)||0),1),_("span",null,""+De(((x=(w=(y=n.visualData)==null?void 0:y.graph)==null?void 0:w.meta)==null?void 0:x.edges)||0),1),(N=(C=(D=n.visualData)==null?void 0:D.graph)==null?void 0:C.meta)!=null&&N.truncated?(be(),xe("span",yO," "+De((F=(O=(k=n.visualData)==null?void 0:k.graph)==null?void 0:O.meta)==null?void 0:F.max_edges)+" ",1)):Ke("",!0)]),(S=n.visualData)!=null&&S.graph?(be(),Ea(o,{key:0,graph:n.visualData.graph,height:"480px"},null,8,["graph"])):Ke("",!0),_("div",bO,[_("button",{class:"btn btn-secondary",onClick:e[14]||(e[14]=(...P)=>n.clearVisualization&&n.clearVisualization(...P))},"")])]))])):Ke("",!0),_("div",wO,[e[36]||(e[36]=_("h2",null,"",-1)),n.isProcessing?(be(),xe("div",EO,[_("div",xO,[_("div",{class:"progress-fill",style:Zn({width:n.progress+"%"})},null,4)]),_("p",CO,"... "+De(n.progress)+"%",1),_("p",TO,De(n.statusMessage),1)])):n.results.length>0?(be(),xe("div",SO,[_("div",{class:Rt(["results-summary",{"is-single":n.networkNodeCount>0&&n.networkNodeCount<10}])},[_("div",AO,[e[30]||(e[30]=_("span",{class:"label"},":",-1)),_("span",DO,De(n.networkNodeCount),1)]),n.networkNodeCount>0&&n.networkNodeCount<10?(be(),xe("div",MO,e[33]||(e[33]=[_("span",{class:"label"},":",-1),_("span",{class:"value"},"",-1)]))):(be(),xe("div",RO,[e[32]||(e[32]=_("span",{class:"label"}," Top-K:",-1)),ut(_("select",{"onUpdate:modelValue":e[15]||(e[15]=P=>n.topK=P),class:"topk-select"},e[31]||(e[31]=[_("option",{value:10},"Top-10",-1),_("option",{value:20},"Top-20",-1),_("option",{value:50},"Top-50",-1),_("option",{value:100},"Top-100",-1)]),512),[[rs,n.topK,void 0,{number:!0}]]),_("span",LO," "+De(n.effectiveTopK)+" ",1)]))],2),_("div",PO,[_("table",NO,[e[34]||(e[34]=_("thead",null,[_("tr",null,[_("th",null,""),_("th",null,""),_("th",null,"")])],-1)),_("tbody",null,[(be(!0),xe(ft,null,pr(n.displayedResults,(P,E)=>(be(),xe("tr",{key:E},[_("td",null,De(E+1),1),_("td",OO,De(P.input),1),_("td",kO,De(n.formatResultValue(P.output)),1)]))),128))])])]),_("div",IO,[_("button",{onClick:e[16]||(e[16]=(...P)=>n.exportResults&&n.exportResults(...P)),class:"btn btn-primary"},"  "),_("button",{onClick:e[17]||(e[17]=(...P)=>n.clearResults&&n.clearResults(...P)),class:"btn btn-secondary"},"  ")])])):(be(),xe("div",FO,e[35]||(e[35]=[_("p",null,"",-1),_("p",{class:"hint"},'""',-1)])))])])])])}const _O=hr(bN,[["render",BO],["__scopeId","data-v-a494ef6e"]]),zO=[{path:"/",redirect:"/login"},{path:"/login",component:bC},{path:"/register",component:AC},{path:"/",component:GC,meta:{requiresAuth:!0},children:[{path:"dashboard",component:PT},{path:"users",component:UT},{path:"algorithms",component:AS},{path:"files",component:sA},{path:"identification",component:_O},{path:"settings",component:cA},{path:"home",redirect:"/dashboard"},{path:"",redirect:"/dashboard"}]},{path:"/home",redirect:"/dashboard"},{path:"/:pathMatch(.*)*",redirect:"/dashboard"}],hd=RE({history:nE(),routes:zO});hd.beforeEach((t,e,r)=>{const n=typeof window<"u"?localStorage.getItem("token"):null;if(t.matched.some(a=>a.meta&&a.meta.requiresAuth)&&!n){const a=encodeURIComponent(t.fullPath||"/dashboard");r({path:"/login",query:{redirect:a}})}else if((t.path==="/login"||t.path==="/register")&&n){const a=t.query.redirect?decodeURIComponent(t.query.redirect):"/dashboard";r(a)}else r()});Je.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers=t.headers||{},t.headers.Authorization=`Bearer ${e}`),t});Je.interceptors.response.use(t=>t,t=>{var e;if(((e=t==null?void 0:t.response)==null?void 0:e.status)===401){localStorage.removeItem("token"),localStorage.removeItem("user");const r=encodeURIComponent(window.location.pathname+window.location.search);hd.push({path:"/login",query:{redirect:r}})}return Promise.reject(t)});Ew(Aw).use(hd).mount("#app");
